<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Angharad by babelouest</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Angharad</h1>
      <h2 class="project-tagline">House automation system with a REST/Json interface</h2>
      <a href="https://github.com/babelouest/angharad" class="btn">View on GitHub</a>
      <a href="https://github.com/babelouest/angharad/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/babelouest/angharad/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="angharad" class="anchor" href="#angharad" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Angharad</h1>

<p>House automation system API server</p>

<p><img src="https://github.com/babelouest/sagremor/raw/master/snapshots/dashboard-filled.png" alt="example snapshot">
Central program and orchestrator of the following submodules:</p>

<ul>
<li>
<a href="https://github.com/babelouest/benoic">Benoic</a>: Command house automation devices as lights, heaters, sensors, switches. Currently <a href="http://www.z-wave.com/">ZWave</a> and <a href="https://github.com/babelouest/taulas">Taulas</a> devices are supported</li>
<li>
<a href="https://github.com/babelouest/carleon">Carleon</a>: Command house automation side services (music, camera, etc)</li>
<li>
<a href="https://github.com/babelouest/gareth">Gareth</a>: Logs and messenger service</li>
</ul>

<p>Angharad integrates all those submodules functionnalities and manages scripts, events, user profiles, and a small static file server.</p>

<p>Benoic and Carleon implement a dynamic lbrary loading interface to add/remove/update modules without having to recompile all the system every time an update or an improvement is made.</p>

<p>Each module are compiled independently and have its own dependencies.</p>

<h1>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h1>

<p>All Angharad system, its submodules and its custom libraries are written in C language, for better preformance and lightweight resources consumption. GCC and Makefile were used for the development.</p>

<h2>
<a id="external-dependencies" class="anchor" href="#external-dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>External dependencies</h2>

<h3>
<a id="tldr" class="anchor" href="#tldr" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TL;DR</h3>

<p>On Debian-based systems (Debian, Raspbian, Ubuntu), use the following comand to install dependencies:</p>

<div class="highlight highlight-source-shell"><pre>sudo apt-get install libmicrohttpd-dev libjansson-dev libcurl4-gnutls-dev uuid-dev libldap2-dev libmysqlclient-dev libsqlite3-dev libconfig-dev

git clone https://github.com/babelouest/orcania.git
<span class="pl-c1">cd</span> orcania
make
sudo make install

git clone https://github.com/babelouest/yder.git
<span class="pl-c1">cd</span> yder/src
make
sudo make install

git clone https://github.com/babelouest/ulfius.git
<span class="pl-c1">cd</span> ulfius/src
make
sudo make install

git clone https://github.com/babelouest/hoel.git
<span class="pl-c1">cd</span> hoel/src
make
sudo make install</pre></div>

<p>The following external libraries are required to build Angharad:</p>

<ul>
<li>
<a href="https://sourceforge.net/projects/libuuid/">libuuid</a>, UUID generator</li>
<li>
<a href="http://www.openldap.org/devel//cvsweb.cgi/libraries/libldap?hideattic=0&amp;sortbydate=0">libldap</a>, ldap API</li>
<li>
<a href="http://www.hyperrealm.com/libconfig/">libconfig</a>, Configuration File Library</li>
<li>
<a href="http://www.digip.org/jansson/">jansson</a>, json manipulation library</li>
</ul>

<p>The following other external libraries are required to build angharad dependencies:</p>

<ul>
<li>
<a href="https://www.gnu.org/software/libmicrohttpd/">libmicrohttpd</a>, HTTP server library</li>
<li>
<a href="https://curl.haxx.se/libcurl/">libcurl</a>, HTTP client library</li>
<li>
<a href="https://dev.mysql.com/doc/refman/5.7/en/c-api.html">MySQL client API</a>, MySQL/MariaDB API</li>
<li>
<a href="https://www.sqlite.org/">SQLite3</a>, SQLite API</li>
</ul>

<p>And finally, Angharad depends on the following libraries:</p>

<ul>
<li>
<a href="https://github.com/babelouest/orcania">Orcania</a>, Potluck with different functions for different purposes that can be shared among angharad programs</li>
<li>
<a href="https://github.com/babelouest/yder">Yder</a>, Logging library</li>
<li>
<a href="https://github.com/babelouest/ulfius">Ulfius</a>, Web Framework for REST Applications</li>
<li>
<a href="https://github.com/babelouest/hoel">Hoel</a>, Database abstraction library</li>
</ul>

<h2>
<a id="benoic-modules-prerequisites" class="anchor" href="#benoic-modules-prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Benoic modules prerequisites</h2>

<p>Benoic implements a ZWave module to control ZWave nodes and a <a href="https://github.com/babelouest/taulas">Taulas</a> module.</p>

<p>The Benoic module is based on the <a href="http://www.openzwave.net/">OpenZwave library</a>. You must download and install this library before installing benoic zwave device module, version 1.2 or above, preferably a stable version.</p>

<h2>
<a id="carleon-modules-prerequisites" class="anchor" href="#carleon-modules-prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Carleon modules prerequisites</h2>

<p>Carleon modules available are the following:</p>

<ul>
<li>Motion control, to view pictures and real-time streams of a motion application</li>
<li>MPD Control, for basic control of a MPD instance: volume, play/pause/stop and playlist loading, depends on <a href="https://www.musicpd.org/libs/libmpdclient/">libmpdclient</a> (<code>apt-get install libmpdclient-dev</code>)</li>
<li>Liquidsoap Control, for basic control of a <a href="http://liquidsoap.fm/">liquidsoap</a> based webradio: play/stop/next and view the 10 last played songs</li>
</ul>

<h1>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h1>

<h2>
<a id="main-system-compilation" class="anchor" href="#main-system-compilation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Main system compilation</h2>

<p>When all prerequisites are installed, clone angharad from github, and git install submodules:</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/babelouest/angharad.git
<span class="pl-c1">cd</span> angharad
git submodule update --init
make</pre></div>

<p>This will compile angharad program, and all device-modules for Benoic and services for Carleon.</p>

<h2>
<a id="full-system-installation" class="anchor" href="#full-system-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Full system installation</h2>

<p>Go back to angharad source folder, then as root, run <code>make install</code>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> angharad
sudo make install</pre></div>

<h2>
<a id="benoic-modules" class="anchor" href="#benoic-modules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Benoic modules</h2>

<p>Benoic modules are located in the folder <code>benoic/device-modules</code>. If you want to adapt or change the modules for your needs, you can manually compile them.</p>

<p>The module named <code>device-mock.c</code> is a mock device that is used to test the behaviour of a module with benoic and angharad systems. A mock device doesn't control any real hardware, but simulates the behaviour of a device. You can use it to help you write your own device module.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> benoic/device-modules
make libdevzwave.so <span class="pl-c"># For ZWave device</span>
make libdevtaulas.so <span class="pl-c"># For Taulas device</span>
make libdevmock.so <span class="pl-c"># For mock device</span>
sudo make install <span class="pl-c"># to install compiled devices in $PREFIX/lib/angharad/benoic directory</span></pre></div>

<h2>
<a id="carleon-modules" class="anchor" href="#carleon-modules" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Carleon modules</h2>

<p>Carleon service are located in the folder <code>carleon/service-modules/</code>.</p>

<p>The service named <code>service-mock.c</code> is a mock service that is used to test the behaviour of a service with carleon and angharad systems. A mock service doesn't control any real service, but simulates one. You can use it to help you write your own service.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> carleon/service-modules/
make libservicemotion.so <span class="pl-c"># For Motion service</span>
make libservicempd.so <span class="pl-c"># For MPD service</span>
make libserviceliquidsoap.so <span class="pl-c"># For MPD service</span>
make libservicemock.so <span class="pl-c"># For mock service</span>
sudo make install <span class="pl-c"># to install compiled devices in $PREFIX/lib/angharad/carleon directory</span></pre></div>

<h2>
<a id="database-installation" class="anchor" href="#database-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database installation</h2>

<p>Depending on your needs, you can use a sqlite3 database (single file, fast and reliable) or a MySQL Database (fast and reliable as well but also more secure).</p>

<h3>
<a id="mysql-installation" class="anchor" href="#mysql-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MySQL Installation</h3>

<p>Run the SQL script angharad.mariadb.sql file under an already existing database.</p>

<div class="highlight highlight-source-shell"><pre>mysql <span class="pl-k">&lt;</span> angharad.mariadb.sql</pre></div>

<h3>
<a id="sqlite3-installation" class="anchor" href="#sqlite3-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SQLite3 installation</h3>

<p>Run the SQL script angharad.sqlite3.sql file in an existing or a new SQLite3 database file:</p>

<div class="highlight highlight-source-shell"><pre>sqlite3 angharad.db <span class="pl-k">&lt;</span> angharad.sqlite3.sql</pre></div>

<h1>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h1>

<p>The file angharad.conf.sample contains a sample file with all the configuration parameters needed, just fill the parameters with your own environment. Paths can be relatives or absolute.</p>

<p>Copy <code>angharad.conf.sample</code> into your configuration folder as <code>angharad.conf</code></p>

<div class="highlight highlight-source-shell"><pre>cp angharad.conf.sample /usr/local/etc/angharad.conf</pre></div>

<h2>
<a id="static-file-server" class="anchor" href="#static-file-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static file server</h2>

<p><code>static_files_path</code> and <code>static_files_prefix</code> are used for the static files server, in this case, <a href="https://github.com/babelouest/sagremor">Sagremor</a> is the dedicated web application and can be hosted there.</p>

<p>Beware that the static web server is not secured with SSL connection, so don't use it outside a trusted network. i.e., don't forward ports directly outside your network.</p>

<p>If you want to access angharad in a secure connection, you can use apache <code>mod_proxy</code> and an https instance for example, and embed angharad access in it.</p>

<h2>
<a id="database" class="anchor" href="#database" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database</h2>

<p>Specify the database parameters in the <code>database {}</code> block, depending on your database configuration (SQLite3 or MySQL).</p>

<h2>
<a id="authentication" class="anchor" href="#authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication</h2>

<p>Currently, 2 types of authentication are supported, database users or LDAP authentication. If you use database authentication, you can manage users with the dedicated API.</p>

<p>Please note that users and profile are not linked, any authenticated user can use any profile.</p>

<h1>
<a id="run-angharad" class="anchor" href="#run-angharad" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Angharad</h1>

<p>To run angharad, simply execute the command:</p>

<div class="highlight highlight-source-shell"><pre>/usr/local/bin/angharad --config-file=/usr/local/etc/angharad.conf</pre></div>

<p>Check the log messages in the log file, syslog or the console, depending on your configuration, then the server will be up and running when you'll se the following log message:</p>

<pre lang="log"><code>yyyy-mm-dd hh:mm:ss - Angharad INFO: Start angharad on port 2473
</code></pre>

<p>Now you can access Angharad API via a third party application like <a href="https://github.com/babelouest/sagremor">Sagremor</a>.</p>

<h1>
<a id="angharad-api-documentation" class="anchor" href="#angharad-api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Angharad API Documentation</h1>

<p>Angharad has several endpoints with their own format. Here is the full documentaition of the REST API.</p>

<p>All the return data are in JSON format.</p>

<p>Except fo static file API, all URL have the prefix called <code>ANGHARAD_PREFIX</code>, default is <code>/angharad</code>. All the URLs given in this dcumentation (Except for static files) are relative to <code>ANGHARAD_PREFIX</code>.</p>

<h2>
<a id="authentication-1" class="anchor" href="#authentication-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication</h2>

<p>Except when mentionned otherwise, all endpoints require a valid authentication token located in the header or in the cookies. The header or cookies key must be called <code>"ANGHARAD_SESSION_ID"</code> and the value must be a valid token value returned b a previous successfull login.</p>

<h2>
<a id="submodules-management" class="anchor" href="#submodules-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Submodules management</h2>

<h3>
<a id="get-all-submodules-available" class="anchor" href="#get-all-submodules-available" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all submodules available</h3>

<h4>
<a id="url" class="anchor" href="#url" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/submodule/</code></p>

<h4>
<a id="method" class="anchor" href="#method" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response" class="anchor" href="#success-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[
    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, max <span class="pl-c1">64</span> characters
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, max <span class="pl-c1">128</span> characters
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span> boolean
    }
]</pre></div>

<h4>
<a id="error-response" class="anchor" href="#error-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-submodule-specified" class="anchor" href="#get-submodule-specified" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get submodule specified</h3>

<h4>
<a id="url-1" class="anchor" href="#url-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/submodule/@submodule_name</code></p>

<h4>
<a id="method-1" class="anchor" href="#method-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters" class="anchor" href="#url-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@submodule_name</code>: Submodule name to look for</p>

<h4>
<a id="success-response-1" class="anchor" href="#success-response-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, max <span class="pl-c1">64</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, max <span class="pl-c1">128</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span> boolean
}</pre></div>

<h4>
<a id="error-response-1" class="anchor" href="#error-response-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Submodule <code>@submodule_name</code>not found</p>

<h3>
<a id="enable-or-disable-submodule" class="anchor" href="#enable-or-disable-submodule" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable or disable submodule</h3>

<h4>
<a id="url-2" class="anchor" href="#url-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/submodule/@submodule_name/enable/@enabled</code></p>

<h4>
<a id="method-2" class="anchor" href="#method-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-1" class="anchor" href="#url-parameters-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@submodule_name</code>: Submodule name to look for</p>

<p><code>@enabled</code>: 0 (disable) or 1 (enable)</p>

<h4>
<a id="success-response-2" class="anchor" href="#success-response-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-2" class="anchor" href="#error-response-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Submodule <code>@submodule_name</code>not found</p>

<h2>
<a id="scripts-management" class="anchor" href="#scripts-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Scripts management</h2>

<h3>
<a id="get-all-scripts-available" class="anchor" href="#get-all-scripts-available" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all scripts available</h3>

<h4>
<a id="url-3" class="anchor" href="#url-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script</code></p>

<h4>
<a id="method-3" class="anchor" href="#method-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-3" class="anchor" href="#success-response-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[
    {

        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">64</span> characters, required
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">128</span> characters, optional
        <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
            <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
                string, maximum <span class="pl-c1">64</span> characters
            ] Maximum <span class="pl-c1">128</span> tags
        },
        <span class="pl-s"><span class="pl-pds">"</span>actions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            {
                <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
                <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
                <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                    <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
                    <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                },
                <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> string<span class="pl-k">|</span>number, command to send to the element, required
            }
        ]

    }
]</pre></div>

<h4>
<a id="error-response-3" class="anchor" href="#error-response-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-script-by-its-name" class="anchor" href="#get-script-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get script by its name</h3>

<h4>
<a id="url-4" class="anchor" href="#url-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/@script_name</code></p>

<h4>
<a id="method-4" class="anchor" href="#method-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-2" class="anchor" href="#url-parameters-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong>
<code>@script_name</code>: script name</p>

<h4>
<a id="success-response-4" class="anchor" href="#success-response-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">64</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">128</span> characters, optional
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
    <span class="pl-s"><span class="pl-pds">"</span>actions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
        {
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
            },
            <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> string<span class="pl-k">|</span>number, command to send to the element, required
        }
    ]

}</pre></div>

<h4>
<a id="error-response-4" class="anchor" href="#error-response-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Script not found</p>

<h3>
<a id="add-new-script" class="anchor" href="#add-new-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add new script</h3>

<h4>
<a id="url-5" class="anchor" href="#url-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/</code></p>

<h4>
<a id="method-5" class="anchor" href="#method-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters" class="anchor" href="#data-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">64</span> characters, must be a <span class="pl-k">new</span> <span class="pl-en">name</span>, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">128</span> characters, optional
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
    <span class="pl-s"><span class="pl-pds">"</span>actions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
        {
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
            },
            <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> string<span class="pl-k">|</span>number, command to send to the element, required
        }
    ]

}</pre></div>

<h4>
<a id="success-response-5" class="anchor" href="#success-response-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-5" class="anchor" href="#error-response-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-a-script" class="anchor" href="#modify-a-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify a script</h3>

<h4>
<a id="url-6" class="anchor" href="#url-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/@script_name</code></p>

<h4>
<a id="method-6" class="anchor" href="#method-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-3" class="anchor" href="#url-parameters-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@script_name</code>: Script name</p>

<h4>
<a id="data-parameters-1" class="anchor" href="#data-parameters-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, maximum <span class="pl-c1">128</span> characters, optional
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
    <span class="pl-s"><span class="pl-pds">"</span>actions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
        {
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span> string<span class="pl-k">|</span>number, command to send to the element, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
            }
        }
    ]

}</pre></div>

<h4>
<a id="success-response-6" class="anchor" href="#success-response-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-6" class="anchor" href="#error-response-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="remove-a-script" class="anchor" href="#remove-a-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove a script</h3>

<h4>
<a id="url-7" class="anchor" href="#url-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/@script_name</code></p>

<h4>
<a id="method-7" class="anchor" href="#method-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-4" class="anchor" href="#url-parameters-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@script_name</code>: Script name</p>

<h4>
<a id="success-response-7" class="anchor" href="#success-response-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-7" class="anchor" href="#error-response-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Script not found</p>

<h3>
<a id="add-tag-to-script" class="anchor" href="#add-tag-to-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add tag to script</h3>

<h4>
<a id="url-8" class="anchor" href="#url-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/@script_name/@tag</code></p>

<h4>
<a id="method-8" class="anchor" href="#method-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-5" class="anchor" href="#url-parameters-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@tag</code>: tag value, maximum 64 characters, maximum 128 tags per element</p>

<p><code>@script_name</code>: Script name</p>

<h4>
<a id="success-response-8" class="anchor" href="#success-response-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-8" class="anchor" href="#error-response-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>script not found</p>

<h3>
<a id="delete-tag-from-script" class="anchor" href="#delete-tag-from-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete tag from script</h3>

<h4>
<a id="url-9" class="anchor" href="#url-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/@script_name/@tag</code></p>

<h4>
<a id="method-9" class="anchor" href="#method-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-6" class="anchor" href="#url-parameters-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@tag</code>: tag value, maximum 64 characters, maximum 128 tags per element</p>

<p><code>@script_name</code>: Script name</p>

<h4>
<a id="success-response-9" class="anchor" href="#success-response-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-9" class="anchor" href="#error-response-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>script or tag not found</p>

<h3>
<a id="run-script" class="anchor" href="#run-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run script</h3>

<h4>
<a id="url-10" class="anchor" href="#url-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/script/@script_name/run</code></p>

<h4>
<a id="method-10" class="anchor" href="#method-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-7" class="anchor" href="#url-parameters-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@script_name</code>: Script name</p>

<h4>
<a id="success-response-10" class="anchor" href="#success-response-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-10" class="anchor" href="#error-response-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404
Script not found</p>

<h2>
<a id="schedulers-management" class="anchor" href="#schedulers-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Schedulers management</h2>

<h3>
<a id="get-all-schedulers" class="anchor" href="#get-all-schedulers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all schedulers</h3>

<h4>
<a id="url-11" class="anchor" href="#url-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/</code></p>

<h4>
<a id="method-11" class="anchor" href="#method-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-11" class="anchor" href="#success-response-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts

    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">64</span> characters max
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">128</span> characters max
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        <span class="pl-s"><span class="pl-pds">"</span>repeat<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, values possible are <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">:</span> None, <span class="pl-c1">0</span><span class="pl-k">:</span> minute, <span class="pl-c1">1</span><span class="pl-k">:</span> hours, <span class="pl-c1">2</span><span class="pl-k">:</span> days, <span class="pl-c1">3</span><span class="pl-k">:</span> day <span class="pl-k">of</span> week, <span class="pl-c1">4</span><span class="pl-k">:</span> month, <span class="pl-c1">5</span><span class="pl-k">:</span> year
        <span class="pl-s"><span class="pl-pds">"</span>repeat_value<span class="pl-pds">"</span></span><span class="pl-k">:</span>positive integer
        <span class="pl-s"><span class="pl-pds">"</span>next_time<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, next launch <span class="pl-k">in</span> <span class="pl-c1">UNIX</span> <span class="pl-c1">EPOCH</span> format
        <span class="pl-s"><span class="pl-pds">"</span>remove_after<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, <span class="pl-k">if</span> <span class="pl-c1">true</span>, <span class="pl-v">this</span> scheduler will be autmatically removed when done
        <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects
            {
                <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>
                <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean
                <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
                <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
                <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                    <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                    <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
                },
            }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run
            {
                <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>script name
                <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
            <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
                string, maximum <span class="pl-c1">64</span> characters
            ] Maximum <span class="pl-c1">128</span> tags
        },
    }

]</pre></div>

<h4>
<a id="error-response-11" class="anchor" href="#error-response-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-scheduler-by-its-name" class="anchor" href="#get-scheduler-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get scheduler by its name</h3>

<h4>
<a id="url-12" class="anchor" href="#url-12" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/@scheduler_name</code></p>

<h4>
<a id="method-12" class="anchor" href="#method-12" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-8" class="anchor" href="#url-parameters-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@scheduler_name</code>: Scheduler name</p>

<h4>
<a id="success-response-12" class="anchor" href="#success-response-12" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200
Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">64</span> characters max
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">128</span> characters max
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>repeat<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, values possible are <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">:</span> None, <span class="pl-c1">0</span><span class="pl-k">:</span> minute, <span class="pl-c1">1</span><span class="pl-k">:</span> hours, <span class="pl-c1">2</span><span class="pl-k">:</span> days, <span class="pl-c1">3</span><span class="pl-k">:</span> day <span class="pl-k">of</span> week, <span class="pl-c1">4</span><span class="pl-k">:</span> month, <span class="pl-c1">5</span><span class="pl-k">:</span> year
    <span class="pl-s"><span class="pl-pds">"</span>repeat_value<span class="pl-pds">"</span></span><span class="pl-k">:</span>positive integer
    <span class="pl-s"><span class="pl-pds">"</span>next_time<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, next launch <span class="pl-k">in</span> <span class="pl-c1">UNIX</span> <span class="pl-c1">EPOCH</span> format
    <span class="pl-s"><span class="pl-pds">"</span>remove_after<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, <span class="pl-k">if</span> <span class="pl-c1">true</span>, <span class="pl-v">this</span> scheduler will be autmatically removed when done
    <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects
        {
            <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
            },
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>script name
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
}</pre></div>

<h4>
<a id="error-response-12" class="anchor" href="#error-response-12" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Scheduler not found</p>

<h3>
<a id="enable-or-disable-a-scheduler" class="anchor" href="#enable-or-disable-a-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable or disable a scheduler</h3>

<h4>
<a id="url-13" class="anchor" href="#url-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/@scheduler_name/enable/@enabled</code></p>

<h4>
<a id="method-13" class="anchor" href="#method-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-9" class="anchor" href="#url-parameters-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@scheduler_name</code>: Scheduler name</p>

<p><code>@enabled</code>: 1 (true) or 0 (false)</p>

<h4>
<a id="success-response-13" class="anchor" href="#success-response-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-13" class="anchor" href="#error-response-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>OR</p>

<p>Code 404</p>

<p>Scheduler not found</p>

<h3>
<a id="add-a-new-scheduler" class="anchor" href="#add-a-new-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new scheduler</h3>

<h4>
<a id="url-14" class="anchor" href="#url-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/</code></p>

<h4>
<a id="method-14" class="anchor" href="#method-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-2" class="anchor" href="#data-parameters-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">64</span> characters max, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">128</span> characters max
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
    <span class="pl-s"><span class="pl-pds">"</span>repeat<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, values possible are <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">:</span> None, <span class="pl-c1">0</span><span class="pl-k">:</span> minute, <span class="pl-c1">1</span><span class="pl-k">:</span> hours, <span class="pl-c1">2</span><span class="pl-k">:</span> days, <span class="pl-c1">3</span><span class="pl-k">:</span> day <span class="pl-k">of</span> week, <span class="pl-c1">4</span><span class="pl-k">:</span> month, <span class="pl-c1">5</span><span class="pl-k">:</span> year, required
    <span class="pl-s"><span class="pl-pds">"</span>repeat_value<span class="pl-pds">"</span></span><span class="pl-k">:</span>positive integer, required
    <span class="pl-s"><span class="pl-pds">"</span>remove_after<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, <span class="pl-k">if</span> <span class="pl-c1">true</span>, <span class="pl-v">this</span> scheduler will be autmatically removed when done
    <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects, conditions are optional
        {
            <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>, required
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean, required
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
            },
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run, at least one scrit is required
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>script name, required
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
}</pre></div>

<h4>
<a id="success-response-14" class="anchor" href="#success-response-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-14" class="anchor" href="#error-response-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-scheduler" class="anchor" href="#modify-an-existing-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing scheduler</h3>

<h4>
<a id="url-15" class="anchor" href="#url-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/@scheduler_name</code></p>

<h4>
<a id="method-15" class="anchor" href="#method-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-10" class="anchor" href="#url-parameters-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@scheduler_name</code>: Scheduler name</p>

<h4>
<a id="data-parameters-3" class="anchor" href="#data-parameters-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, <span class="pl-c1">128</span> characters max
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
    <span class="pl-s"><span class="pl-pds">"</span>repeat<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, values possible are <span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">:</span> None, <span class="pl-c1">0</span><span class="pl-k">:</span> minute, <span class="pl-c1">1</span><span class="pl-k">:</span> hours, <span class="pl-c1">2</span><span class="pl-k">:</span> days, <span class="pl-c1">3</span><span class="pl-k">:</span> day <span class="pl-k">of</span> week, <span class="pl-c1">4</span><span class="pl-k">:</span> month, <span class="pl-c1">5</span><span class="pl-k">:</span> year, required
    <span class="pl-s"><span class="pl-pds">"</span>repeat_value<span class="pl-pds">"</span></span><span class="pl-k">:</span>positive integer, required
    <span class="pl-s"><span class="pl-pds">"</span>remove_after<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, <span class="pl-k">if</span> <span class="pl-c1">true</span>, <span class="pl-v">this</span> scheduler will be autmatically removed when done
    <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects, conditions are optional
        {
            <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>, required
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean, required
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
            },
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run, at least one scrit is required
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>script name, required
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
}</pre></div>

<h4>
<a id="success-response-15" class="anchor" href="#success-response-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-15" class="anchor" href="#error-response-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Scheduler not found</p>

<h3>
<a id="remove-a-scheduler" class="anchor" href="#remove-a-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove a scheduler</h3>

<h4>
<a id="url-16" class="anchor" href="#url-16" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/@scheduler_name</code></p>

<h4>
<a id="method-16" class="anchor" href="#method-16" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-11" class="anchor" href="#url-parameters-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@scheduler_name</code>: Scheduler name</p>

<h4>
<a id="success-response-16" class="anchor" href="#success-response-16" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-16" class="anchor" href="#error-response-16" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Scheduler not found</p>

<h3>
<a id="add-a-new-tag-to-a-scheduler" class="anchor" href="#add-a-new-tag-to-a-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new tag to a scheduler</h3>

<h4>
<a id="url-17" class="anchor" href="#url-17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/@scheduler_name/@tag</code></p>

<h4>
<a id="method-17" class="anchor" href="#method-17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-12" class="anchor" href="#url-parameters-12" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@scheduler_name</code>: Scheduler name</p>

<p><code>@tag</code>: Tag value, maximum 64 characters, maximum 128 tags per scheduler</p>

<h4>
<a id="success-response-17" class="anchor" href="#success-response-17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-17" class="anchor" href="#error-response-17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>OR</p>

<p>Code 404</p>

<p>Scheduler not found</p>

<h3>
<a id="remove-a-tag-from-a-scheduler" class="anchor" href="#remove-a-tag-from-a-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove a tag from a scheduler</h3>

<h4>
<a id="url-18" class="anchor" href="#url-18" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/scheduler/@scheduler_name/@tag</code></p>

<h4>
<a id="method-18" class="anchor" href="#method-18" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-13" class="anchor" href="#url-parameters-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@scheduler_name</code>: Scheduler name</p>

<p><code>@tag</code>: Tag value</p>

<h4>
<a id="success-response-18" class="anchor" href="#success-response-18" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-18" class="anchor" href="#error-response-18" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Scheduler or tag not found</p>

<h2>
<a id="triggers-management" class="anchor" href="#triggers-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Triggers management</h2>

<h3>
<a id="send-an-external-message" class="anchor" href="#send-an-external-message" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Send an external message</h3>

<p>This endpoint does not require a valid authentication token in the headers or in the cookies.</p>

<p>It's used to send an external message in Angharad. If a trigger matches this message, its scripts will be run.</p>

<h4>
<a id="url-19" class="anchor" href="#url-19" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/alert/@submodule_name/@source/@element/@message/</code></p>

<h4>
<a id="method-19" class="anchor" href="#method-19" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-14" class="anchor" href="#url-parameters-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@submodule_name</code>: string, submodule name of the sender (benoic or carleon)</p>

<p><code>@source</code>: string, source of the sender</p>

<p><code>@element</code>: string, sender element</p>

<p><code>@message</code>: string, message sent</p>

<h4>
<a id="success-response-19" class="anchor" href="#success-response-19" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-19" class="anchor" href="#error-response-19" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-all-triggers" class="anchor" href="#get-all-triggers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all triggers</h3>

<h4>
<a id="url-20" class="anchor" href="#url-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/</code></p>

<h4>
<a id="method-20" class="anchor" href="#method-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-20" class="anchor" href="#success-response-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> trigger objects

    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">64</span> characters
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">128</span> characters
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon)
        <span class="pl-s"><span class="pl-pds">"</span>source<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, source <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex device <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters
        <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex element name <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters
        <span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, message value to match
        <span class="pl-s"><span class="pl-pds">"</span>message_match<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, message match type, values are <span class="pl-c1">0</span> none, <span class="pl-c1">1</span> equal, <span class="pl-c1">2</span> different, <span class="pl-c1">3</span> contains, <span class="pl-c1">4</span> not contains, <span class="pl-c1">5</span> empty, <span class="pl-c1">6</span> not empty
        <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects
            {
                <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>
                <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean
                <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
                <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
                <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                    <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                    <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
                },
            }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run
            {
                <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, script name
                <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            }
        ],
        <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
            <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
                string, maximum <span class="pl-c1">64</span> characters
            ] Maximum <span class="pl-c1">128</span> tags
        },
    }

]</pre></div>

<h4>
<a id="error-response-20" class="anchor" href="#error-response-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-trigger-by-its-name" class="anchor" href="#get-a-trigger-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a trigger by its name</h3>

<h4>
<a id="url-21" class="anchor" href="#url-21" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/@trigger_name</code></p>

<h4>
<a id="method-21" class="anchor" href="#method-21" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-15" class="anchor" href="#url-parameters-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@trigger_name</code>: trigger name</p>

<h4>
<a id="success-response-21" class="anchor" href="#success-response-21" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">64</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">128</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon)
    <span class="pl-s"><span class="pl-pds">"</span>source<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, source <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex device <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex element name <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, message value to match
    <span class="pl-s"><span class="pl-pds">"</span>message_match<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, message match type, values are <span class="pl-c1">0</span> none, <span class="pl-c1">1</span> equal, <span class="pl-c1">2</span> different, <span class="pl-c1">3</span> contains, <span class="pl-c1">4</span> not contains, <span class="pl-c1">5</span> empty, <span class="pl-c1">6</span> not empty
    <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects
        {
            <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
            },
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, script name
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
}</pre></div>

<h4>
<a id="error-response-21" class="anchor" href="#error-response-21" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>Code 404</p>

<p>trigger not found</p>

<h3>
<a id="enable-or-disable-a-trigger" class="anchor" href="#enable-or-disable-a-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable or disable a trigger</h3>

<h4>
<a id="url-22" class="anchor" href="#url-22" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/@trigger_name/enable/@enabled</code></p>

<h4>
<a id="method-22" class="anchor" href="#method-22" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-16" class="anchor" href="#url-parameters-16" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@trigger_name</code>: trigger name</p>

<p><code>@enabled</code>: 0 (disabled) or 1 (enabled)</p>

<h4>
<a id="success-response-22" class="anchor" href="#success-response-22" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-22" class="anchor" href="#error-response-22" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>OR</p>

<p>Code 404</p>

<p>trigger not found</p>

<h3>
<a id="add-a-new-trigger" class="anchor" href="#add-a-new-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new trigger</h3>

<h4>
<a id="url-23" class="anchor" href="#url-23" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/</code></p>

<h4>
<a id="method-23" class="anchor" href="#method-23" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-4" class="anchor" href="#data-parameters-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">64</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">128</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
    <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
    <span class="pl-s"><span class="pl-pds">"</span>source<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, source <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex device <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex element name <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, message value to match, <span class="pl-en">required</span> (can be empty)
    <span class="pl-s"><span class="pl-pds">"</span>message_match<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, message match type, values are <span class="pl-c1">0</span> none, <span class="pl-c1">1</span> equal, <span class="pl-c1">2</span> different, <span class="pl-c1">3</span> contains, <span class="pl-c1">4</span> not contains, <span class="pl-c1">5</span> empty, <span class="pl-c1">6</span> not empty, required
    <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects, conditions are optional
        {
            <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>, required
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean, required
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
            },
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run, at least one script is required
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, script name, required
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
}</pre></div>

<h4>
<a id="success-response-23" class="anchor" href="#success-response-23" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-23" class="anchor" href="#error-response-23" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-trigger" class="anchor" href="#modify-an-existing-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing trigger</h3>

<h4>
<a id="url-24" class="anchor" href="#url-24" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/@trigger_name</code></p>

<h4>
<a id="method-24" class="anchor" href="#method-24" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-17" class="anchor" href="#url-parameters-17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@trigger_name</code>: trigger name</p>

<h4>
<a id="data-parameters-5" class="anchor" href="#data-parameters-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, max <span class="pl-c1">128</span> characters
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
    <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
    <span class="pl-s"><span class="pl-pds">"</span>source<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, source <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex device <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element <span class="pl-k">of</span> the <span class="pl-en">trigger</span> (ex element name <span class="pl-k">for</span> a benoic element), max <span class="pl-c1">64</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, message value to match, <span class="pl-en">required</span> (can be empty)
    <span class="pl-s"><span class="pl-pds">"</span>message_match<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, message match type, values are <span class="pl-c1">0</span> none, <span class="pl-c1">1</span> equal, <span class="pl-c1">2</span> different, <span class="pl-c1">3</span> contains, <span class="pl-c1">4</span> not contains, <span class="pl-c1">5</span> empty, <span class="pl-c1">6</span> not empty, required
    <span class="pl-s"><span class="pl-pds">"</span>conditions<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> conditions objects, conditions are optional
        {
            <span class="pl-s"><span class="pl-pds">"</span>condition<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">'</span>==<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>!=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&lt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>&gt;=<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>contains<span class="pl-pds">'</span></span> and <span class="pl-s"><span class="pl-pds">'</span>not contains<span class="pl-pds">'</span></span>, required
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string<span class="pl-k">|</span>integer<span class="pl-k">|</span>boolean, required
            <span class="pl-s"><span class="pl-pds">"</span>submodule<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, submodule name <span class="pl-en">available</span> (ex, benoic or carleon), required
            <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, element name, required
            <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                <span class="pl-s"><span class="pl-pds">"</span>device<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, device name, required <span class="pl-k">if</span> submodule is benoic
                <span class="pl-s"><span class="pl-pds">"</span>element_type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element type, required <span class="pl-k">if</span> submodule is benoic
            },
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>scripts<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> scripts to run, at least one script is required
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, script name, required
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, required
        }
    ],
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ optional
        <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[
            string, maximum <span class="pl-c1">64</span> characters
        ] Maximum <span class="pl-c1">128</span> tags
    },
}</pre></div>

<h4>
<a id="success-response-24" class="anchor" href="#success-response-24" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-24" class="anchor" href="#error-response-24" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>trigger not found</p>

<h3>
<a id="remove-an-existing-trigger" class="anchor" href="#remove-an-existing-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove an existing trigger</h3>

<h4>
<a id="url-25" class="anchor" href="#url-25" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/@trigger_name</code></p>

<h4>
<a id="method-25" class="anchor" href="#method-25" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-18" class="anchor" href="#url-parameters-18" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@trigger_name</code>: trigger name</p>

<h4>
<a id="success-response-25" class="anchor" href="#success-response-25" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-25" class="anchor" href="#error-response-25" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Trigger not found</p>

<h3>
<a id="add-a-new-tag-to-a-trigger" class="anchor" href="#add-a-new-tag-to-a-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new tag to a trigger</h3>

<h4>
<a id="url-26" class="anchor" href="#url-26" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/@trigger_name/@tag</code></p>

<h4>
<a id="method-26" class="anchor" href="#method-26" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-19" class="anchor" href="#url-parameters-19" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@trigger_name</code>: Trigger name</p>

<p><code>@tag</code>: Tag value, maximum 64 characters, maximum 128 tags per scheduler</p>

<h4>
<a id="success-response-26" class="anchor" href="#success-response-26" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-26" class="anchor" href="#error-response-26" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>OR</p>

<p>Code 404</p>

<p>Trigger not found</p>

<h3>
<a id="remove-a-tag-from-a-trigger" class="anchor" href="#remove-a-tag-from-a-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove a tag from a trigger</h3>

<h4>
<a id="url-27" class="anchor" href="#url-27" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/trigger/@trigger_name/@tag</code></p>

<h4>
<a id="method-27" class="anchor" href="#method-27" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-20" class="anchor" href="#url-parameters-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@trigger_name</code>: Trigger name</p>

<p><code>@tag</code>: Tag value</p>

<h4>
<a id="success-response-27" class="anchor" href="#success-response-27" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-27" class="anchor" href="#error-response-27" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Trigger or tag not found</p>

<h3>
<a id="profiles-management" class="anchor" href="#profiles-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Profiles management</h3>

<h3>
<a id="get-all-profiles-data" class="anchor" href="#get-all-profiles-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all profiles data</h3>

<h4>
<a id="url-28" class="anchor" href="#url-28" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/profile</code></p>

<h4>
<a id="method-28" class="anchor" href="#method-28" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-28" class="anchor" href="#success-response-28" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[
    any json value as profile data
]</pre></div>

<h4>
<a id="error-response-28" class="anchor" href="#error-response-28" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-profile-by-its-name" class="anchor" href="#get-a-profile-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a profile by its name</h3>

<h4>
<a id="url-29" class="anchor" href="#url-29" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/profile/@profile_id</code></p>

<h4>
<a id="method-29" class="anchor" href="#method-29" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-21" class="anchor" href="#url-parameters-21" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@profile_id</code>: id (name) of the profile</p>

<h4>
<a id="success-response-29" class="anchor" href="#success-response-29" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>any json value as profile data</pre></div>

<h4>
<a id="error-response-29" class="anchor" href="#error-response-29" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>profile not found</p>

<h3>
<a id="update-all-values-of-a-profile" class="anchor" href="#update-all-values-of-a-profile" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Update all values of a profile</h3>

<h4>
<a id="url-30" class="anchor" href="#url-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/profile/@profile_id</code></p>

<h4>
<a id="method-30" class="anchor" href="#method-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>method</code></p>

<h4>
<a id="url-parameters-22" class="anchor" href="#url-parameters-22" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@profile_id</code>: id (name) of the profile</p>

<h4>
<a id="data-parameters-6" class="anchor" href="#data-parameters-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>any json value as profile data</pre></div>

<h4>
<a id="success-response-30" class="anchor" href="#success-response-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-30" class="anchor" href="#error-response-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>profile not found</p>

<h3>
<a id="delete-a-profile-by-its-name" class="anchor" href="#delete-a-profile-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete a profile by its name</h3>

<h4>
<a id="url-31" class="anchor" href="#url-31" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/profile/@profile_id</code></p>

<h4>
<a id="method-31" class="anchor" href="#method-31" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-23" class="anchor" href="#url-parameters-23" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@profile_id</code>: id (name) of the profile</p>

<h4>
<a id="success-response-31" class="anchor" href="#success-response-31" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-31" class="anchor" href="#error-response-31" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>profile not found</p>

<h2>
<a id="authentication-management" class="anchor" href="#authentication-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication management</h2>

<h3>
<a id="check-authentication-token" class="anchor" href="#check-authentication-token" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Check authentication token</h3>

<h4>
<a id="url-32" class="anchor" href="#url-32" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/auth</code></p>

<h4>
<a id="method-32" class="anchor" href="#method-32" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-32" class="anchor" href="#success-response-32" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, the token value
    <span class="pl-s"><span class="pl-pds">"</span>validity<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, date <span class="pl-k">of</span> end <span class="pl-k">of</span> validity <span class="pl-k">for</span> the current token <span class="pl-k">in</span> <span class="pl-c1">UNIX</span> <span class="pl-c1">EPOCH</span> format
}</pre></div>

<h4>
<a id="error-response-32" class="anchor" href="#error-response-32" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<h3>
<a id="check-user-credentials-to-receive-a-valid-authentication-token" class="anchor" href="#check-user-credentials-to-receive-a-valid-authentication-token" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Check user credentials to receive a valid authentication token</h3>

<p>This endpoint does not require a valid authentication token in the headers or the cookies</p>

<p>If the validity sent does not match one in the list below, it will be rounded to the previous value in the list.</p>

<h4>
<a id="url-33" class="anchor" href="#url-33" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/auth</code></p>

<h4>
<a id="method-33" class="anchor" href="#method-33" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-7" class="anchor" href="#data-parameters-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>user<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, required
    <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, required
    <span class="pl-s"><span class="pl-pds">"</span>validity<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer, end <span class="pl-k">of</span> validity <span class="pl-k">in</span> seconds <span class="pl-k">for</span> the sent token, possible values are <span class="pl-c1">0</span><span class="pl-k">:</span> <span class="pl-en">none</span> (end <span class="pl-k">of</span> session), <span class="pl-c1">3600</span><span class="pl-k">:</span> <span class="pl-c1">1</span> hour, <span class="pl-c1">43200</span><span class="pl-k">:</span> <span class="pl-c1">12</span> hours, <span class="pl-c1">86400</span><span class="pl-k">:</span> <span class="pl-c1">1</span> day, <span class="pl-c1">604800</span><span class="pl-k">:</span> <span class="pl-c1">1</span> week, above <span class="pl-c1">1</span> week<span class="pl-k">:</span> <span class="pl-c1">10</span> years
}</pre></div>

<h4>
<a id="success-response-33" class="anchor" href="#success-response-33" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, the token value
    <span class="pl-s"><span class="pl-pds">"</span>validity<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, date <span class="pl-k">of</span> end <span class="pl-k">of</span> validity <span class="pl-k">for</span> the current token <span class="pl-k">in</span> <span class="pl-c1">UNIX</span> <span class="pl-c1">EPOCH</span> format
}</pre></div>

<h4>
<a id="error-response-33" class="anchor" href="#error-response-33" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<h3>
<a id="revoke-current-token" class="anchor" href="#revoke-current-token" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Revoke current token</h3>

<h4>
<a id="url-34" class="anchor" href="#url-34" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/auth</code></p>

<h4>
<a id="method-34" class="anchor" href="#method-34" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="success-response-34" class="anchor" href="#success-response-34" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-34" class="anchor" href="#error-response-34" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>OR</p>

<p>Code 404</p>

<h2>
<a id="users-management" class="anchor" href="#users-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Users management</h2>

<p>These endpoints manage database users only, and only if database users authentication is enabled, otherwise all those endpoints will return an error 404.</p>

<h3>
<a id="get-all-users" class="anchor" href="#get-all-users" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all users</h3>

<h4>
<a id="url-35" class="anchor" href="#url-35" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/user/</code></p>

<h4>
<a id="method-35" class="anchor" href="#method-35" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-35" class="anchor" href="#success-response-35" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ array <span class="pl-k">of</span> users object
    {
        <span class="pl-s"><span class="pl-pds">"</span>login<span class="pl-pds">"</span></span><span class="pl-k">:</span> string
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span>, boolean
    }
]</pre></div>

<h4>
<a id="error-response-35" class="anchor" href="#error-response-35" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-database-user-by-it-login" class="anchor" href="#get-a-database-user-by-it-login" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a database user by it login</h3>

<h4>
<a id="url-36" class="anchor" href="#url-36" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/user/@user_name</code></p>

<h4>
<a id="method-36" class="anchor" href="#method-36" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-24" class="anchor" href="#url-parameters-24" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@user_name</code>: string, login of the user to look for</p>

<h4>
<a id="success-response-36" class="anchor" href="#success-response-36" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>login<span class="pl-pds">"</span></span><span class="pl-k">:</span> string
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span>, boolean
}</pre></div>

<h4>
<a id="error-response-36" class="anchor" href="#error-response-36" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>User not found</p>

<h3>
<a id="add-a-new-database-user" class="anchor" href="#add-a-new-database-user" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new database user</h3>

<h4>
<a id="url-37" class="anchor" href="#url-37" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/user/</code></p>

<h4>
<a id="method-37" class="anchor" href="#method-37" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-8" class="anchor" href="#data-parameters-8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>login<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, must be a <span class="pl-k">new</span> <span class="pl-en">login</span>, max <span class="pl-c1">128</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, password to use, max <span class="pl-c1">128</span> characters, required
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span>, boolean, required
}</pre></div>

<h4>
<a id="success-response-37" class="anchor" href="#success-response-37" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-37" class="anchor" href="#error-response-37" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-database-user" class="anchor" href="#modify-an-existing-database-user" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing database user</h3>

<h4>
<a id="url-38" class="anchor" href="#url-38" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/user/@user_name</code></p>

<h4>
<a id="method-38" class="anchor" href="#method-38" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-25" class="anchor" href="#url-parameters-25" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@user_name</code>: string, login of the user</p>

<h4>
<a id="data-parameters-9" class="anchor" href="#data-parameters-9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, password to use, max <span class="pl-c1">128</span> characters, optional
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span>, boolean, required
}</pre></div>

<h4>
<a id="success-response-38" class="anchor" href="#success-response-38" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-38" class="anchor" href="#error-response-38" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>database user not found</p>

<h3>
<a id="delete-an-existing-database-user" class="anchor" href="#delete-an-existing-database-user" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete an existing database user</h3>

<h4>
<a id="url-39" class="anchor" href="#url-39" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/user/@user_name</code></p>

<h4>
<a id="method-39" class="anchor" href="#method-39" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-26" class="anchor" href="#url-parameters-26" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@user_name</code>: string, login of the user</p>

<h4>
<a id="success-response-39" class="anchor" href="#success-response-39" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-39" class="anchor" href="#error-response-39" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>database user not found</p>

<h2>
<a id="tokens-management" class="anchor" href="#tokens-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tokens management</h2>

<h3>
<a id="get-a-list-of-tokens" class="anchor" href="#get-a-list-of-tokens" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a list of tokens</h3>

<h4>
<a id="url-40" class="anchor" href="#url-40" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/token/</code></p>

<h4>
<a id="method-40" class="anchor" href="#method-40" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-27" class="anchor" href="#url-parameters-27" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Optional</strong></p>

<p><code>login</code>: string, tokens assigned to the specified login</p>

<p><code>enabled</code>: string ("true"|"false"), look for enabled or revoked tokens</p>

<h4>
<a id="success-response-40" class="anchor" href="#success-response-40" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[
    {

        <span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, token value
        <span class="pl-s"><span class="pl-pds">"</span>login<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, login value assigned to the token
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, token valid or revoked
        <span class="pl-s"><span class="pl-pds">"</span>last_seen<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, date <span class="pl-k">of</span> last seen token <span class="pl-k">in</span> <span class="pl-c1">ISO</span> <span class="pl-c1">8601</span> format
        <span class="pl-s"><span class="pl-pds">"</span>validity<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, date <span class="pl-k">of</span> end <span class="pl-k">of</span> validity <span class="pl-k">of</span> the token <span class="pl-k">in</span> <span class="pl-c1">ISO</span> <span class="pl-c1">8601</span> format

    }
]</pre></div>

<h4>
<a id="error-response-40" class="anchor" href="#error-response-40" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<h3>
<a id="revoke-a-token" class="anchor" href="#revoke-a-token" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Revoke a token</h3>

<h4>
<a id="url-41" class="anchor" href="#url-41" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/token/</code></p>

<h4>
<a id="method-41" class="anchor" href="#method-41" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-10" class="anchor" href="#data-parameters-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>token<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, token value

}</pre></div>

<h4>
<a id="success-response-41" class="anchor" href="#success-response-41" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-41" class="anchor" href="#error-response-41" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Token not found</p>

<h2>
<a id="static-files" class="anchor" href="#static-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static files</h2>

<p>Static files are used to host a static website within Angharad</p>

<h3>
<a id="get-a-static-file" class="anchor" href="#get-a-static-file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a static file</h3>

<h4>
<a id="url-42" class="anchor" href="#url-42" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/static_file_prefix/@static_file_path</code></p>

<h4>
<a id="method-42" class="anchor" href="#method-42" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-28" class="anchor" href="#url-parameters-28" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@static_file_path</code>: string, static file path</p>

<h4>
<a id="success-response-42" class="anchor" href="#success-response-42" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<p>raw file content and its content-type in the headers.</p>

<p>Currently, the supported content-types are:</p>

<pre><code>".html": "text/html"
".css": "text/css"
".js": "application/javascript"
".png": "image/png"
".jpeg": "image/jpeg"
".jpg": "image/jpeg"
".ttf": "font/ttf"
".woff": "font/woff"
".woff2": "font/woff2"
".json": "application/json"
".map": "application/octet-stream"
"*": "application/octet-stream"
</code></pre>

<h4>
<a id="error-response-42" class="anchor" href="#error-response-42" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>file not found</p>

<h2>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Options</h2>

<p>This endpoint is used to send OPTIONS parameters for all endpoints</p>

<h3>
<a id="send-options-parameters" class="anchor" href="#send-options-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Send OPTIONS parameters</h3>

<h4>
<a id="url-43" class="anchor" href="#url-43" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>*</code></p>

<h4>
<a id="method-43" class="anchor" href="#method-43" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>OPTIONS</code></p>

<h4>
<a id="success-response-43" class="anchor" href="#success-response-43" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<p>Headers contain all options</p>

<h1>
<a id="benoic-api-documentation" class="anchor" href="#benoic-api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Benoic API Documentation</h1>

<p>Benoic has several endpoints with their own format. Here is the full documentaition of the REST API.</p>

<p>All the return data are in JSON format.</p>

<p>All URL have the prefix called <code>BENOIC_PREFIX</code>, default is <code>/benoic</code>. All the URLs given in this dcumentation are relative to <code>BENOIC_PREFIX</code>.</p>

<h2>
<a id="authentication-2" class="anchor" href="#authentication-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication</h2>

<p>If used within Angharad application, and except when mentionned otherwise, all endpoints require a valid authentication token located in the header or in the cookies. The header or cookies key must be called <code>"ANGHARAD_SESSION_ID"</code> and the value must be a valid token value returned b a previous successfull login.</p>

<h2>
<a id="devices-management" class="anchor" href="#devices-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Devices management</h2>

<h3>
<a id="get-all-device-types" class="anchor" href="#get-all-device-types" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all device types</h3>

<p>Get all the different device types available</p>

<h4>
<a id="url-44" class="anchor" href="#url-44" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/deviceTypes/</code></p>

<h4>
<a id="method-44" class="anchor" href="#method-44" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-44" class="anchor" href="#success-response-44" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> device types
    {

        <span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, uid <span class="pl-k">of</span> the type, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the type, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, descrition <span class="pl-k">of</span> the type, max <span class="pl-c1">512</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c">// Array of options avaiable to ad a new device of this type</span>
            {
                <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the option
                <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>integer<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>float<span class="pl-pds">"</span></span> or <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
                <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, description <span class="pl-k">of</span> the option
                <span class="pl-s"><span class="pl-pds">"</span>optional<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            }
        ],

    }
]</pre></div>

<h4>
<a id="error-response-43" class="anchor" href="#error-response-43" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-all-devices" class="anchor" href="#get-all-devices" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all devices</h3>

<h4>
<a id="url-45" class="anchor" href="#url-45" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/</code></p>

<h4>
<a id="method-45" class="anchor" href="#method-45" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-45" class="anchor" href="#success-response-45" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ array <span class="pl-k">of</span> device objects

    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the device, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>type_uid<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, uid <span class="pl-k">of</span> the device type
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, description <span class="pl-k">for</span> the device, max <span class="pl-c1">512</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        <span class="pl-s"><span class="pl-pds">"</span>connected<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        <span class="pl-s"><span class="pl-pds">"</span>last_seen<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, date <span class="pl-k">of</span> last seen device connected, <span class="pl-k">in</span> <span class="pl-c1">ISO</span> <span class="pl-c1">8601</span> format
        <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ object containing options <span class="pl-k">for</span> the current device
        },
    }

]</pre></div>

<h4>
<a id="error-response-44" class="anchor" href="#error-response-44" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-specific-device-by-its-name" class="anchor" href="#get-a-specific-device-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a specific device by its name</h3>

<h4>
<a id="url-46" class="anchor" href="#url-46" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name</code></p>

<h4>
<a id="method-46" class="anchor" href="#method-46" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-29" class="anchor" href="#url-parameters-29" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="success-response-46" class="anchor" href="#success-response-46" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the device, max <span class="pl-c1">64</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>type_uid<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, uid <span class="pl-k">of</span> the device type
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, description <span class="pl-k">for</span> the device, max <span class="pl-c1">512</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>connected<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>last_seen<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, date <span class="pl-k">of</span> last seen device connected, <span class="pl-k">in</span> <span class="pl-c1">ISO</span> <span class="pl-c1">8601</span> format
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ object containing options <span class="pl-k">for</span> the current device
    },
}</pre></div>

<h4>
<a id="error-response-45" class="anchor" href="#error-response-45" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h3>
<a id="add-a-new-device" class="anchor" href="#add-a-new-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new device</h3>

<h4>
<a id="url-47" class="anchor" href="#url-47" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/</code></p>

<h4>
<a id="method-47" class="anchor" href="#method-47" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-11" class="anchor" href="#data-parameters-11" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the device, max <span class="pl-c1">64</span> chars, name must not already exist
    <span class="pl-s"><span class="pl-pds">"</span>type_uid<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, uid <span class="pl-k">of</span> the device type
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, description <span class="pl-k">for</span> the device, max <span class="pl-c1">512</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>connected<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ object containing options <span class="pl-k">for</span> the current device
    },
}</pre></div>

<h4>
<a id="success-response-47" class="anchor" href="#success-response-47" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-46" class="anchor" href="#error-response-46" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-device" class="anchor" href="#modify-an-existing-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing device</h3>

<h4>
<a id="url-48" class="anchor" href="#url-48" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name</code></p>

<h4>
<a id="method-48" class="anchor" href="#method-48" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-30" class="anchor" href="#url-parameters-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="data-parameters-12" class="anchor" href="#data-parameters-12" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, description <span class="pl-k">for</span> the device, max <span class="pl-c1">512</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>connected<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ object containing options <span class="pl-k">for</span> the current device
    },
}</pre></div>

<h4>
<a id="success-response-48" class="anchor" href="#success-response-48" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-47" class="anchor" href="#error-response-47" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h3>
<a id="delete-a-device" class="anchor" href="#delete-a-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete a device</h3>

<h4>
<a id="url-49" class="anchor" href="#url-49" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name</code></p>

<h4>
<a id="method-49" class="anchor" href="#method-49" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-31" class="anchor" href="#url-parameters-31" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="success-response-49" class="anchor" href="#success-response-49" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-48" class="anchor" href="#error-response-48" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h3>
<a id="connect-a-device" class="anchor" href="#connect-a-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Connect a device</h3>

<h4>
<a id="url-50" class="anchor" href="#url-50" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/connect</code></p>

<h4>
<a id="method-50" class="anchor" href="#method-50" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-32" class="anchor" href="#url-parameters-32" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="success-response-50" class="anchor" href="#success-response-50" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-49" class="anchor" href="#error-response-49" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h3>
<a id="disconnect-a-device" class="anchor" href="#disconnect-a-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Disconnect a device</h3>

<h4>
<a id="url-51" class="anchor" href="#url-51" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/disconnect</code></p>

<h4>
<a id="method-51" class="anchor" href="#method-51" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-33" class="anchor" href="#url-parameters-33" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="success-response-51" class="anchor" href="#success-response-51" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-50" class="anchor" href="#error-response-50" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h3>
<a id="ping-a-device" class="anchor" href="#ping-a-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ping a device</h3>

<h4>
<a id="url-52" class="anchor" href="#url-52" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/ping</code></p>

<h4>
<a id="method-52" class="anchor" href="#method-52" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-34" class="anchor" href="#url-parameters-34" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="success-response-52" class="anchor" href="#success-response-52" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-51" class="anchor" href="#error-response-51" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 503</p>

<p>Device not responding to ping command</p>

<p>OR</p>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Device disconnected or disabled</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h2>
<a id="device-elements-overview" class="anchor" href="#device-elements-overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Device elements overview</h2>

<h3>
<a id="overview-device" class="anchor" href="#overview-device" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Overview Device</h3>

<h4>
<a id="url-53" class="anchor" href="#url-53" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/overview</code></p>

<h4>
<a id="method-53" class="anchor" href="#method-53" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-35" class="anchor" href="#url-parameters-35" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<h4>
<a id="success-response-53" class="anchor" href="#success-response-53" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>sensors<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ <span class="pl-c1">Object</span> containing all sensors
        <span class="pl-s"><span class="pl-pds">"</span>sensor_name_1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ string, internal name
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean<span class="pl-k">|</span>string<span class="pl-k">|</span>number, sensor value
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
                <span class="pl-s"><span class="pl-pds">"</span>unit<span class="pl-pds">"</span></span><span class="pl-k">:</span>string
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
        },
        <span class="pl-s"><span class="pl-pds">"</span>sensor_name_2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ string, internal name
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
                <span class="pl-s"><span class="pl-pds">"</span>unit<span class="pl-pds">"</span></span><span class="pl-k">:</span>string
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
        }
    },
    <span class="pl-s"><span class="pl-pds">"</span>switches<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ <span class="pl-c1">Object</span> containing all switches
        <span class="pl-s"><span class="pl-pds">"</span>switch_name_1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ string, internal name
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, <span class="pl-ii">0</span> (off) or <span class="pl-ii">1</span> (on)
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
        },
        <span class="pl-s"><span class="pl-pds">"</span>switch_name_2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ string, internal name
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, <span class="pl-ii">0</span> (off) or <span class="pl-ii">1</span> (on)
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
        }
    },
    <span class="pl-s"><span class="pl-pds">"</span>dimmers<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ <span class="pl-c1">Object</span> containing all dimmers
        <span class="pl-s"><span class="pl-pds">"</span>dimmer_name_1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ string, internal name
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, between <span class="pl-ii">0</span> (off) and <span class="pl-ii">100</span> (max)
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
        },
        <span class="pl-s"><span class="pl-pds">"</span>dimmer_name_2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ string, internal name
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, between <span class="pl-ii">0</span> (off) and <span class="pl-ii">100</span> (max)
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
        }
    },
    <span class="pl-s"><span class="pl-pds">"</span>heaters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ <span class="pl-c1">Object</span> containing all heaters
        <span class="pl-s"><span class="pl-pds">"</span>heater_name_1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
                <span class="pl-s"><span class="pl-pds">"</span>unit<span class="pl-pds">"</span></span><span class="pl-k">:</span>string
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ value object <span class="pl-k">for</span> a heater
                <span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, current mode
                <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span>number, temperature command
                <span class="pl-s"><span class="pl-pds">"</span>on<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, indicates <span class="pl-k">if</span> the heat is on or off
                <span class="pl-s"><span class="pl-pds">"</span>availableModes<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ array <span class="pl-k">of</span> strings to get all modes available
                ]
            }
        },
        <span class="pl-s"><span class="pl-pds">"</span>heater_name_2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
            <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
            <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
                <span class="pl-s"><span class="pl-pds">"</span>unit<span class="pl-pds">"</span></span><span class="pl-k">:</span>string
            },
            <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
            <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
            <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ value object <span class="pl-k">for</span> a heater
                <span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, current mode
                <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span>number, temperature command
                <span class="pl-s"><span class="pl-pds">"</span>on<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, indicates <span class="pl-k">if</span> the heat is on or off
                <span class="pl-s"><span class="pl-pds">"</span>availableModes<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ array <span class="pl-k">of</span> strings to get all modes available
                ]
            }
        }
    }

}</pre></div>

<h4>
<a id="error-response-52" class="anchor" href="#error-response-52" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Device not found</p>

<h2>
<a id="elements-management" class="anchor" href="#elements-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Elements management</h2>

<p>"GET", url_prefix, "/device/@device_name/@element_type/@element_name"</p>

<h3>
<a id="get-a-specific-element-data" class="anchor" href="#get-a-specific-element-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a specific element data</h3>

<h4>
<a id="url-54" class="anchor" href="#url-54" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/@element_type/@element_name</code></p>

<h4>
<a id="method-54" class="anchor" href="#method-54" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-36" class="anchor" href="#url-parameters-36" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<p><code>@element_type</code>: string, element type, values are "switch", "dimmer", "sensor" or "heater"</p>

<p><code>@element_name</code>: element name</p>

<h4>
<a id="success-response-54" class="anchor" href="#success-response-54" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Depending on your element type, the content will vary</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>sensor value<span class="pl-k">:</span>
{
    <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean<span class="pl-k">|</span>string<span class="pl-k">|</span>number, sensor value
    <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
        <span class="pl-s"><span class="pl-pds">"</span>unit<span class="pl-pds">"</span></span><span class="pl-k">:</span>string
    },
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
}

<span class="pl-k">switch</span> value:
{
    <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, <span class="pl-ii">0</span> (off) or <span class="pl-ii">1</span> (on)
    <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
    },
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
}

dimmer value<span class="pl-k">:</span>
{
    <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, between <span class="pl-ii">0</span> (off) and <span class="pl-ii">100</span> (max)
    <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
    <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
    },
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
}

heater value<span class="pl-k">:</span>
{
    <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element display name, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ options object
        <span class="pl-s"><span class="pl-pds">"</span>unit<span class="pl-pds">"</span></span><span class="pl-k">:</span>string
    },
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
    <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
    <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
    <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ value object <span class="pl-k">for</span> a heater
        <span class="pl-s"><span class="pl-pds">"</span>mode<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, current mode
        <span class="pl-s"><span class="pl-pds">"</span>command<span class="pl-pds">"</span></span><span class="pl-k">:</span>number, temperature command
        <span class="pl-s"><span class="pl-pds">"</span>on<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, indicates <span class="pl-k">if</span> the heat is on or off
        <span class="pl-s"><span class="pl-pds">"</span>availableModes<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ array <span class="pl-k">of</span> strings to get all modes available
        ]
    }
}</pre></div>

<h4>
<a id="error-response-53" class="anchor" href="#error-response-53" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Element type incorrect</p>

<p>OR</p>

<p>Code 404</p>

<p>Device or element not found</p>

<h3>
<a id="send-a-command-to-an-element" class="anchor" href="#send-a-command-to-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Send a command to an element</h3>

<h4>
<a id="url-55" class="anchor" href="#url-55" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/@element_type/@element_name/@command</code></p>

<h4>
<a id="method-55" class="anchor" href="#method-55" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-37" class="anchor" href="#url-parameters-37" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<p><code>@element_type</code>: string, element type, values are "switch", "dimmer", "sensor" or "heater"</p>

<p><code>@element_name</code>: element name</p>

<p><code>@command</code>: number, command value</p>

<p><strong>Optional</strong></p>

<p><code>@mode</code>: string, heater mode (heater only)</p>

<h4>
<a id="success-response-55" class="anchor" href="#success-response-55" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<h4>
<a id="error-response-54" class="anchor" href="#error-response-54" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Device or element not found</p>

<h3>
<a id="update-an-element-data" class="anchor" href="#update-an-element-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Update an element data</h3>

<h4>
<a id="url-56" class="anchor" href="#url-56" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/@element_type/@element_name</code></p>

<h4>
<a id="method-56" class="anchor" href="#method-56" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-38" class="anchor" href="#url-parameters-38" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<p><code>@element_type</code>: string, element type, values are "switch", "dimmer", "sensor" or "heater"</p>

<p><code>@element_name</code>: element name</p>

<h4>
<a id="data-parameters-13" class="anchor" href="#data-parameters-13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>display<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span> boolean
    <span class="pl-s"><span class="pl-pds">"</span>options<span class="pl-pds">"</span></span><span class="pl-k">:</span> object containing options values, example unit value <span class="pl-k">for</span> sensors
    <span class="pl-s"><span class="pl-pds">"</span>monitored<span class="pl-pds">"</span></span><span class="pl-k">:</span>bolean
    <span class="pl-s"><span class="pl-pds">"</span>monitored_every<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, monitor frequency <span class="pl-k">in</span> seconds
}</pre></div>

<h4>
<a id="success-response-56" class="anchor" href="#success-response-56" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-55" class="anchor" href="#error-response-55" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Device or element not found</p>

<h3>
<a id="add-a-tag-to-an-element" class="anchor" href="#add-a-tag-to-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a tag to an element</h3>

<h4>
<a id="url-57" class="anchor" href="#url-57" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/@element_type/@element_name/@tag</code></p>

<h4>
<a id="method-57" class="anchor" href="#method-57" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-39" class="anchor" href="#url-parameters-39" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<p><code>@element_type</code>: string, element type, values are "switch", "dimmer", "sensor" or "heater"</p>

<p><code>@element_name</code>: element name</p>

<p><code>@tag</code>: string, tag value</p>

<h4>
<a id="success-response-57" class="anchor" href="#success-response-57" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<h4>
<a id="error-response-56" class="anchor" href="#error-response-56" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Device or element not found</p>

<h3>
<a id="delete-a-tag-from-an-element" class="anchor" href="#delete-a-tag-from-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete a tag from an element</h3>

<h4>
<a id="url-58" class="anchor" href="#url-58" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/device/@device_name/@element_type/@element_name/@tag</code></p>

<h4>
<a id="method-58" class="anchor" href="#method-58" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-40" class="anchor" href="#url-parameters-40" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<p><code>@element_type</code>: string, element type, values are "switch", "dimmer", "sensor" or "heater"</p>

<p><code>@element_name</code>: element name</p>

<p><code>@tag</code>: string, tag value</p>

<h4>
<a id="success-response-58" class="anchor" href="#success-response-58" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<h4>
<a id="error-response-57" class="anchor" href="#error-response-57" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Device or element not found</p>

<h3>
<a id="get-an-elements-monitored-values" class="anchor" href="#get-an-elements-monitored-values" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get an element's monitored values</h3>

<h4>
<a id="url-59" class="anchor" href="#url-59" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/monitor/@device_name/@element_type/@element_name/</code></p>

<h4>
<a id="method-59" class="anchor" href="#method-59" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-41" class="anchor" href="#url-parameters-41" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@device_name</code>: device name</p>

<p><code>@element_type</code>: string, element type, values are "switch", "dimmer", "sensor" or "heater"</p>

<p><code>@element_name</code>: element name</p>

<p><strong>Optional</strong></p>

<p><code>from</code>: Start date for the monitoring, in UNX EPOCH format</p>

<p><code>to</code>: End date for the monitoring, in UNX EPOCH format</p>

<h4>
<a id="success-response-59" class="anchor" href="#success-response-59" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> monitor objects

    {
        <span class="pl-s"><span class="pl-pds">"</span>timestamp<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, date <span class="pl-k">for</span> the monitoring, <span class="pl-k">in</span> <span class="pl-c1">UNX</span> <span class="pl-c1">EPOCH</span> format
        <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, value <span class="pl-k">for</span> the monitoring
    }

]</pre></div>

<h4>
<a id="error-response-58" class="anchor" href="#error-response-58" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Device or element not found</p>

<h1>
<a id="carleon-api-documentation" class="anchor" href="#carleon-api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Carleon API Documentation</h1>

<p>Carleon has several endpoints with their own format. Here is the full documentaition of the REST API.</p>

<p>All the return data are in JSON format.</p>

<p>All URL have the prefix called <code>CARLEON_PREFIX</code>, default is <code>/carleon</code>. All the URLs given in this dcumentation are relative to <code>CARLEON_PREFIX</code>.</p>

<p>This is only carleon API, each carleon services can add their own endpoints, their documentation can be found in <a href="service-modules/README.md">carleon service modules</a></p>

<h2>
<a id="authentication-3" class="anchor" href="#authentication-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication</h2>

<p>If used within Angharad application, and except when mentionned otherwise, all endpoints require a valid authentication token located in the header or in the cookies. The header or cookies key must be called <code>"ANGHARAD_SESSION_ID"</code> and the value must be a valid token value returned b a previous successfull login.</p>

<h3>
<a id="get-all-services-available-their-description-their-elements-and-their-commands" class="anchor" href="#get-all-services-available-their-description-their-elements-and-their-commands" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all services available, their description, their elements and their commands</h3>

<h4>
<a id="url-60" class="anchor" href="#url-60" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service/</code></p>

<h4>
<a id="method-60" class="anchor" href="#method-60" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-60" class="anchor" href="#success-response-60" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[

    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the service, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, description <span class="pl-k">of</span> the service, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>enabled<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
        <span class="pl-s"><span class="pl-pds">"</span>commands<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ object containing all commands
            <span class="pl-s"><span class="pl-pds">"</span>exec1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ command name
                <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ input parameters
                    <span class="pl-s"><span class="pl-pds">"</span>param1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ parameter name
                        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>integer<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>real<span class="pl-pds">"</span></span> or <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
                        <span class="pl-s"><span class="pl-pds">"</span>required<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
                    },
                    <span class="pl-s"><span class="pl-pds">"</span>param2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ another parameter name
                        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>integer<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>real<span class="pl-pds">"</span></span> or <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
                        <span class="pl-s"><span class="pl-pds">"</span>required<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean
                    },
                    <span class="pl-s"><span class="pl-pds">"</span>param3<span class="pl-pds">"</span></span><span class="pl-k">:</span>{
                        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">"</span>real<span class="pl-pds">"</span></span>
                    }
                },
                <span class="pl-s"><span class="pl-pds">"</span>result<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ Result object, <span class="pl-v">this</span> command has <span class="pl-c1">2</span> values <span class="pl-k">in</span> its result
                    <span class="pl-s"><span class="pl-pds">"</span>value1<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ result name
                        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>integer<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>real<span class="pl-pds">"</span></span> or <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
                    },
                    <span class="pl-s"><span class="pl-pds">"</span>value2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ another result name
                        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>integer<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>real<span class="pl-pds">"</span></span> or <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
                    }
                }
            },
            <span class="pl-s"><span class="pl-pds">"</span>exec2<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ another command name
                <span class="pl-s"><span class="pl-pds">"</span>result<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ result object, <span class="pl-v">this</span> command has <span class="pl-c1">1</span> value <span class="pl-k">in</span> its result
                    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, values can be <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>integer<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>real<span class="pl-pds">"</span></span> or <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
                }
            },
        },
        <span class="pl-s"><span class="pl-pds">"</span>element<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ Elements list <span class="pl-k">of</span> all the service elements
            {
                <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element name, max <span class="pl-c1">64</span> chars
                <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, element description, max <span class="pl-c1">64</span> chars
                <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> tags, each tag is astring, max <span class="pl-c1">64</span> chars, max <span class="pl-c1">128</span> tags per element
                ]
            }
        ]
    },

]</pre></div>

<h4>
<a id="error-response-59" class="anchor" href="#error-response-59" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="enable-or-disable-a-service" class="anchor" href="#enable-or-disable-a-service" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enable or disable a service</h3>

<h4>
<a id="url-61" class="anchor" href="#url-61" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service/@service_name/enable/@enable_value</code></p>

<h4>
<a id="method-61" class="anchor" href="#method-61" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-42" class="anchor" href="#url-parameters-42" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@service_name</code>: service name</p>

<p><code>@enable_value</code>: 0 (disable) or 1 (enable)</p>

<h4>
<a id="success-response-61" class="anchor" href="#success-response-61" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-60" class="anchor" href="#error-response-60" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Service not found</p>

<h3>
<a id="add-a-tag-to-a-service-element" class="anchor" href="#add-a-tag-to-a-service-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a tag to a service element</h3>

<h4>
<a id="url-62" class="anchor" href="#url-62" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service/@service_name/@element_id/@tag</code></p>

<h4>
<a id="method-62" class="anchor" href="#method-62" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-43" class="anchor" href="#url-parameters-43" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@service_name</code>: service name</p>

<p><code>@element_id</code>: element name</p>

<p><code>@tag</code>: string, tag value</p>

<h4>
<a id="success-response-62" class="anchor" href="#success-response-62" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-61" class="anchor" href="#error-response-61" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Service or element not found</p>

<h3>
<a id="remove-a-tag-from-a-service-element" class="anchor" href="#remove-a-tag-from-a-service-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remove a tag from a service element</h3>

<h4>
<a id="url-63" class="anchor" href="#url-63" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service/@service_name/@element_id/@tag</code></p>

<h4>
<a id="method-63" class="anchor" href="#method-63" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-44" class="anchor" href="#url-parameters-44" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@service_name</code>: service name</p>

<p><code>@element_id</code>: element name</p>

<p><code>@tag</code>: string, tag value</p>

<h4>
<a id="success-response-63" class="anchor" href="#success-response-63" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-62" class="anchor" href="#error-response-62" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Service or element or tag not found</p>

<h3>
<a id="clean-all-data-of-a-service-element" class="anchor" href="#clean-all-data-of-a-service-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Clean all data of a service element</h3>

<h4>
<a id="url-64" class="anchor" href="#url-64" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service/@service_name/@element_id/cleanup</code></p>

<h4>
<a id="method-64" class="anchor" href="#method-64" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-45" class="anchor" href="#url-parameters-45" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@service_name</code>: service name</p>

<p><code>@element_id</code>: element name</p>

<h4>
<a id="success-response-64" class="anchor" href="#success-response-64" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-63" class="anchor" href="#error-response-63" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Service or element not found</p>

<h1>
<a id="mock-service-api" class="anchor" href="#mock-service-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Mock service API</h1>

<p>This service does nothing for real, but behaves as a real carleon service. It's designed to help create a client program and create other services.</p>

<p>This service use carleon prefix as prefix. All endpoints described here assume to have carleon prefix before the url.</p>

<h3>
<a id="get-all-mock-service-elements" class="anchor" href="#get-all-mock-service-elements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all mock service elements</h3>

<h4>
<a id="url-65" class="anchor" href="#url-65" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/</code></p>

<h4>
<a id="method-65" class="anchor" href="#method-65" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-65" class="anchor" href="#success-response-65" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ array <span class="pl-k">of</span> moc<span class="pl-k">-</span>service elements

    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element
    }

]</pre></div>

<h4>
<a id="error-response-64" class="anchor" href="#error-response-64" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-moc-service-element-by-its-name" class="anchor" href="#get-a-moc-service-element-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a moc-service element by its name</h3>

<h4>
<a id="url-66" class="anchor" href="#url-66" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id</code></p>

<h4>
<a id="method-66" class="anchor" href="#method-66" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-46" class="anchor" href="#url-parameters-46" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@element_id</code>: element name</p>

<h4>
<a id="success-response-66" class="anchor" href="#success-response-66" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element
}
</pre></div>

<h4>
<a id="error-response-65" class="anchor" href="#error-response-65" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="add-a-new-mock-service-element" class="anchor" href="#add-a-new-mock-service-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new mock-service element</h3>

<h4>
<a id="url-67" class="anchor" href="#url-67" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/</code></p>

<h4>
<a id="method-67" class="anchor" href="#method-67" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-14" class="anchor" href="#data-parameters-14" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars
}</pre></div>

<h4>
<a id="success-response-67" class="anchor" href="#success-response-67" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-66" class="anchor" href="#error-response-66" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-mock-service-element" class="anchor" href="#modify-an-existing-mock-service-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing mock-service element</h3>

<h4>
<a id="url-68" class="anchor" href="#url-68" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id</code></p>

<h4>
<a id="method-68" class="anchor" href="#method-68" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-47" class="anchor" href="#url-parameters-47" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@element_id</code>: element name</p>

<h4>
<a id="data-parameters-15" class="anchor" href="#data-parameters-15" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars
}</pre></div>

<h4>
<a id="success-response-68" class="anchor" href="#success-response-68" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-67" class="anchor" href="#error-response-67" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="delete-an-existing-mock-service-element" class="anchor" href="#delete-an-existing-mock-service-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete an existing mock-service element</h3>

<h4>
<a id="url-69" class="anchor" href="#url-69" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id</code></p>

<h4>
<a id="method-69" class="anchor" href="#method-69" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-48" class="anchor" href="#url-parameters-48" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@element_id</code>: element name</p>

<h4>
<a id="success-response-69" class="anchor" href="#success-response-69" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-68" class="anchor" href="#error-response-68" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="execute-a-mock-service-command-exec1-on-an-element" class="anchor" href="#execute-a-mock-service-command-exec1-on-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Execute a mock-service command exec1 on an element</h3>

<h4>
<a id="url-70" class="anchor" href="#url-70" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id/command/exec1/@param1/@param2/@param3</code></p>

<h4>
<a id="method-70" class="anchor" href="#method-70" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-49" class="anchor" href="#url-parameters-49" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@element_id</code>: element name</p>

<p><code>@param1</code>: string</p>

<p><code>@param2</code>: integer</p>

<p><code>@param3</code>: real</p>

<h4>
<a id="success-response-70" class="anchor" href="#success-response-70" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>value1<span class="pl-pds">"</span></span><span class="pl-k">:</span> string
    <span class="pl-s"><span class="pl-pds">"</span>value2<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer
}</pre></div>

<h4>
<a id="error-response-69" class="anchor" href="#error-response-69" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="execute-a-mock-service-command-exec2-on-an-element" class="anchor" href="#execute-a-mock-service-command-exec2-on-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Execute a mock-service command exec2 on an element</h3>

<h4>
<a id="url-71" class="anchor" href="#url-71" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id/command/exec2/@param1</code></p>

<h4>
<a id="method-71" class="anchor" href="#method-71" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-50" class="anchor" href="#url-parameters-50" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@element_id</code>: element name</p>

<p><code>@param1</code>: string</p>

<h4>
<a id="success-response-71" class="anchor" href="#success-response-71" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span> string
}</pre></div>

<h4>
<a id="error-response-70" class="anchor" href="#error-response-70" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="execute-a-mock-service-command-exec3-on-an-element" class="anchor" href="#execute-a-mock-service-command-exec3-on-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Execute a mock-service command exec3 on an element</h3>

<h4>
<a id="url-72" class="anchor" href="#url-72" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id/command/exec3</code></p>

<h4>
<a id="method-72" class="anchor" href="#method-72" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-72" class="anchor" href="#success-response-72" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span><span class="pl-k">:</span> string
}</pre></div>

<h4>
<a id="error-response-71" class="anchor" href="#error-response-71" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="execute-a-mock-service-command-exec4-on-an-element" class="anchor" href="#execute-a-mock-service-command-exec4-on-an-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Execute a mock-service command exec4 on an element</h3>

<h4>
<a id="url-73" class="anchor" href="#url-73" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/mock-service/@element_id/command/exec4</code></p>

<h4>
<a id="method-73" class="anchor" href="#method-73" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-73" class="anchor" href="#success-response-73" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>value1<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer
    <span class="pl-s"><span class="pl-pds">"</span>value2<span class="pl-pds">"</span></span><span class="pl-k">:</span> boolean
}</pre></div>

<h4>
<a id="error-response-72" class="anchor" href="#error-response-72" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h1>
<a id="mpd-service-api" class="anchor" href="#mpd-service-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MPD service API</h1>

<p>MPD service is used to get status and send commands to a MPD instance</p>

<p>This service use carleon prefix as prefix. All endpoints described here assume to have carleon prefix before the url.</p>

<h2>
<a id="service-mpd-elements-management" class="anchor" href="#service-mpd-elements-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service MPD elements management</h2>

<h3>
<a id="get-all-service-mpd-elements" class="anchor" href="#get-all-service-mpd-elements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all service-mpd elements</h3>

<h4>
<a id="url-74" class="anchor" href="#url-74" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/</code></p>

<h4>
<a id="method-74" class="anchor" href="#method-74" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-74" class="anchor" href="#success-response-74" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> service<span class="pl-k">-</span>mpd elements

    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, host where the mpd instance is hosted, max <span class="pl-c1">128</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer, port where mpd instance is hosted, <span class="pl-k">if</span> <span class="pl-c1">0</span> then default
    }

]</pre></div>

<h4>
<a id="error-response-73" class="anchor" href="#error-response-73" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-service-mpd-element-by-its-name" class="anchor" href="#get-a-service-mpd-element-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a service-mpd element by its name</h3>

<h4>
<a id="url-75" class="anchor" href="#url-75" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name</code></p>

<h4>
<a id="method-75" class="anchor" href="#method-75" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-51" class="anchor" href="#url-parameters-51" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<h4>
<a id="success-response-75" class="anchor" href="#success-response-75" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, host where the mpd instance is hosted, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer, port where mpd instance is hosted, <span class="pl-k">if</span> <span class="pl-c1">0</span> then default
}</pre></div>

<h4>
<a id="error-response-74" class="anchor" href="#error-response-74" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>service-mpd not found</p>

<h3>
<a id="add-a-new-service-mpd-element" class="anchor" href="#add-a-new-service-mpd-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new service-mpd element</h3>

<h4>
<a id="url-76" class="anchor" href="#url-76" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/</code></p>

<h4>
<a id="method-76" class="anchor" href="#method-76" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-16" class="anchor" href="#data-parameters-16" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars, optional
    <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, host where the mpd instance is hosted, max <span class="pl-c1">128</span> chars, required
    <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer, port where mpd instance is hosted, <span class="pl-k">if</span> <span class="pl-c1">0</span> then default mpd port, optional
    <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, password to connect to the mpd instance, max <span class="pl-c1">128</span> chars, optional
}</pre></div>

<h4>
<a id="success-response-76" class="anchor" href="#success-response-76" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-75" class="anchor" href="#error-response-75" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-service-mpd-element" class="anchor" href="#modify-an-existing-service-mpd-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing service-mpd element</h3>

<h4>
<a id="url-77" class="anchor" href="#url-77" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name</code></p>

<h4>
<a id="method-77" class="anchor" href="#method-77" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-52" class="anchor" href="#url-parameters-52" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<h4>
<a id="data-parameters-17" class="anchor" href="#data-parameters-17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars, optional
    <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, host where the mpd instance is hosted, max <span class="pl-c1">128</span> chars, required
    <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span><span class="pl-k">:</span> integer, port where mpd instance is hosted, <span class="pl-k">if</span> <span class="pl-c1">0</span> then default mpd port, optional
    <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, password to connect to the mpd instance, max <span class="pl-c1">128</span> chars, optional
}</pre></div>

<h4>
<a id="success-response-77" class="anchor" href="#success-response-77" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-76" class="anchor" href="#error-response-76" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="delete-an-existing-service-mpd-element" class="anchor" href="#delete-an-existing-service-mpd-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete an existing service-mpd element</h3>

<h4>
<a id="url-78" class="anchor" href="#url-78" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name</code></p>

<h4>
<a id="method-78" class="anchor" href="#method-78" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-53" class="anchor" href="#url-parameters-53" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<h4>
<a id="success-response-78" class="anchor" href="#success-response-78" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-77" class="anchor" href="#error-response-77" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="get-status-and-current-song-details-of-a-service-mpd-element" class="anchor" href="#get-status-and-current-song-details-of-a-service-mpd-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get status and current song details of a service-mpd element</h3>

<h4>
<a id="url-79" class="anchor" href="#url-79" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name/status</code></p>

<h4>
<a id="method-79" class="anchor" href="#method-79" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-54" class="anchor" href="#url-parameters-54" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>, name of the element</p>

<h4>
<a id="success-response-79" class="anchor" href="#success-response-79" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>state<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, state <span class="pl-k">of</span> the player, values can be <span class="pl-s"><span class="pl-pds">"</span>stop<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>play<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>pause<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>unknown<span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>volume<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, volume <span class="pl-k">of</span> the player, between <span class="pl-c1">0</span> and <span class="pl-c1">100</span>
    <span class="pl-s"><span class="pl-pds">"</span>elapsed_time<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, elapsed time <span class="pl-k">of</span> the current song <span class="pl-k">in</span> seconds
    <span class="pl-s"><span class="pl-pds">"</span>total_time<span class="pl-pds">"</span></span><span class="pl-k">:</span>integer, total time <span class="pl-k">of</span> the current song <span class="pl-k">in</span> seconds
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, Name <span class="pl-k">of</span> the playlist, optional
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, title <span class="pl-k">of</span> current song
    <span class="pl-s"><span class="pl-pds">"</span>artist<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, artist <span class="pl-k">of</span> current song, optional
    <span class="pl-s"><span class="pl-pds">"</span>album<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, album <span class="pl-k">of</span> current song, optional
    <span class="pl-s"><span class="pl-pds">"</span>date<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, year <span class="pl-k">of</span> current song, optional
    <span class="pl-s"><span class="pl-pds">"</span>track<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, track <span class="pl-k">of</span> current song, optional

}</pre></div>

<h4>
<a id="error-response-78" class="anchor" href="#error-response-78" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="send-a-playback-command" class="anchor" href="#send-a-playback-command" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Send a playback command</h3>

<h4>
<a id="url-80" class="anchor" href="#url-80" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name/action/@action_name</code></p>

<h4>
<a id="method-80" class="anchor" href="#method-80" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-55" class="anchor" href="#url-parameters-55" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<p><code>@action_name</code>, string, name of the action to launch, values can be "stop", "play", "pause"</p>

<h4>
<a id="success-response-80" class="anchor" href="#success-response-80" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-79" class="anchor" href="#error-response-79" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="get-playlists-available" class="anchor" href="#get-playlists-available" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get playlists available</h3>

<h4>
<a id="url-81" class="anchor" href="#url-81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name/playlists</code></p>

<h4>
<a id="method-81" class="anchor" href="#method-81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-56" class="anchor" href="#url-parameters-56" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<h4>
<a id="success-response-81" class="anchor" href="#success-response-81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> strings

    <span class="pl-s"><span class="pl-pds">"</span>playlist_1<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>playlist_2<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>playlist_3<span class="pl-pds">"</span></span>,
    <span class="pl-k">...</span>

]</pre></div>

<h4>
<a id="error-response-80" class="anchor" href="#error-response-80" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="load-and-play-a-playlist" class="anchor" href="#load-and-play-a-playlist" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Load and play a playlist</h3>

<h4>
<a id="url-82" class="anchor" href="#url-82" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name/playlists/@playlist_name/load</code></p>

<h4>
<a id="method-82" class="anchor" href="#method-82" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-57" class="anchor" href="#url-parameters-57" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<p><code>@playlist_name</code>: string, name of the playlist</p>

<h4>
<a id="success-response-82" class="anchor" href="#success-response-82" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-81" class="anchor" href="#error-response-81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element or playlist not found</p>

<h3>
<a id="change-the-volume" class="anchor" href="#change-the-volume" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Change the volume</h3>

<h4>
<a id="url-83" class="anchor" href="#url-83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-mpd/@name/volume/@value</code></p>

<h4>
<a id="method-83" class="anchor" href="#method-83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-58" class="anchor" href="#url-parameters-58" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: string, name of the element</p>

<p><code>@value</code>: integer, volume to set, value must be between 0 (off) and 100 (max)</p>

<h4>
<a id="success-response-83" class="anchor" href="#success-response-83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-82" class="anchor" href="#error-response-82" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h1>
<a id="motion-service-api" class="anchor" href="#motion-service-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motion service API</h1>

<p>Motion service is used to display motion pictures taken or real-time streams.</p>

<p>This service use carleon prefix as prefix. All endpoints described here assume to have carleon prefix before the url.</p>

<h2>
<a id="motion-service-elements-management" class="anchor" href="#motion-service-elements-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Motion-service elements management</h2>

<h3>
<a id="get-all-motion-service-elements" class="anchor" href="#get-all-motion-service-elements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get all motion-service elements</h3>

<h4>
<a id="url-84" class="anchor" href="#url-84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/</code></p>

<h4>
<a id="method-84" class="anchor" href="#method-84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="success-response-84" class="anchor" href="#success-response-84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> service<span class="pl-k">-</span>motion elements
    {
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars
        <span class="pl-s"><span class="pl-pds">"</span>config_uri<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, uri <span class="pl-k">of</span> the motion instance configuration to check <span class="pl-k">if</span> it<span class="pl-s"><span class="pl-pds">'</span><span class="pl-ii">s still responding, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">        "stream_list": [ Array of streams</span></span>
<span class="pl-s"><span class="pl-ii">            {</span></span>
<span class="pl-s"><span class="pl-ii">                "uri": string, uri to access the stream directly from the client, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">                "name": string, name of the stream, max 64 chars</span></span>
<span class="pl-s"><span class="pl-ii">                "snapshot_uri": string, uri to run a snapshot command on the stream, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">            }</span></span>
<span class="pl-s"><span class="pl-ii">        ],</span></span>
<span class="pl-s"><span class="pl-ii">        "file_list": [ Array of files lists of the pricures taken by this motion instance</span></span>
<span class="pl-s"><span class="pl-ii">            {</span></span>
<span class="pl-s"><span class="pl-ii">                "name": string, name of the file list, max 64 chars</span></span>
<span class="pl-s"><span class="pl-ii">                "path": string, full path of the pictures, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">                "thumbnail_path": string, full path of the pictures thumbnails, max 512 chars, optional</span></span>
<span class="pl-s"><span class="pl-ii">            }</span></span>
<span class="pl-s"><span class="pl-ii">        ]</span></span>
<span class="pl-s"><span class="pl-ii">    }</span></span>
<span class="pl-s"><span class="pl-ii">]</span></span></pre></div>

<h4>
<a id="error-response-83" class="anchor" href="#error-response-83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<h3>
<a id="get-a-service-motion-element-by-its-name" class="anchor" href="#get-a-service-motion-element-by-its-name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a service-motion element by its name</h3>

<h4>
<a id="url-85" class="anchor" href="#url-85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/@name</code></p>

<h4>
<a id="method-85" class="anchor" href="#method-85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-59" class="anchor" href="#url-parameters-59" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: name of the service-motion element</p>

<h4>
<a id="success-response-85" class="anchor" href="#success-response-85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars
    <span class="pl-s"><span class="pl-pds">"</span>config_uri<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, uri <span class="pl-k">of</span> the motion instance configuration to check <span class="pl-k">if</span> it<span class="pl-s"><span class="pl-pds">'</span><span class="pl-ii">s still responding, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">    "stream_list": [ Array of streams</span></span>
<span class="pl-s"><span class="pl-ii">        {</span></span>
<span class="pl-s"><span class="pl-ii">            "uri": string, uri to access the stream directly from the client, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">            "name": string, name of the stream, max 64 chars</span></span>
<span class="pl-s"><span class="pl-ii">            "snapshot_uri": string, uri to run a snapshot command on the stream, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">        }</span></span>
<span class="pl-s"><span class="pl-ii">    ],</span></span>
<span class="pl-s"><span class="pl-ii">    "file_list": [ Array of files lists of the pricures taken by this motion instance</span></span>
<span class="pl-s"><span class="pl-ii">        {</span></span>
<span class="pl-s"><span class="pl-ii">            "name": string, name of the file list, max 64 chars</span></span>
<span class="pl-s"><span class="pl-ii">            "path": string, full path of the pictures, max 512 chars</span></span>
<span class="pl-s"><span class="pl-ii">            "thumbnail_path": string, full path of the pictures thumbnails, max 512 chars, optional</span></span>
<span class="pl-s"><span class="pl-ii">        }</span></span>
<span class="pl-s"><span class="pl-ii">    ]</span></span>
<span class="pl-s"><span class="pl-ii">}</span></span></pre></div>

<h4>
<a id="error-response-84" class="anchor" href="#error-response-84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>service-motion element not found</p>

<h3>
<a id="add-a-new-service-motion-element" class="anchor" href="#add-a-new-service-motion-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Add a new service-motion element</h3>

<h4>
<a id="url-86" class="anchor" href="#url-86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/</code></p>

<h4>
<a id="method-86" class="anchor" href="#method-86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>POST</code></p>

<h4>
<a id="data-parameters-18" class="anchor" href="#data-parameters-18" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, name <span class="pl-k">of</span> the element, max <span class="pl-c1">64</span> chars, required
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars, optional
    <span class="pl-s"><span class="pl-pds">"</span>config_uri<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, uri <span class="pl-k">of</span> the motion instance configuration to check <span class="pl-k">if</span> it<span class="pl-s"><span class="pl-pds">'</span><span class="pl-ii">s still responding, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">    "stream_list": [ Array of streams, optional</span></span>
<span class="pl-s"><span class="pl-ii">        {</span></span>
<span class="pl-s"><span class="pl-ii">            "uri": string, uri to access the stream directly from the client, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "name": string, name of the stream, max 64 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "snapshot_uri": string, uri to run a snapshot command on the stream, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">        }</span></span>
<span class="pl-s"><span class="pl-ii">    ],</span></span>
<span class="pl-s"><span class="pl-ii">    "file_list": [ Array of files lists of the pricures taken by this motion instance, optional</span></span>
<span class="pl-s"><span class="pl-ii">        {</span></span>
<span class="pl-s"><span class="pl-ii">            "name": string, name of the file list, max 64 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "path": string, full path of the pictures, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "thumbnail_path": string, full path of the pictures thumbnails, max 512 chars, optional</span></span>
<span class="pl-s"><span class="pl-ii">        }</span></span>
<span class="pl-s"><span class="pl-ii">    ]</span></span>
<span class="pl-s"><span class="pl-ii">}</span></span></pre></div>

<h4>
<a id="success-response-86" class="anchor" href="#success-response-86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-85" class="anchor" href="#error-response-85" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<h3>
<a id="modify-an-existing-service-motion-element" class="anchor" href="#modify-an-existing-service-motion-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Modify an existing service-motion element</h3>

<h4>
<a id="url-87" class="anchor" href="#url-87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/@name</code></p>

<h4>
<a id="method-87" class="anchor" href="#method-87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-60" class="anchor" href="#url-parameters-60" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: name of the element</p>

<h4>
<a id="data-parameters-19" class="anchor" href="#data-parameters-19" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Parameters</h4>

<div class="highlight highlight-source-js"><pre>{
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, description <span class="pl-k">of</span> the element, max <span class="pl-c1">128</span> chars, optional
    <span class="pl-s"><span class="pl-pds">"</span>config_uri<span class="pl-pds">"</span></span><span class="pl-k">:</span> string, uri <span class="pl-k">of</span> the motion instance configuration to check <span class="pl-k">if</span> it<span class="pl-s"><span class="pl-pds">'</span><span class="pl-ii">s still responding, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">    "stream_list": [ Array of streams, optional</span></span>
<span class="pl-s"><span class="pl-ii">        {</span></span>
<span class="pl-s"><span class="pl-ii">            "uri": string, uri to access the stream directly from the client, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "name": string, name of the stream, max 64 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "snapshot_uri": string, uri to run a snapshot command on the stream, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">        }</span></span>
<span class="pl-s"><span class="pl-ii">    ],</span></span>
<span class="pl-s"><span class="pl-ii">    "file_list": [ Array of files lists of the pricures taken by this motion instance, optional</span></span>
<span class="pl-s"><span class="pl-ii">        {</span></span>
<span class="pl-s"><span class="pl-ii">            "name": string, name of the file list, max 64 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "path": string, full path of the pictures, max 512 chars, required</span></span>
<span class="pl-s"><span class="pl-ii">            "thumbnail_path": string, full path of the pictures thumbnails, max 512 chars, optional</span></span>
<span class="pl-s"><span class="pl-ii">        }</span></span>
<span class="pl-s"><span class="pl-ii">    ]</span></span>
<span class="pl-s"><span class="pl-ii">}</span></span></pre></div>

<h4>
<a id="success-response-87" class="anchor" href="#success-response-87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-86" class="anchor" href="#error-response-86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Service-motion element not found</p>

<h3>
<a id="delete-an-existing-service-motion-element" class="anchor" href="#delete-an-existing-service-motion-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Delete an existing service-motion element</h3>

<h4>
<a id="url-88" class="anchor" href="#url-88" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/@name</code></p>

<h4>
<a id="method-88" class="anchor" href="#method-88" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>DELETE</code></p>

<h4>
<a id="url-parameters-61" class="anchor" href="#url-parameters-61" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: name of the element</p>

<h4>
<a id="success-response-88" class="anchor" href="#success-response-88" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-87" class="anchor" href="#error-response-87" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Service-motion element not found</p>

<h2>
<a id="service-motion-element-commads" class="anchor" href="#service-motion-element-commads" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service-motion element commads</h2>

<h3>
<a id="get-current-status-of-a-service-motion-element" class="anchor" href="#get-current-status-of-a-service-motion-element" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get current status of a service-motion element</h3>

<h4>
<a id="url-89" class="anchor" href="#url-89" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/@name/status</code></p>

<h4>
<a id="method-89" class="anchor" href="#method-89" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-62" class="anchor" href="#url-parameters-62" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: name of the element</p>

<p><strong>Optional</strong></p>

<p><code>offset</code>: offset to start file-list</p>

<p><code>limit</code>: limit of a file-list result number of files</p>

<h4>
<a id="success-response-89" class="anchor" href="#success-response-89" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<div class="highlight highlight-source-js"><pre>{

    <span class="pl-s"><span class="pl-pds">"</span>online<span class="pl-pds">"</span></span><span class="pl-k">:</span>boolean, is the motion instance responding<span class="pl-k">?</span>
    <span class="pl-s"><span class="pl-pds">"</span>file_list<span class="pl-pds">"</span></span><span class="pl-k">:</span>{ <span class="pl-c1">Object</span> containing lists <span class="pl-k">of</span> files
        <span class="pl-s"><span class="pl-pds">"</span>file_list_name_1<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> string, each element is a picture file available
        ],
        <span class="pl-s"><span class="pl-pds">"</span>file_list_name_2<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> string, each element is a picture file available
        ],
    },
    <span class="pl-s"><span class="pl-pds">"</span>stream_list<span class="pl-pds">"</span></span><span class="pl-k">:</span>[ <span class="pl-c1">Array</span> <span class="pl-k">of</span> stream objects
        {
            <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, name <span class="pl-k">of</span> the stream object
            <span class="pl-s"><span class="pl-pds">"</span>snapshot_uri<span class="pl-pds">"</span></span><span class="pl-k">:</span>string, uri to run a snapshot command on the stream, max <span class="pl-c1">512</span> chars, required
            <span class="pl-s"><span class="pl-pds">"</span>uri<span class="pl-pds">"</span></span><span class="pl-k">:</span>uri to access the stream directly from the client, max <span class="pl-c1">512</span> chars, required
        }
    ]

}</pre></div>

<h4>
<a id="error-response-88" class="anchor" href="#error-response-88" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 400</p>

<p>Error input parameters</p>

<p>Content: json array containing all errors</p>

<p>OR</p>

<p>Code 404</p>

<p>Element not found</p>

<h3>
<a id="get-a-file-from-a-file-list" class="anchor" href="#get-a-file-from-a-file-list" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Get a file from a file list</h3>

<h4>
<a id="url-90" class="anchor" href="#url-90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/@name/image/@file_list/@file_name</code></p>

<h4>
<a id="method-90" class="anchor" href="#method-90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>GET</code></p>

<h4>
<a id="url-parameters-63" class="anchor" href="#url-parameters-63" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: name of the element</p>

<p><code>@file_list</code>: name of the file list</p>

<p><code>@file_name</code>: name of the file</p>

<h4>
<a id="success-response-90" class="anchor" href="#success-response-90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<p>Content</p>

<p>Raw content of the file</p>

<h4>
<a id="error-response-89" class="anchor" href="#error-response-89" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element or file list or file not found</p>

<h3>
<a id="send-a-snapshot-command-to-a-motion-instance" class="anchor" href="#send-a-snapshot-command-to-a-motion-instance" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Send a snapshot command to a motion instance</h3>

<h4>
<a id="url-91" class="anchor" href="#url-91" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h4>

<p><code>/service-motion/@name/stream/@stream_name/snapshot</code></p>

<h4>
<a id="method-91" class="anchor" href="#method-91" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Method</h4>

<p><code>PUT</code></p>

<h4>
<a id="url-parameters-64" class="anchor" href="#url-parameters-64" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL Parameters</h4>

<p><strong>Required</strong></p>

<p><code>@name</code>: name of the element</p>

<p><code>@stream_name</code>: name of the stream</p>

<h4>
<a id="success-response-91" class="anchor" href="#success-response-91" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Success response</h4>

<p>Code 200</p>

<h4>
<a id="error-response-90" class="anchor" href="#error-response-90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Error Response</h4>

<p>Code 500</p>

<p>Internal Error</p>

<p>OR</p>

<p>Code 404</p>

<p>Element or steam not found</p>

<h1>
<a id="gareth-api-documentation" class="anchor" href="#gareth-api-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Gareth API Documentation</h1>

<p>In the documentation, we assume you use the prefix <code>/gareth</code>.</p>

<p>For all endpoints, return status can be 200 for success, 400 for invalid parameters, 404 for resource or page not found, or 500 for internal server error. On an error 400, the json body result explains the error.</p>

<h2>
<a id="message-management-apis" class="anchor" href="#message-management-apis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Message management APIs</h2>

<h3>
<a id="post-garethmessage" class="anchor" href="#post-garethmessage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST /gareth/message</h3>

<p>Post a new message.</p>

<h4>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-92" class="anchor" href="#url-92" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<p>None</p>

<h5>
<a id="body" class="anchor" href="#body" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<pre lang="javascrit"><code>{
  "priority": string, values available: NONE, LOW, MEDIUM, HIGH, CRITICAL
  "source": string, maximum 64 characters
  "text": string, maximum 256 characters
  "tags": array of strings, maximum 16 tags, and maximum 32 characters per tag
}
</code></pre>

<h5>
<a id="result-body" class="anchor" href="#result-body" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result body</h5>

<p>None</p>

<h3>
<a id="get-garethmessagefilter_name" class="anchor" href="#get-garethmessagefilter_name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GET /gareth/message/@filter_name</h3>

<p>Get a list of messages, filter result using a filter name, or message attributes criteria</p>

<h4>
<a id="parameters-1" class="anchor" href="#parameters-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-93" class="anchor" href="#url-93" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<ul>
<li>@filter_name: string, name of an existing filter. If not set, all messages are displayed</li>
<li>date: integer, filter messages younger than date in seconds</li>
<li>source: string filter messages from source parameter</li>
<li>priority: string, filter messages that have the corresponding priority</li>
<li>text: string, filter messages that contain the filter value</li>
<li>tags: string, filter messages that contain the specified tag</li>
<li>limit: integer, specify the maximal number of message to display, limit can't be hogher than 100. If no specified, limit is set to 20 messages</li>
<li>offset: integer, specify the offset message to start the search</li>
</ul>

<h5>
<a id="body-1" class="anchor" href="#body-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<p>None</p>

<h5>
<a id="result-body-1" class="anchor" href="#result-body-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result Body</h5>

<p>An array of messages. A message has the following format:</p>

<pre lang="javascrit"><code>{
  "date": string
  "priority": string, values available: NONE, LOW, MEDIUM, HIGH, CRITICAL
  "source": string
  "text": string
  "tags": array of strings
}
</code></pre>

<h3>
<a id="message-trigger" class="anchor" href="#message-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Message trigger</h3>

<p>If a message correspond to a filter that has alerts (see below), this will trigger a message to be send.</p>

<p>For example, let's say you have this following smtp alert:</p>

<pre lang="javascrit"><code>{
  "name": "smtp1",
  "host": "localhost",
  "port": null,
  "tls": null,
  "check_ca": null,
  "user": null,
  "password": null,
  "from": "gareth@mail.tld",
  "to": "user@mail.tld",
  "cc": "archive@mail.tld",
  "bcc": null,
  "subject": "Alert message from {source}",
  "body": "On {date}, {source} has sent the following alert: {message}\n\nPriority: {priority}\nAdditional tags: {tags}"
}
</code></pre>

<p>Then, Gareth has received the following message:</p>

<pre lang="javascrit"><code>{
  "priority": "HIGH",
  "source": "Door Sensor",
  "text": "The front door has been opened",
  "tags": ["front", "door"]
}
</code></pre>

<p>The triggered message will have the following form:</p>

<pre><code>From: gareth@mail.tld
To: user@mail.tld
Cc: archive@mail.tld
Subject: Alert message from Door Sensor

On 2016/01/14 18:21:12, Door Sensor has sent the following alert: The front door has been opened

Priority: High
Additional tags: front, door
</code></pre>

<h2>
<a id="alerts-management-apis" class="anchor" href="#alerts-management-apis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Alerts management APIs</h2>

<p>An alert is used joined with one or several filters, when a message is posted and matches a filter (e.g. a message with priority <code>CRITICAL</code> from the source <code>door sensor</code>), a message alert is triggered.</p>

<p>An alert can be either a smtp message (email) or http request (to call an sms api from your provider for example).</p>

<p>An smtp alert has the following format:</p>

<pre lang="javascrit"><code>{
  "name": name of the smtp alert, must be unique, string, max 64 characters, mandatory
  "host": smtp hostname, string, max 128 characters, mandatory
  "port": smtp port number, integer, between 0 and 65535, optional, if set to 0 or not set, default port number will be used (25 or 587, depending on tls set to true or not)
  "tls": use TLS to connect, boolean, optional, default false
  "check_ca": check the certificate authority of the smtp host if tls is activated, boolean, optional, default false
  "user": username to connect to the smtp host, string, max 128 characters, optional
  "password": password to connect to the smtp host, string, max 128 characters, optional
  "from": email address of the sender, string, max 128 characters, mandatory
  "to": email address of the recipient, string, max 128 characters, mandatory
  "cc": email address of the recipient in cc, string, max 128 characters, optional
  "bcc": email address of the recipient in bcc, string, max 128 characters, optional
  "subject": subject of the email, string, max 128 characters, mandatory
  "body": body of the email, string, max 512 characters, optional
}
</code></pre>

<p><code>subject</code> and <code>body</code> can contain some specific patterns:</p>

<ul>
<li>{priority}: will be replaced by the priority of the message</li>
<li>{source}: will be replaced by the source of the message</li>
<li>{message}: will be replaced by the text of the message</li>
<li>{tags}: will be replaced by the list of tags of the message, separated by a comma</li>
<li>{date}: will be replaced by the date of the message, using the format format <code>YYYY/MM/DD hh:mm:ss</code>
</li>
</ul>

<p>An http alert has the following format:</p>

<pre lang="javascrit"><code>{
  "name": name of the http alert, must be unique, string, max 64 characters, mandatory
  "method": http method (GET, POST, PUT, etc.), string, max 16 characters, optional (default GET)
  "url": url to call, string, max 128 characters, mandatory
  "body": body of the http call, max 512 characters, optional
  "http_headers": [ Array of http headers to add to the alert, optional
    {
      "key": key of the http header, max 64 characters, mandatory
      "value": value of the http header, max 128 characters, mandatory
    }
  ]
}
</code></pre>

<p>The attributes <code>url</code>, <code>body</code>, <code>key</code> or <code>value</code> can contain patterns as described above:</p>

<ul>
<li>{priority}: will be replaced by the priority of the message</li>
<li>{source}: will be replaced by the source of the message</li>
<li>{message}: will be replaced by the text of the message</li>
<li>{tags}: will be replaced by the list of tags of the message, separated by a coma</li>
<li>{date}: will be replaced by the date of the message, using the format format <code>YYYY/MM/DD hh:mm:ss</code>
</li>
</ul>

<p>If specified in the url and the body, these patterns will be url encoded according to the <a href="https://tools.ietf.org/html/rfc3986">RFC 3986</a>.</p>

<h3>
<a id="get-garethalert" class="anchor" href="#get-garethalert" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GET /gareth/alert</h3>

<p>Get all alerts for all types (http and smtp)</p>

<h4>
<a id="parameters-2" class="anchor" href="#parameters-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-94" class="anchor" href="#url-94" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<p>None</p>

<h5>
<a id="body-2" class="anchor" href="#body-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<p>None</p>

<h5>
<a id="result-body-2" class="anchor" href="#result-body-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result Body</h5>

<p>An object with 2 attributes: an array of smtp alerts and an array of http alerts:</p>

<pre lang="javascrit"><code>{
  "smtp": [
    {
      "name": name of the smtp alert, string, max 64 characters
      "host": smtp hostname, string, max 128 characters
      "port": smtp port number, integer, between 0 and 65535, if set to 0, default port number will be used (25 or 587, depending on tls set to true or not)
      "tls": use TLS to connect, boolean
      "check_ca": check the certificate authority of the smtp host if tls is activated, boolean
      "user": username to connect to the smtp host, string, max 128 characters or null
      "password": password to connect to the smtp host, string, max 128 characters or null
      "from": email address of the sender, string, max 128 characters
      "to": email address of the recipient, string, max 128 characters
      "cc": email address of the recipient in cc, string, max 128 characters
      "bcc": email address of the recipient in bcc, string, max 128 characters
      "subject": subject of the email, string, max 128 characters
      "body": body of the email, string, max 512 characters
    }
  ],
  "http": [
    {
      "name": name of the http alert, string, max 64 characters
      "method": http method (GET, POST, PUT, etc.), string, max 16 characters
      "url": url to call, string, max 128 characters
      "body": body of the http call, max 512 characters
      "http_headers": [
        {
          "key": key of the http header, max 64 characters
          "value": value of the http header, max 128 characters
        }
      ]
    }
  ]
}
</code></pre>

<h3>
<a id="get-garethalerttypealert_name" class="anchor" href="#get-garethalerttypealert_name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GET /gareth/alert/@type/@alert_name</h3>

<p>Get a apecific alert of the specified type and name</p>

<h4>
<a id="parameters-3" class="anchor" href="#parameters-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-95" class="anchor" href="#url-95" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<ul>
<li>
<a href="https://github.com/type" class="user-mention">@type</a>: smtp or http</li>
<li>@alert_name: name of the alert</li>
</ul>

<h5>
<a id="body-3" class="anchor" href="#body-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<p>None</p>

<h5>
<a id="result-body-3" class="anchor" href="#result-body-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result Body</h5>

<p>smtp alert:</p>

<pre lang="javascrit"><code>{
  "name": name of the smtp alert, string, max 64 characters
  "host": smtp hostname, string, max 128 characters
  "port": smtp port number, integer, between 0 and 65535, if set to 0, default port number will be used (25 or 587, depending on tls set to true or not)
  "tls": use TLS to connect, boolean
  "check_ca": check the certificate authority of the smtp host if tls is activated, boolean
  "user": username to connect to the smtp host, string, max 128 characters or null
  "password": password to connect to the smtp host, string, max 128 characters or null
  "from": email address of the sender, string, max 128 characters
  "to": email address of the recipient, string, max 128 characters
  "cc": email address of the recipient in cc, string, max 128 characters
  "bcc": email address of the recipient in bcc, string, max 128 characters
  "subject": subject of the email, string, max 128 characters
  "body": body of the email, string, max 512 characters
}
</code></pre>

<p>http alert:</p>

<pre lang="javascrit"><code>{
  "name": name of the http alert, string, max 64 characters
  "method": http method (GET, POST, PUT, etc.), string, max 16 characters
  "url": url to call, string, max 128 characters
  "body": body of the http call, max 512 characters
  "http_headers": [
    {
      "key": key of the http header, max 64 characters
      "value": value of the http header, max 128 characters
    }
  ]
}
</code></pre>

<h3>
<a id="post-garethalerttype" class="anchor" href="#post-garethalerttype" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>POST /gareth/alert/@type/</h3>

<p>Add a new alert of the specified type</p>

<h4>
<a id="parameters-4" class="anchor" href="#parameters-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-96" class="anchor" href="#url-96" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<ul>
<li>
<a href="https://github.com/type" class="user-mention">@type</a>: smtp or http</li>
</ul>

<h5>
<a id="body-4" class="anchor" href="#body-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<p>smtp alert:</p>

<pre lang="javascrit"><code>{
  "name": name of the smtp alert, must be unique, string, max 64 characters, mandatory
  "host": smtp hostname, string, max 128 characters, mandatory
  "port": smtp port number, integer, between 0 and 65535, optional, if set to 0 or not set, default port number will be used (25 or 587, depending on tls set to true or not)
  "tls": use TLS to connect, boolean, optional, default false
  "check_ca": check the certificate authority of the smtp host if tls is activated, boolean, optional, default false
  "user": username to connect to the smtp host, string, max 128 characters, optional
  "password": password to connect to the smtp host, string, max 128 characters, optional
  "from": email address of the sender, string, max 128 characters, mandatory
  "to": email address of the recipient, string, max 128 characters, mandatory
  "cc": email address of the recipient in cc, string, max 128 characters, optional
  "bcc": email address of the recipient in bcc, string, max 128 characters, optional
  "subject": subject of the email, string, max 128 characters, mandatory
  "body": body of the email, string, max 512 characters, optional
}
</code></pre>

<p>http alert:</p>

<pre lang="javascrit"><code>{
  "name": name of the http alert, must be unique, string, max 64 characters, mandatory
  "method": http method (GET, POST, PUT, etc.), string, max 16 characters, optional (default GET)
  "url": url to call, string, max 128 characters, mandatory
  "body": body of the http call, max 512 characters, optional
  "http_headers": [ Array of http headers to add to the alert, optional
    {
      "key": key of the http header, max 64 characters, mandatory
      "value": value of the http header, max 128 characters, mandatory
    }
  ]
}
</code></pre>

<h5>
<a id="result-body-4" class="anchor" href="#result-body-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result Body</h5>

<p>None</p>

<h3>
<a id="put-garethalerttypealert_name" class="anchor" href="#put-garethalerttypealert_name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PUT /gareth/alert/@type/@alert_name</h3>

<p>Modify an existing alert of the specified type</p>

<h4>
<a id="parameters-5" class="anchor" href="#parameters-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-97" class="anchor" href="#url-97" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<ul>
<li>
<a href="https://github.com/type" class="user-mention">@type</a>: smtp or http</li>
<li>@alert_name: name of the alert</li>
</ul>

<h5>
<a id="body-5" class="anchor" href="#body-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<p>smtp alert:</p>

<pre lang="javascrit"><code>{
  "host": smtp hostname, string, max 128 characters, mandatory
  "port": smtp port number, integer, between 0 and 65535, optional, if set to 0 or not set, default port number will be used (25 or 587, depending on tls set to true or not)
  "tls": use TLS to connect, boolean, optional, default false
  "check_ca": check the certificate authority of the smtp host if tls is activated, boolean, optional, default false
  "user": username to connect to the smtp host, string, max 128 characters, optional
  "password": password to connect to the smtp host, string, max 128 characters, optional
  "from": email address of the sender, string, max 128 characters, mandatory
  "to": email address of the recipient, string, max 128 characters, mandatory
  "cc": email address of the recipient in cc, string, max 128 characters, optional
  "bcc": email address of the recipient in bcc, string, max 128 characters, optional
  "subject": subject of the email, string, max 128 characters, mandatory
  "body": body of the email, string, max 512 characters, optional
}
</code></pre>

<p>http alert:</p>

<pre lang="javascrit"><code>{
  "method": http method (GET, POST, PUT, etc.), string, max 16 characters, optional (default GET)
  "url": url to call, string, max 128 characters, mandatory
  "body": body of the http call, max 512 characters, optional
  "http_headers": [ Array of http headers to add to the alert, optional
    {
      "key": key of the http header, max 64 characters, mandatory
      "value": value of the http header, max 128 characters, mandatory
    }
  ]
}
</code></pre>

<h5>
<a id="result-body-5" class="anchor" href="#result-body-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result Body</h5>

<p>None</p>

<h3>
<a id="delete-garethalerttypealert_name" class="anchor" href="#delete-garethalerttypealert_name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DELETE /gareth/alert/@type/@alert_name</h3>

<p>Delete an existing alert of the specified type</p>

<h4>
<a id="parameters-6" class="anchor" href="#parameters-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="url-98" class="anchor" href="#url-98" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>URL</h5>

<ul>
<li>
<a href="https://github.com/type" class="user-mention">@type</a>: smtp or http</li>
<li>@alert_name: name of the alert</li>
</ul>

<h5>
<a id="body-6" class="anchor" href="#body-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Body</h5>

<p>None</p>

<h5>
<a id="result-body-6" class="anchor" href="#result-body-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Result Body</h5>

<p>None</p>

<h2>
<a id="filters-management-apis" class="anchor" href="#filters-management-apis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Filters management APIs</h2>

<p>Filters can be used for both filter a message list or trigger an smtp or http message when a message matches the filter.</p>

<p>A filter has the following format:</p>

<pre lang="javascrit"><code>  "name": name of the filter, string, max 
  "description": "valid test",
  "filter_clauses": [
    {"element": "priority", "operator": "&gt;=", "value": 2}
  ],
  "filter_alerts": {"smtp": ["smtp1"], "http": ["http1"]}
</code></pre>

<h1>
<a id="benoic-modules-1" class="anchor" href="#benoic-modules-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Benoic modules</h1>

<p>Benoic implements an interface to control multiple types of house automation devices. To add a new device type, you have to create a library with the proper functions, then place the library in the folder specified by <code>modules_path</code> in your configuration file, then restart the program.</p>

<p>The mock module in the file <code>device-mock.c</code> can be used to create your own module.</p>

<h2>
<a id="device-module-interace" class="anchor" href="#device-module-interace" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Device module interace</h2>

<p>A device module is a library loaded with <code>dlopen/dlsync</code>. All mandatory functions will return a json object of type <code>json_t *</code>, except for <code>b_device_has_element</code> which returns a int.</p>

<p>The returned json object must have the following format:</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-ii">result</span>: <span class="pl-ii">number</span>,
  <span class="pl-ii">other</span> <span class="pl-ii">values</span>
}</pre></div>

<p>The <code>result</code> value is used to return a status code. The different status codes available are:</p>

<div class="highlight highlight-source-c"><pre>#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_ERROR</span>     <span class="pl-c1">0</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_OK</span>        <span class="pl-c1">1</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_NOT_FOUND</span> <span class="pl-c1">2</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_TIMEOUT</span>   <span class="pl-c1">3</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_PARAM</span>     <span class="pl-c1">4</span></pre></div>

<p>These functions are mandatory for a device module:</p>

<div class="highlight highlight-source-c"><pre><span class="pl-c">/**</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Device type initialization</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Initialize the device type and return a json object of the following format:</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   uid: string, a unique identifier for your device type</span>
<span class="pl-c"> *   name: string, the name of your device type</span>
<span class="pl-c"> *   description: string</span>
<span class="pl-c"> *   options: json array, contains the name and type of parameters used to instanciate a device</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * The options array has the following format:</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   name: string, // Name of the option</span>
<span class="pl-c"> *   type: "string"|"numeric"|"boolean", // Type of th option, must be one of those values</span>
<span class="pl-c"> *   description: string, // Description for the option</span>
<span class="pl-c"> *   optional: boolean // is the option optional or not?</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_type_init</span> ();

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Connects the device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Connects a device and initialize its parameters and context</span>
<span class="pl-c"> * device parameter is a json object containing the following values:</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   name: string</span>
<span class="pl-c"> *   options: array // options values according to the options format returned in the b_device_type_init function</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * device_ptr is a pointer you can use to store any other parameter, structure or value you want without having to rebuild it every time the device is called</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_connect</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">void</span> ** device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Disconnects the device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Disconnect the device and clean device_ptr</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_disconnect</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Pings the device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Check if the device is still availble</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_ping</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Get all the elements and their values for the device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   sensors: {</span>
<span class="pl-c"> *     sensor_name_1: {</span>
<span class="pl-c"> *       unit: string,</span>
<span class="pl-c"> *       value: string|number</span>
<span class="pl-c"> *     },</span>
<span class="pl-c"> *     sensor_name_2: {</span>
<span class="pl-c"> *       unit: string,</span>
<span class="pl-c"> *       value: string|number</span>
<span class="pl-c"> *     }, etc</span>
<span class="pl-c"> *   }</span>
<span class="pl-c"> *   switches: {</span>
<span class="pl-c"> *     switch_name_1: number (0 or 1),</span>
<span class="pl-c"> *     switch_name_2: number (0 or 1),</span>
<span class="pl-c"> *     etc.</span>
<span class="pl-c"> *   }</span>
<span class="pl-c"> *   dimmers: {</span>
<span class="pl-c"> *     dimmer_name_1: number (between 0 and 100),</span>
<span class="pl-c"> *     dimmer_name_2: number (between 0 and 100),</span>
<span class="pl-c"> *     etc.</span>
<span class="pl-c"> *   }</span>
<span class="pl-c"> *   heaters: {</span>
<span class="pl-c"> *     heater_name_1: {</span>
<span class="pl-c"> *       mode: string,</span>
<span class="pl-c"> *       command: float,</span>
<span class="pl-c"> *       on: boolean,</span>
<span class="pl-c"> *       availableModes: Array of strings listing all the different modes available</span>
<span class="pl-c"> *     },</span>
<span class="pl-c"> *     heater_name_2: {</span>
<span class="pl-c"> *       mode: string,</span>
<span class="pl-c"> *       command: float,</span>
<span class="pl-c"> *       on: boolean,</span>
<span class="pl-c"> *       availableModes: Array of strings listing all the different modes available</span>
<span class="pl-c"> *     }</span>
<span class="pl-c"> *     etc.</span>
<span class="pl-c"> *   }</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_overview</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Get the value of the specified sensor on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   value: string|number</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_get_sensor</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * sensor_name, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Get the value of the specified switch on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   value: number (0 or 1),</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_get_switch</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * switch_name, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Send the command on the specified switch on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_set_switch</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * switch_name, <span class="pl-k">const</span> <span class="pl-k">int</span> command, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Get the value of the specified dimmer on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   value: number (between 0 and 100),</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_get_dimmer</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * dimmer_name, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Send the command on the specified dimmer on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_set_dimmer</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * dimmer_name, <span class="pl-k">const</span> <span class="pl-k">int</span> command, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Get the value of the specified heater on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   mode: string,</span>
<span class="pl-c"> *   command: float,</span>
<span class="pl-c"> *   on: boolean,</span>
<span class="pl-c"> *   availableModes: Array of strings listing all the different modes available</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_get_heater</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * heater_name, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Send the command on the specified heater on the specified device</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">b_device_set_heater</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">const</span> <span class="pl-k">char</span> * heater_name, <span class="pl-k">const</span> <span class="pl-k">char</span> * mode, <span class="pl-k">const</span> <span class="pl-k">float</span> command, <span class="pl-k">void</span> * device_ptr);

<span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return true if the specified element exist on the specified device, false otherwise</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * element_type can have the following values:</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * ELEMENT_TYPE_SENSOR 1</span>
<span class="pl-c"> * ELEMENT_TYPE_SWITCH 2</span>
<span class="pl-c"> * ELEMENT_TYPE_DIMMER 3</span>
<span class="pl-c"> * ELEMENT_TYPE_HEATER 4</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-k">int</span> <span class="pl-en">b_device_has_element</span> (<span class="pl-c1">json_t</span> * device, <span class="pl-k">int</span> element_type, <span class="pl-k">const</span> <span class="pl-k">char</span> * element_name, <span class="pl-k">void</span> * device_ptr);</pre></div>

<h1>
<a id="carleon-services" class="anchor" href="#carleon-services" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Carleon services</h1>

<p>Carleon implements an interface to control multiple types of house automation services. To add a new service, you have to create a library with the proper functions, then place the library in the folder specified by <code>services_path</code> in your configuration file, then restart the program.</p>

<p>In the service module, you have access to carleon configuration and the ulfius instance, which means you can access the database without instanciating your own database connector:</p>

<div class="highlight highlight-source-c"><pre><span class="pl-c">/**</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Carleon configuration structure</span>
<span class="pl-c"> *</span>
<span class="pl-c"> */</span>
<span class="pl-k">struct</span> _carleon_config {
  <span class="pl-k">char</span>                    * services_path;
  <span class="pl-k">struct</span> _h_connection    * conn;
  <span class="pl-k">struct</span> _carleon_service * service_list;
  <span class="pl-k">char</span>                    * alert_url;
};</pre></div>

<p>The intended behaviour is to create your own webservices that will be available within Carleon. Within your service, the user can create elements and execute commands to those elements. Commands can be automatized via Angharad scripts and events.</p>

<p>The mock service in the file <code>service-mock.c</code> can be used to create your own module.</p>

<h2>
<a id="service-module-interace" class="anchor" href="#service-module-interace" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service module interace</h2>

<p>A service module is a library loaded with <code>dlopen/dlsync</code>. All mandatory functions will return a json object of type <code>json_t *</code>.</p>

<p>The returned json object must have the following format:</p>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-ii">result</span>: <span class="pl-ii">number</span>,
  <span class="pl-ii">other</span> <span class="pl-ii">values</span>
}</pre></div>

<p>The <code>result</code> value is used to return a status code. The different status codes available are:</p>

<div class="highlight highlight-source-c"><pre>#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_ERROR</span>     <span class="pl-c1">0</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_OK</span>        <span class="pl-c1">1</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_NOT_FOUND</span> <span class="pl-c1">2</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_TIMEOUT</span>   <span class="pl-c1">3</span>
#<span class="pl-k">define</span> <span class="pl-en">WEBSERVICE_RESULT_PARAM</span>     <span class="pl-c1">4</span></pre></div>

<p>These functions are mandatory for a device module:</p>

<div class="highlight highlight-source-c"><pre><span class="pl-c">/**</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Initializes the service</span>
<span class="pl-c"> * You can add here your own ulfius endpoints</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   name: string, name of the service</span>
<span class="pl-c"> *   description: string, description for the service</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">c_service_init</span>(<span class="pl-k">struct</span> _u_instance * instance, <span class="pl-k">const</span> <span class="pl-k">char</span> * url_prefix, <span class="pl-k">struct</span> _carleon_config * config);

<span class="pl-c">/**</span>
<span class="pl-c"> * Closes the service</span>
<span class="pl-c"> * You can remove your endpoints here</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">c_service_close</span>(<span class="pl-k">struct</span> _u_instance * instance, <span class="pl-k">const</span> <span class="pl-k">char</span> * url_prefix);


<span class="pl-c">/**</span>
<span class="pl-c"> * Get the available commands executable within angharad scripts or events</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   commands: object containing different commands</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * A command must have the following format:</span>
<span class="pl-c"> * command_name: {</span>
<span class="pl-c"> *   parameters: {</span>
<span class="pl-c"> *     param_name_1: {</span>
<span class="pl-c"> *       type: "string"|"integer"|"boolean",</span>
<span class="pl-c"> *       required: boolean (default is false)</span>
<span class="pl-c"> *     },</span>
<span class="pl-c"> *     param_name_2: {</span>
<span class="pl-c"> *       type: "string"|"integer"|"boolean",</span>
<span class="pl-c"> *       required: boolean (default is false)</span>
<span class="pl-c"> *     },</span>
<span class="pl-c"> *     etc</span>
<span class="pl-c"> *   },</span>
<span class="pl-c"> *   result: {</span>
<span class="pl-c"> *     type: "string"|"integer"|"boolean"</span>
<span class="pl-c"> *     OR</span>
<span class="pl-c"> *     {</span>
<span class="pl-c"> *       result_value_1: { type: "string"|"integer"|"boolean" },</span>
<span class="pl-c"> *       result_value_2: { type: "string"|"integer"|"boolean" },</span>
<span class="pl-c"> *       etc</span>
<span class="pl-c"> *     }</span>
<span class="pl-c"> *   }</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">c_service_command_get_list</span>(<span class="pl-k">struct</span> _carleon_config * config);

<span class="pl-c">/**</span>
<span class="pl-c"> * Get the available elements of the service</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   element: array of elements</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * An element returned must have at least the following format:</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   name: string, name of the element</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">c_service_element_get_list</span>(<span class="pl-k">struct</span> _carleon_config * config);

<span class="pl-c">/**</span>
<span class="pl-c"> * Execute the specified command to the specified element with the specified parameters</span>
<span class="pl-c"> * Return the value of the command if needed</span>
<span class="pl-c"> * </span>
<span class="pl-c"> * Return value</span>
<span class="pl-c"> * {</span>
<span class="pl-c"> *   result: number, result value</span>
<span class="pl-c"> *   value: "string"|"integer"|"boolean" OR object containing the result values names and their values</span>
<span class="pl-c"> * }</span>
<span class="pl-c"> * </span>
<span class="pl-c"> */</span>
<span class="pl-c1">json_t</span> * <span class="pl-en">c_service_exec</span>(<span class="pl-k">struct</span> _carleon_config * config, <span class="pl-k">const</span> <span class="pl-k">char</span> * command, <span class="pl-k">const</span> <span class="pl-k">char</span> * element, <span class="pl-c1">json_t</span> * parameters);</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/babelouest/angharad">Angharad</a> is maintained by <a href="https://github.com/babelouest">babelouest</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
