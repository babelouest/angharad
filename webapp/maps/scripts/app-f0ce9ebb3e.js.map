{"version":3,"sources":["scripts/app-f0ce9ebb3e.js"],"names":[],"mappings":"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","file":"scripts/app-f0ce9ebb3e.js","sourcesContent":["angular.module(\"sagremorApp\", [\n\"ui.bootstrap\",\n\"ui.router\", \n\"ngCookies\",\n\"angularMoment\",\n\"frapontillo.bootstrap-switch\", \n\"toaster\", \n\"ui.bootstrap.contextMenu\", \n\"pascalprecht.translate\",\n\"ngSanitize\",\n\"ui.bootstrap.datetimepicker\",\n\"datatables\",\n\"angular.img\",\n\"nvd3\",\n\"oauth\"\n])\n.constant(\"_\", window._)\n.constant(\"sagremorConstant\", {\n    scriptActionElements: [\n        {name: \"switch\", label: \"script_action_benoic_switch\", submodule: \"benoic\"},\n        {name: \"dimmer\", label: \"script_action_benoic_dimmer\", submodule: \"benoic\"},\n        {name: \"heater\", label: \"script_action_benoic_heater\", submodule: \"benoic\"}\n    ],\n    conditionList: [\n        {name: \"switch\", label: \"event_condition_benoic_switch\", submodule: \"benoic\"},\n        {name: \"dimmer\", label: \"event_condition_benoic_dimmer\", submodule: \"benoic\"},\n        {name: \"heater\", label: \"event_condition_benoic_heater\", submodule: \"benoic\"},\n        {name: \"sensor\", label: \"event_condition_benoic_sensor\", submodule: \"benoic\"}\n    ],\n    monitoredEveryEnum: [\n        {value: 60, label: \"monitor_1_minute\"},\n        {value: 120, label: \"monitor_2_minutes\"},\n        {value: 300, label: \"monitor_5_minutes\"},\n        {value: 600, label: \"monitor_10_minutes\"},\n        {value: 900, label: \"monitor_15_minutes\"},\n        {value: 1200, label: \"monitor_20_minutes\"},\n        {value: 1800, label: \"monitor_30_minutes\"},\n        {value: 3600, label: \"monitor_1_hour\"},\n        {value: 7200, label: \"monitor_2_hours\"},\n        {value: 10800, label: \"monitor_3_hours\"},\n        {value: 14400, label: \"monitor_4_hours\"},\n        {value: 18000, label: \"monitor_5_hours\"},\n        {value: 21600, label: \"monitor_6_hours\"},\n        {value: 43200, label: \"monitor_12_hours\"},\n        {value: 86400, label: \"monitor_1_day\"}\n    ],\n    schedulerRepeatEveryEnum: [\n        {value: 0, label: \"event_scheduler_repeat_every_minutes\"},\n        {value: 1, label: \"event_scheduler_repeat_every_hours\"},\n        {value: 2, label: \"event_scheduler_repeat_every_days\"},\n        {value: 3, label: \"event_scheduler_repeat_every_days_of_week\"},\n        {value: 4, label: \"event_scheduler_repeat_every_months\"},\n        {value: 5, label: \"event_scheduler_repeat_every_year\"},\n    ],\n    langList: [\n        {name: \"fr\", display: \"Fr\"},\n        {name: \"en\", display: \"En\"}\n    ],\n    durationList: [\n        {value: 0, label: \"duration_last_hour\"},\n        {value: 1, label: \"duration_last_2_hours\"},\n        {value: 2, label: \"duration_last_6_hours\"},\n        {value: 3, label: \"duration_last_12_hours\"},\n        {value: 4, label: \"duration_last_day\"},\n        {value: 5, label: \"duration_last_2_days\"},\n        {value: 6, label: \"duration_last_3_days\"},\n        {value: 7, label: \"duration_last_7_days\"},\n        {value: 8, label: \"duration_last_month\"},\n    ],\n    colorList: [\n\t\t{ style:\"background:Aqua\", value:\"#00FFFF\", label:\"Aqua\"},\n\t\t{ style:\"background:Brown\", value:\"#A52A2A\", label:\"Brown\"},\n\t\t{ style:\"background:Blue\", value:\"#0000FF\", label:\"Blue\"},\n\t\t{ style:\"background:Chartreuse\", value:\"#7FFF00\", label:\"Chartreuse\"},\n\t\t{ style:\"background:DarkGreen\", value:\"#006400\", label:\"Dark Green\"},\n\t\t{ style:\"background:DarkOrange\", value:\"#FF8C00\", label:\"Dark Orange\"},\n\t\t{ style:\"background:DarkRed\", value:\"#8B0000\", label:\"Dark Red\"},\n\t\t{ style:\"background:DarkTurquoise\", value:\"#00CED1\", label:\"Dark Turquoise\"},\n\t\t{ style:\"background:DarkViolet\", value:\"#9400D3\", label:\"Dark Violet\"},\n\t\t{ style:\"background:Green\", value:\"#008000\", label:\"Green\"},\n\t\t{ style:\"background:LawnGreen\", value:\"#7CFC00\", label:\"Lawn Green\"},\n\t\t{ style:\"background:LightGreen\", value:\"#90EE90\", label:\"Light Green\"},\n\t\t{ style:\"background:LightSeaGreen\", value:\"#20B2AA\", label:\"Light Sea Green\"},\n\t\t{ style:\"background:LightSlateGray\", value:\"#778899\", label:\"Light Slate Gray\"},\n\t\t{ style:\"background:Lime\", value:\"#00FF00\", label:\"Lime\"},\n\t\t{ style:\"background:Magenta\", value:\"#FF00FF\", label:\"Magenta\"},\n\t\t{ style:\"background:MediumBlue\", value:\"#0000CD\", label:\"Medium Blue\"},\n\t\t{ style:\"background:MediumSpringGreen\", value:\"#00FA9A\", label:\"Medium Spring Green\"},\n\t\t{ style:\"background:Navy\", value:\"#000080\", label:\"Navy\"},\n\t\t{ style:\"background:Orange\", value:\"#FFA500\", label:\"Orange\"},\n\t\t{ style:\"background:Purple\", value:\"#800080\", label:\"Purple\"},\n\t\t{ style:\"background:Red\", value:\"#FF0000\", label:\"Red\"},\n\t\t{ style:\"background:Teal\", value:\"#008080\", label:\"Teal\"},\n\t\t{ style:\"background:Turquoise\", value:\"#40E0D0\", label:\"Turquoise\"},\n\t\t{ style:\"background:Violet\", value:\"#EE82EE\", label:\"Violet\"},\n\t\t{ style:\"background:Yellow\", value:\"#FFFF00\", label:\"Yellow\"},\n\t\t{ style:\"background:YellowGreen\", value:\"#9ACD32\", label:\"Yellow Green\"}\n    ]\n\n})\n.config(function ($translateProvider, $translatePartialLoaderProvider) {\n\t$translateProvider.useLoader(\"$translatePartialLoader\", {\n\t\turlTemplate: \"components/{part}/i18n/{lang}.json\"\n\t});\n\t$translatePartialLoaderProvider.addPart(\"core\");\n\t$translateProvider\n\t// see: http://angular-translate.github.io/docs/#/guide/09_language-negotiation\n\t.registerAvailableLanguageKeys(['en', 'fr'], {\n\t  'en_US': 'en',\n\t  'en_UK': 'en',\n\t  'en_CA': 'en',\n\t  'fr_FR': 'fr',\n\t  'fr_CA': 'fr',\n\t  'fr_BE': 'fr',\n\t  '*': 'en'\n\t  })\n\t.fallbackLanguage('en')\n\t.determinePreferredLanguage();\n\n\t// interpolation for pluralization\n\t$translateProvider.useCookieStorage();\n\t$translateProvider.useSanitizeValueStrategy(\"escape\");\n})\n.factory(\"sharedData\", function() {\n    var sharedData = {};\n    \n    var add = function(share, name, data) {\n        if (!sharedData[share]) {\n            sharedData[share] = {};\n        }\n        sharedData[share][name] = data;\n    };\n    \n    var get = function(share, name) {\n        if (!!sharedData[share] && !!sharedData[share][name]) {\n            return sharedData[share][name];\n        } else {\n            return undefined;\n        }\n    };\n    \n    var remove = function(share, name) {\n        return delete sharedData[share][name];\n    };\n    \n    var removeAll = function (share) {\n\t\tsharedData[share] = {};\n\t};\n    \n    var all = function(share) {\n        return sharedData[share];\n    };\n    \n    return {\n        all: all,\n        get: get,\n        add: add,\n        remove: remove,\n        removeAll: removeAll\n    };\n})\n.factory(\"sagremorParams\", function () {\n    var params = {};\n    \n    return params;\n})\n.factory(\"sagremorConfirm\", function ($uibModal) {\n    \n    var open = function (title, message) {\n        return modalInstance = $uibModal.open({\n            animation: true,\n            templateUrl: \"components/modals/confirm.modal.html\",\n            controller: \"ConfirmModalCtrl\",\n            controllerAs: \"ConfirmModalCtrl\",\n            size: \"sm\",\n            resolve: {\n                title: function () {\n                    return title;\n                },\n                message: function () {\n                    return message;\n                }\n            }\n        }).result;\n    };\n    \n    return {open: open};\n})\n.factory(\"sagremorEdit\", function ($uibModal) {\n    \n    var open = function (title, message, placeholder) {\n        return modalInstance = $uibModal.open({\n            animation: true,\n            templateUrl: \"components/modals/edit.modal.html\",\n            controller: \"EditModalCtrl\",\n            controllerAs: \"EditModalCtrl\",\n            size: \"sm\",\n            resolve: {\n                title: function () {\n                    return title;\n                },\n                message: function () {\n                    return message;\n                },\n                placeholder: function () {\n                    return placeholder;\n                }\n            }\n        }).result;\n    };\n    \n    return {open: open};\n})\n.service(\"sagGenericInjectorManager\", function () {\n    var self = this;\n    self.components = [];\n    \n    this.add = function (config) {\n\t\tif (!self.get(config.type)) {\n\t\t\tself.components.push(config);\n\t\t}\n    };\n    \n    this.get = function (type) {\n\t\treturn _.find(self.components, function (component) {\n\t\t\treturn component.type === type;\n\t\t});\n\t};\n});\n\nangular.module(\"sagremorApp\")\n    .config(function($locationProvider) {\n        $locationProvider.html5Mode(true).hashPrefix('!');\n    })\n    .config(function ($stateProvider, $urlRouterProvider) {\n        \n        $stateProvider\n            .state(\"dashboard\", {\n                url: \"/\",\n                templateUrl: \"app/dashboard/dashboard.html\",\n                controller: \"DashboardCtrl\",\n                controllerAs: \"DashboardCtrl\"\n            })\n            .state(\"error\", {\n                url: \"/error\",\n                templateUrl: \"app/error/error.html\",\n                controller: \"ErrorCtrl\",\n                controllerAs: \"ErrorCtrl\"\n            })\n            .state(\"switches\", {\n                url: \"/switches\",\n                templateUrl: \"app/switches/switches.html\",\n                controller: \"switchesCtrl\",\n                controllerAs: \"switchesCtrl\"\n            })\n            .state(\"heaters\", {\n                url: \"/heaters\",\n                templateUrl: \"app/heaters/heaters.html\",\n                controller: \"heatersCtrl\",\n                controllerAs: \"heatersCtrl\"\n            })\n            .state(\"sensors\", {\n                url: \"/sensors\",\n                templateUrl: \"app/sensors/sensors.html\",\n                controller: \"sensorsCtrl\",\n                controllerAs: \"sensorsCtrl\"\n            })\n            .state(\"service\", {\n                url: \"/service/:service\",\n                templateUrl: \"app/service/service.html\",\n                controller: \"serviceCtrl\",\n                controllerAs: \"serviceCtrl\"\n            })\n            .state(\"scripts\", {\n                url: \"/scripts\",\n                templateUrl: \"app/scripts/scripts.html\",\n                controller: \"scriptsCtrl\",\n                controllerAs: \"scriptsCtrl\"\n            })\n            .state(\"events\", {\n                url: \"/events\",\n                templateUrl: \"app/events/events.html\",\n                controller: \"eventsCtrl\",\n                controllerAs: \"eventsCtrl\"\n            })\n            .state(\"monitors\", {\n                url: \"/monitors\",\n                templateUrl: \"app/monitors/monitors.html\",\n                controller: \"monitorsCtrl\",\n                controllerAs: \"monitorsCtrl\"\n            })\n            .state(\"logs\", {\n                url: \"/logs\",\n                templateUrl: \"app/logs/logs.html\",\n                controller: \"logsCtrl\",\n                controllerAs: \"logsCtrl\"\n            })\n            .state(\"parameters\", {\n                url: \"/parameters\",\n                templateUrl: \"app/parameters/parameters.html\",\n                controller: \"ParametersCtrl\",\n                controllerAs: \"ParametersCtrl\"\n            });\n            \n        $urlRouterProvider.otherwise(\"/\");\n    });\n\nangular.module(\"sagremorApp\")\n\t\t.controller(\"DashboardCtrl\",\n\t\t\t\tfunction($scope, $location, $translate, $timeout, toaster, sharedData, sagremorParams, sagremorService, sagremorEdit, angharadFactory, benoicFactory, carleonFactory, sagGenericInjectorManager) {\n\n\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\tthis._timeout = null;\n\t\t\t\t\t\tthis.sagremorParams = sagremorParams;\n\t\t\t\t\t\tthis.dashboardWidgets = [];\n\t\t\t\t\t\tthis.dashboardWidgetsDisplay = [];\n\t\t\t\t\t\tthis.profileName = \"\";\n\t\t\t\t\t\tthis.isInit = true;\n\t\t\t\t\t\tthis.connected = false;\n\n\t\t\t\t\t\tthis.options = {\n\t\t\t\t\t\t\t\tcellHeight: 100,\n\t\t\t\t\t\t\t\tverticalHargin: 10,\n\t\t\t\t\t\t\t\tdisableResize: false\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.init = function() {\n\t\t\t\t\t\t\t\tself.isInit = true;\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t\t\tgetDashboardElements();\n\t\t\t\t\t\t\t\tself.menu = [{\n\t\t\t\t\t\t\t\t\t\tname: \"remove_from_dashboard\",\n\t\t\t\t\t\t\t\t\t\tdisplay: $translate.instant(\"remove_from_dashboard\"),\n\t\t\t\t\t\t\t\t\t\taction: function(param) {\n\t\t\t\t\t\t\t\t\t\t\t\tself.removeFromDashboard(param);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}];\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.menuSelect = function(menuItem, element) {\n\t\t\t\t\t\t\t\tmenuItem.action(element);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.addTitleLine = function() {\n\t\t\t\t\t\t\t\treturn sagremorEdit.open($translate.instant(\"dashboard_add_line\"), $translate.instant(\"dashboard_add_line_value\"), $translate.instant(\"dashboard_add_line_placeholder\")).then(function(result) {\n\t\t\t\t\t\t\t\t\t\tnewDashboardSeparator(result.value);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfunction getDashboardElements() {\n\t\t\t\t\t\t\t\tself.dashboardWidgetsDisplay = [];\n\t\t\t\t\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\t\t\t\t\tif (!!profile) {\n\t\t\t\t\t\t\t\t\t\tself.profileName = profile.name;\n\t\t\t\t\t\t\t\t\t\tif (!!profile.addTo && !!profile.addTo.D && profile.addTo.D.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tgetDashboardElementsCurrentProfile();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tself.profileName = \"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfor (key in self.dashboardWidgets) {\n\t\t\t\t\t\t\t\t\t\tif (!!self.dashboardWidgets[key]) {\n\t\t\t\t\t\t\t\t\t\t\t\tself.dashboardWidgetsDisplay.push(self.dashboardWidgets[key]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getDashboardElementsCurrentProfile() {\n\t\t\t\t\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\t\t\t\t\tif (!!profile && !!profile.addTo && !!profile.addTo.D) {\n\t\t\t\t\t\t\t\t\t\t_.forEach(profile.addTo.D, function(element) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!!element.device) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sagremorParams.benoicEnabled) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taddBenoicElementToDashboard(element, element.tag);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (element.type === \"script\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddScriptToDashboard(element, element.tag);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (element.type === \"scheduler\" || element.type === \"trigger\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddEventToDashboard(element, element.tag);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (element.type === \"separator\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddDashboardSeparator(element.name, element.tag);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (element.type === \"monitor\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddMonitorToDashboard(element, element.tag);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (sagremorParams.carleonEnabled) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddCarleonElementToDashboard(element, element.tag);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.isInit = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addBenoicElementToDashboard(element, tag) {\n\t\t\t\t\t\t\t\tvar tagParams = tag.split(\"$\");\n\t\t\t\t\t\t\t\tif (tagParams.length >= 4) {\n\t\t\t\t\t\t\t\t\t\tvar x = tagParams[2];\n\t\t\t\t\t\t\t\t\t\tvar y = tagParams[3];\n\t\t\t\t\t\t\t\t\t\tvar curHeight = 1;\n\t\t\t\t\t\t\t\t\t\tif (element.type === \"dimmer\" || element.type === \"heater\") {\n\t\t\t\t\t\t\t\t\t\t\t\tcurHeight = 2;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvar found = _.find(self.dashboardWidgets, function(widget) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn widget && widget.type === element.type && widget.device === element.device && widget.name === element.name;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tvar bElt = sagremorService.getBenoicElement(element.device, element.type, element.name);\n\t\t\t\t\t\t\t\t\t\tif (!!bElt) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar icon = \"\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tswitch (element.type) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"switch\":\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon = \"toggle-on\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"dimmer\":\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon = \"lightbulb-o\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"heater\":\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon = \"fire\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcase \"sensor\":\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon = \"line-chart\";\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbElt.device = element.device;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbElt.name = element.name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar index = y * 10 + x;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdevice: element.device,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement: bElt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 3,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: curHeight,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.dashboardWidgets.push(dashboardElement);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_.forEach(self.dashboardWidgets, function(widget) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (widget && widget.type === element.type && widget.device === element.device && widget.name === element.name) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbElt.device = element.device;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbElt.name = element.name;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidget.element = bElt;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addScriptToDashboard(element, tag) {\n\t\t\t\t\t\t\t\tvar elt = sharedData.get(\"angharadScripts\", element.name);\n\t\t\t\t\t\t\t\tvar found = _.find(self.dashboardWidgets, function(widget) {\n\t\t\t\t\t\t\t\t\t\treturn widget && widget.type === element.type && widget.name === element.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (!!elt && !found) {\n\t\t\t\t\t\t\t\t\t\tvar tagParams = tag.split(\"$\");\n\t\t\t\t\t\t\t\t\t\tif (tagParams.length >= 4) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = tagParams[2];\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = tagParams[3];\n\t\t\t\t\t\t\t\t\t\t\t\tvar curHeight = 1;\n\t\t\t\t\t\t\t\t\t\t\t\tvar icon = \"tasks\";\n\t\t\t\t\t\t\t\t\t\t\t\tvar index = y * 10 + x;\n\t\t\t\t\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement: elt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 3,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: curHeight,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: icon\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tself.dashboardWidgets.push(dashboardElement);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addEventToDashboard(element, tag) {\n\t\t\t\t\t\t\t\tvar elt = false;\n\t\t\t\t\t\t\t\tvar icon = \"\";\n\t\t\t\t\t\t\t\tvar found = _.find(self.dashboardWidgets, function(widget) {\n\t\t\t\t\t\t\t\t\t\treturn widget.type === element.type && widget.name === element.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (element.type === \"scheduler\") {\n\t\t\t\t\t\t\t\t\t\telt = sharedData.get(\"angharadSchedulers\", element.name);\n\t\t\t\t\t\t\t\t\t\ticon = \"calendar\";\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\telt = sharedData.get(\"angharadTriggers\", element.name);\n\t\t\t\t\t\t\t\t\t\ticon = \"bell\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!!elt && !found) {\n\t\t\t\t\t\t\t\t\t\tvar tagParams = tag.split(\"$\");\n\t\t\t\t\t\t\t\t\t\tif (tagParams.length >= 4) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = tagParams[2];\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = tagParams[3];\n\t\t\t\t\t\t\t\t\t\t\t\tvar curHeight = element.type === \"scheduler\" ? 2 : 1;\n\t\t\t\t\t\t\t\t\t\t\t\tvar index = y * 10 + x;\n\t\t\t\t\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement: elt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 3,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: curHeight,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: icon\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tself.dashboardWidgets.push(dashboardElement);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addMonitorToDashboard(element, tag) {\n\t\t\t\t\t\t\t\tvar elt = _.find(sagremorParams.currentProfile.monitorList, function(monitor) {\n\t\t\t\t\t\t\t\t\t\treturn monitor.name === element.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar found = _.find(self.dashboardWidgets, function(widget) {\n\t\t\t\t\t\t\t\t\t\treturn widget && widget.type === element.type && widget.name === element.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (!!elt && !found) {\n\t\t\t\t\t\t\t\t\t\tvar tagParams = tag.split(\"$\");\n\t\t\t\t\t\t\t\t\t\tif (tagParams.length >= 4) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = tagParams[2];\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = tagParams[3];\n\t\t\t\t\t\t\t\t\t\t\t\tvar curHeight = 4;\n\t\t\t\t\t\t\t\t\t\t\t\tvar icon = \"bar-chart\";\n\t\t\t\t\t\t\t\t\t\t\t\tvar index = y * 10 + x;\n\t\t\t\t\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement: elt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 6,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: curHeight,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: icon\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tself.dashboardWidgets.push(dashboardElement);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addCarleonElementToDashboard(element, tag) {\n\t\t\t\t\t\t\t\tvar injector = _.find(sagGenericInjectorManager.components, function(inject) {\n\t\t\t\t\t\t\t\t\t\treturn inject.type === element.type;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar service = sharedData.get(\"carleonServices\", element.type);\n\t\t\t\t\t\t\t\tvar elt = !!service && !!service.element && _.find(service.element, function(cElt) {\n\t\t\t\t\t\t\t\t\t\treturn cElt.name === element.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar found = _.find(self.dashboardWidgets, function(widget) {\n\t\t\t\t\t\t\t\t\t\treturn widget && widget.type === element.type && widget.name === element.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (!!elt && !found) {\n\t\t\t\t\t\t\t\t\t\tvar tagParams = tag.split(\"$\");\n\t\t\t\t\t\t\t\t\t\tif (tagParams.length >= 4) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar x = tagParams[2];\n\t\t\t\t\t\t\t\t\t\t\t\tvar y = tagParams[3];\n\t\t\t\t\t\t\t\t\t\t\t\tvar curHeight = injector.widgetHeight;\n\t\t\t\t\t\t\t\t\t\t\t\tvar curWidth = injector.widgetWidth;\n\t\t\t\t\t\t\t\t\t\t\t\tvar icon = injector.icon;\n\t\t\t\t\t\t\t\t\t\t\t\tvar index = y * 10 + x;\n\t\t\t\t\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement: element,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tx: x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: curWidth,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: curHeight,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttag: tag,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: icon\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\tself.dashboardWidgets.push(dashboardElement);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction addDashboardSeparator(value, tag) {\n\t\t\t\t\t\t\t\tvar tagParams = tag.split(\"$\");\n\t\t\t\t\t\t\t\tif (tagParams.length >= 4) {\n\t\t\t\t\t\t\t\t\t\tvar y = tagParams[3];\n\t\t\t\t\t\t\t\t\t\tvar index = y * 10;\n\t\t\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"separator\",\n\t\t\t\t\t\t\t\t\t\t\t\tname: value,\n\t\t\t\t\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\t\t\t\t\ty: y,\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 20,\n\t\t\t\t\t\t\t\t\t\t\t\theight: 1,\n\t\t\t\t\t\t\t\t\t\t\t\ttag: tag\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tself.dashboardWidgets.push(dashboardElement);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction newDashboardSeparator(value) {\n\t\t\t\t\t\t\t\tvar dashboardElement = {\n\t\t\t\t\t\t\t\t\t\ttype: \"separator\",\n\t\t\t\t\t\t\t\t\t\tname: value,\n\t\t\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\t\t\t\t\theight: 1\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\t\t\t\t\tif (!profile.addTo) {\n\t\t\t\t\t\t\t\t\t\tprofile.addTo = {\n\t\t\t\t\t\t\t\t\t\t\t\tD: []\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!profile.addTo.D) {\n\t\t\t\t\t\t\t\t\t\tprofile.addTo.D = [];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.dashboardWidgetsDisplay.push(dashboardElement);\n\t\t\t\t\t\t\t\tvar newElement = {\n\t\t\t\t\t\t\t\t\t\ttype: \"separator\",\n\t\t\t\t\t\t\t\t\t\tname: value,\n\t\t\t\t\t\t\t\t\t\ttag: \"SGMR$D$0$0\"\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tprofile.addTo.D.push(newElement);\n\t\t\t\t\t\t\t\tangharadFactory.setProfile(profile.name, profile).then(function() {\n\t\t\t\t\t\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: $translate.instant(\"angharad_add_to_dashboard\"),\n\t\t\t\t\t\t\t\t\t\t\t\tbody: $translate.instant(\"angharad_add_to_dashboard_success\")\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: $translate.instant(\"angharad_add_to_dashboard\"),\n\t\t\t\t\t\t\t\t\t\t\t\tbody: $translate.instant(\"angharad_add_to_dashboard_error\")\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.removeFromDashboard = function(w) {\n\t\t\t\t\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\t\t\t\t\tif (!!profile && !!profile.addTo && !!profile.addTo.D) {\n\t\t\t\t\t\t\t\t\t\t_.forEach(profile.addTo.D, function(element, key) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (element && element.type === w.type && element.name === w.name && w.tag === element.tag) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprofile.addTo.D.splice(key, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar index = self.dashboardWidgetsDisplay.indexOf(w);\n\t\t\t\t\t\t\t\tself.dashboardWidgetsDisplay.splice(index, 1);\n\t\t\t\t\t\t\t\tsagremorParams.currentProfile = profile;\n\t\t\t\t\t\t\t\tangharadFactory.setProfile(profile.name, profile).then(function() {\n\t\t\t\t\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_success\"));\n\t\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profile_save\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthis.onChange = function(event, items) {\n\t\t\t\t\t\t\t\tif (self._timeout) {\n\t\t\t\t\t\t\t\t\t\t// if there is already a timeout in process cancel it\n\t\t\t\t\t\t\t\t\t\t$timeout.cancel(self._timeout);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself._timeout = $timeout(function() {\n\t\t\t\t\t\t\t\t\t\tif (!self.isInit) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (sagremorParams.carleonEnabled) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar changed = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_.forEach(items, function(item) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar element = _.find(self.dashboardWidgetsDisplay, function(widget) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn widget.type === $(item.el).attr(\"data-sag-type\") &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidget.name === $(item.el).attr(\"data-sag-name\") &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(!widget.device || widget.device === $(item.el).attr(\"data-sag-device\"));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!!element) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar newTag = \"SGMR$D$\" + item.x + \"$\" + item.y;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (updateTag(element, newTag)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.tag = newTag;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (changed) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dashboardWidgetsDisplay = _(sagremorParams.currentProfile.addTo.D).chain().sortBy(function(widget) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar splitted = widget.tag.split(\"$\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn splitted[2];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).sortBy(function(widget) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar splitted = widget.tag.split(\"$\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn splitted[3];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).value();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsagremorParams.currentProfile.addTo.D = dashboardWidgetsDisplay;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tangharadFactory.setProfile(sagremorParams.currentProfile.name, sagremorParams.currentProfile).then(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_success\"));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profile_save\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tself._timeout = null;\n\t\t\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tfunction updateTag(element, newTag) {\n\t\t\t\t\t\t\t\tif (newTag !== element.tag) {\n\t\t\t\t\t\t\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\t\t\t\t\t\t\tif (!!profile) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (!profile.addTo) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprofile.addTo = {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tD: []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tif (!profile.addTo.D) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprofile.addTo.D = [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvar elt = _.find(profile.addTo.D, function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn element.tag == e.tag;\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tif (!!elt) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telt.tag = newTag;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement.tag = newTag;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprofile.addTo.D.push(element);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfunction getProfileElementFromTag(tag) {\n\t\t\t\t\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\t\t\t\t\tif (!!profile && !!profile.addTo && !!profile.addTo.D) {\n\t\t\t\t\t\t\t\t\t\tvar elt = _.find(profile.addTo.D, function(element) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn element.tag == tag;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\treturn elt || false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$scope.$on(\"angharadProfileUpdated\", function() {\n\t\t\t\t\t\t\t\tself.isInit = true;\n\t\t\t\t\t\t\t\tself.dashboardWidgets = [];\n\t\t\t\t\t\t\t\tgetDashboardElements();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$scope.$on(\"refreshDashboard\", function() {\n\t\t\t\t\t\t\t\tself.isInit = true;\n\t\t\t\t\t\t\t\tgetDashboardElements();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$scope.$on(\"benoicDevicesChanged\", function() {\n\t\t\t\t\t\t\t\tself.isInit = true;\n\t\t\t\t\t\t\t\tgetDashboardElements();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$scope.$on(\"carleonServicesChanged\", function() {\n\t\t\t\t\t\t\t\tself.isInit = true;\n\t\t\t\t\t\t\t\tgetDashboardElements();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$scope.$on('oauth:login', function(event, token) {\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.$on('oauth:refresh', function(event, token) {\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.$on('oauth:loggedOut', function(event, token) {\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.$on('oauth:denied', function(event, token) {\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.$on('oauth:expired', function(event, token) {\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.$on('oauth:invalid', function(event, token) {\n\t\t\t\t\t\t\t\tself.connected = !!sharedData.get(\"oauthToken\", \"token\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.init();\n\n\t\t\t\t});\n\n/**\n * Workaround for using jquery 3 with gridstack (I F****ing hate bower !)\n */\n$.fn.size = function() {\n\t\treturn this.length;\n};\n\nangular.module(\"sagremorApp\")\n\t.controller(\"ErrorCtrl\",\n\tfunction($scope, sagremorParams) {\n\n\t\tvar self = this;\n\n\t\tthis.errorMessage = \"\";\n\n\t\tthis.init = function() {\n\t\t\tif (!!sagremorParams.errorMessage) {\n\t\t\t\tself.errorMessage = sagremorParams.errorMessage;\n\t\t\t}\n\t\t};\n\n\t\t$scope.$on(\"generalError\", function () {\n\t\t\tself.init();\n\t\t});\n\n\t\tself.init();\n\t}\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"eventsCtrl\",\n    function($scope, $translate, sagremorService, angharadFactory, sharedData, sagremorParams) {\n      \n        var self = this;\n        \n        this.schedulerList = [];\n        this.triggerList = [];\n        this.sagremorParams = sagremorParams;\n        \n        this.init = function () {\n\n\t\t\t$translate([\"edit\", \"remove\", \"add_to_dashboard\"]).then(function (results) {\n\t\t\t\tself.menuScheduler = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\tdisplay: results.edit, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.editEvent(param, \"scheduler\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"remove\", \n\t\t\t\t\t\tdisplay: results.remove, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.removeScheduler(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"angharadSchedulersChanged\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tparam.type = !!param.next_time?\"scheduler\":\"trigger\";\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\tself.menuTrigger = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\tdisplay: results.edit, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.editEvent(param, \"trigger\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"remove\", \n\t\t\t\t\t\tdisplay: results.remove, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.removeTrigger(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"angharadTriggersChanged\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tparam.type = !!param.next_time?\"scheduler\":\"trigger\";\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tself.updateSchedulers();\n\t\t\t\tself.updateTriggers();\n\t\t\t});\n\t\t};\n        \n        this.updateSchedulers = function () {\n            var events = sharedData.all(\"angharadSchedulers\");\n            self.schedulerList = [];\n            for (key in events) {\n\t\t\t\tself.schedulerList.push(events[key]);\n            }\n        };\n        \n        this.updateTriggers = function () {\n            var events = sharedData.all(\"angharadTriggers\");\n            self.triggerList = [];\n            for (key in events) {\n\t\t\t\tself.triggerList.push(events[key]);\n            }\n        };\n        \n        this.refreshEvents = function () {\n\t\t\tvar schedulers = sharedData.all(\"angharadSchedulers\");\n            for (key in schedulers) {\n\t\t\t\tvar found = _.find(self.schedulerList, function (scheduler) {\n\t\t\t\t\treturn scheduler.name === key;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!found) {\n\t\t\t\t\tself.schedulerList.push(schedulers[key]);\n\t\t\t\t}\n            }\n            \n            for (var index = self.schedulerList.length - 1; index >= 0; index--) {\n\t\t\t\tif (!sharedData.get(\"angharadSchedulers\", self.schedulerList[index].name)) {\n\t\t\t\t\tself.schedulerList.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar triggers = sharedData.all(\"angharadTriggers\");\n            for (key in triggers) {\n\t\t\t\tvar found = _.find(self.triggerList, function (trigger) {\n\t\t\t\t\treturn trigger.name === key;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!found) {\n\t\t\t\t\tself.triggerList.push(triggers[key]);\n\t\t\t\t}\n            }\n            \n            for (var index = self.triggerList.length - 1; index >= 0; index--) {\n\t\t\t\tif (!sharedData.get(\"angharadTriggers\", self.triggerList[index].name)) {\n\t\t\t\t\tself.triggerList.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n        \n        this.newEvent = function () {\n\t\t\tsagremorService.editEvent(null);\n\t\t};\n\t\t\n        $scope.$on(\"angharadSchedulersChanged\", function () {\n            self.updateSchedulers();\n        });\n        \n        $scope.$on(\"angharadTriggersChanged\", function () {\n            self.updateTriggers();\n        });\n        \n        $scope.$on(\"refreshAngharadEvents\", function () {\n            self.refreshEvents();\n        });\n        \n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"heatersCtrl\",\n    function($scope, $location, $translate, sagremorService, benoicFactory, sharedData, sagremorParams) {\n      \n        var self = this;\n        \n        this.heaterList = [];\n        this.sagremorParams = sagremorParams;\n        \n        this.init = function () {\n\t\t\tif (!sagremorParams.loggedIn) {\n\t\t\t\t$location.path(\"/login\");\n\t\t\t}\n\t\t\t$translate([\"edit\", \"monitor\", \"add_to_dashboard\"]).then(function (results) {\n\t\t\t\tself.menuSensor = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\tdisplay: results.edit, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.editHeater(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"monitor\", \n\t\t\t\t\t\tdisplay: results.monitor, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.monitor(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tself.updateHeaters();\n\t\t\t});\n\t\t};\n        \n        $scope.$on(\"benoicDevicesChanged\", function () {\n            self.updateHeaters();\n        });\n        \n        $scope.$on(\"benoicHeatersChanged\", function () {\n            self.updateHeaters();\n        });\n        \n        this.updateHeaters = function () {\n            var devices = sharedData.all(\"benoicDevices\");\n\t\t\tself.heaterList = [];\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (se in devices[key].element.heaters) {\n                        var heaters = devices[key].element.heaters[se];\n                        heaters.device = deviceName;\n                        heaters.name = se;\n                        self.heaterList.push(heaters);\n                    }\n                }\n            }\n        };\n        \n        $scope.$on(\"refreshDevices\", function () {\n            self.refreshElements();\n        });\n        \n        this.refreshElements = function () {\n\t\t\t// Add all elements that are not in self.heaterList\n\t\t\tvar devices = sharedData.all(\"benoicDevices\");\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (se in devices[key].element.heaters) {\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\tvar found = _.find(self.heaterList, function (element) {\n\t\t\t\t\t\t\treturn element.name === se && element.device === deviceName;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\tvar heater = devices[key].element.heaters[se];\n\t\t\t\t\t\t\theater.device = deviceName;\n\t\t\t\t\t\t\theater.name = se;\n\t\t\t\t\t\t\tself.heaterList.push(heater);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar heater = devices[key].element.heaters[se];\n\t\t\t\t\t\t\theater.device = deviceName;\n\t\t\t\t\t\t\theater.name = se;\n\t\t\t\t\t\t\tvar index = _.indexOf(self.heaterList, _.find(self.heaterList, {device: deviceName, name: se}));\n\t\t\t\t\t\t\tself.heaterList.splice(index, 1, heater);\n\t\t\t\t\t\t}\n                    }\n                }\n            }\n            \n            // Remove all elements from self.heaterList that are no longer in devices\n            _.remove(self.heaterList, function (heater) {\n\t\t\t\tvar found = _.find(sharedData.all(\"benoicDevices\"), function (device, deviceName) {\n\t\t\t\t\treturn !device.element || _.find(device.element.heaters, function (element, eltName) {\n\t\t\t\t\t\treturn eltName === heater.name && deviceName === heater.device;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!found) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n        \n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"FiltersModalCtrl\",\n    function($scope, $q, $uibModalInstance, $translate, toaster, DTOptionsBuilder, garethFactory, sharedData) {\n        var self = this;\n        \n        this.filterList = sharedData.all(\"garethFilters\");\n        this.AlertSmtpList = sharedData.all(\"garethAlertsSmtp\");\n        this.AlertHttpList = sharedData.all(\"garethAlertsHttp\");\n        this.editFilter = false;\n        this.addFilter = false;\n        this.newClause = false;\n        this.newAlertSmtp = false;\n        this.newAlertHttp = false;\n        this.newAlertHttpHeader = false;\n        this.displayAlert = false;\n        this.customFilter = {\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t\tfilter_clauses: [\n\t\t\t],\n\t\t\tfilter_alerts: {\n\t\t\t\tsmtp: [],\n\t\t\t\thttp: []\n\t\t\t}\n\t\t};\n\t\t\n\t\tself.menu = [\n\t\t\t{\n\t\t\t\tname: \"smtp\", \n\t\t\t\tdisplay: $translate.instant(\"logs_menu_smtp\"), \n\t\t\t\taction: function () {\n\t\t\t\t\tself.addAlertSmtp();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"http\", \n\t\t\t\tdisplay: $translate.instant(\"logs_menu_http\"), \n\t\t\t\taction: function () {\n\t\t\t\t\tself.addAlertHttp();\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t\t\n\t\tself.menuSelect = function(menuItem, element) {\n\t\t\tmenuItem.action(element);\n\t\t};\n    \n\t\tthis.customClause = {\n\t\t\telement: \"\",\n\t\t\toperator: \"\",\n\t\t\tvalue: \"\"\n\t\t};\n\t\t\n\t\tthis.customHttpAlert = {\n\t\t\tname: \"\",\n\t\t\tmethod: \"\",\n\t\t\turl: \"\",\n\t\t\tbody: \"\",\n\t\t\thttp_headers: [\n\t\t\t]\n\t\t};\n\t\tthis.customHttpAlertHeader = {\n\t\t\tkey: \"\",\n\t\t\tvalue: \"\"\n\t\t};\n\t\tthis.existingHttpAlert = \"\";\n\t\tthis.customHttpAlertMethodSelect = \"GET\";\n\t\t\n\t\tthis.customSmtpAlert = {\n\t\t\tname: \"\",\n\t\t\thost: \"\",\n\t\t\tport: 0,\n\t\t\ttls: false,\n\t\t\tcheck_ca: false,\n\t\t\tuser: \"\",\n\t\t\tpassword: \"\",\n\t\t\tfrom: \"\",\n\t\t\tto: \"\",\n\t\t\tcc: \"\",\n\t\t\tbcc: \"\",\n\t\t\tsubject: \"\",\n\t\t\tbody: \"\"\n\t\t};\n\t\tthis.existingSmtpAlert = \"\";\n        \n        function init() {\n        }\n        \n\t\t$scope.$on(\"garethChange\", function () {\n\t\t\tself.filterList = sharedData.all(\"garethFilters\");\n\t\t\tself.AlertList = sharedData.all(\"garethAlerts\");\n\t\t});\n        \n        this.newFilter = function () {\n\t\t\tself.editFilter = true;\n\t\t\tself.addFilter = true;\n\t\t\tself.customFilter = {\n\t\t\t\tname: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\tfilter_clauses: [\n\t\t\t\t],\n\t\t\t\tfilter_alerts: {\n\t\t\t\t\tsmtp: [],\n\t\t\t\t\thttp: []\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\t\n\t\tthis.addClause = function () {\n\t\t\tself.newClause = true;\n\t\t};\n\t\t\n\t\tthis.isClauseValid = function () {\n\t\t\treturn !!self.customClause.element && !!self.customClause.operator && !!self.customClause.value;\n\t\t};\n\t\t\n\t\tthis.addNewClause = function () {\n\t\t\tif (self.customClause.element === \"priority\") {\n\t\t\t\tself.customClause.value = parseInt(self.customClause.value);\n\t\t\t}\n\t\t\tself.customFilter.filter_clauses.push(self.customClause);\n\t\t\tself.customClause = {\n\t\t\t\telement: \"\",\n\t\t\t\toperator: \"\",\n\t\t\t\tvalue: \"\"\n\t\t\t};\n\t\t\tself.newClause = false;\n\t\t};\n\t\t\n\t\tthis.removeClause = function (index){\n\t\t\tself.customFilter.filter_clauses.splice(index, 1);\n\t\t};\n\t\t\n\t\tthis.cancelAddClause = function () {\n\t\t\tself.newClause = false;\n\t\t};\n\t\t\n\t\tthis.getClauseElement = function (element) {\n\t\t\treturn $translate.instant(\"clause_option_\" + element);\n\t\t};\n        \n\t\tthis.getClauseOperator = function (operator) {\n\t\t\tswitch (operator) {\n\t\t\t\tcase \"=\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_equal\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"!=\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_different\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"<\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_lower\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"<=\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_lower_equal\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \">\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_higher\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \">=\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_higher_equal\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"contains\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_contains\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"notcontains\":\n\t\t\t\t\treturn $translate.instant(\"clause_operator_notcontains\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.getClauseValue = function (clause) {\n\t\t\tif (clause.element === \"priority\") {\n\t\t\t\tswitch (clause.value) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\treturn $translate.instant(\"logs_priority_none\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\treturn $translate.instant(\"logs_priority_low\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\treturn $translate.instant(\"logs_priority_medium\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\treturn $translate.instant(\"logs_priority_high\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\treturn $translate.instant(\"logs_priority_critical\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn clause.value;\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.addAlertSmtp = function () {\n\t\t\tself.newAlertSmtp = true;\n\t\t};\n\t\t\n\t\tthis.addAlertHttp = function () {\n\t\t\tself.newAlertHttp = true;\n\t\t};\n\t\t\n\t\tthis.isSmtpAlertValid = function () {\n\t\t\tif (!!self.existingSmtpAlert) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar found = _.find(self.AlertSmtpList, function (alert) {\n\t\t\t\treturn alert.name === self.customSmtpAlert.name;\n\t\t\t});\n\t\t\tif (found) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !!self.customSmtpAlert.name && \n\t\t\t\t\t!!self.customSmtpAlert.host && \n\t\t\t\t\t!!self.customSmtpAlert.from && \n\t\t\t\t\t!!self.customSmtpAlert.to && \n\t\t\t\t\t!!self.customSmtpAlert.subject && \n\t\t\t\t\t!!self.customSmtpAlert.body;\n\t\t};\n\t\t\n\t\tthis.cancelAddSmtpAlert = function () {\n\t\t\tself.newAlertSmtp = false;\n\t\t};\n\t\t\n\t\tthis.postNewSmtpAlert = function () {\n\t\t\tif (!!self.existingSmtpAlert) {\n\t\t\t\tself.customFilter.filter_alerts.smtp.push(self.existingSmtpAlert.name);\n\t\t\t\tself.existingSmtpAlert = \"\";\n\t\t\t\tself.newAlertSmtp = false;\n\t\t\t} else {\n\t\t\t\tgarethFactory.addAlert(\"smtp\", self.customSmtpAlert).then(function () {\n\t\t\t\t\tself.customFilter.filter_alerts.smtp.push(self.customSmtpAlert.name);\n\t\t\t\t\tsharedData.add(\"garethAlertsSmtp\", self.customSmtpAlert.name, self.customSmtpAlert);\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_save_success\"));\n\t\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\tself.customSmtpAlert = {\n\t\t\t\t\t\tname: \"\",\n\t\t\t\t\t\thost: \"\",\n\t\t\t\t\t\tport: 0,\n\t\t\t\t\t\ttls: false,\n\t\t\t\t\t\tcheck_ca: false,\n\t\t\t\t\t\tuser: \"\",\n\t\t\t\t\t\tpassword: \"\",\n\t\t\t\t\t\tfrom: \"\",\n\t\t\t\t\t\tto: \"\",\n\t\t\t\t\t\tsubject: \"\",\n\t\t\t\t\t\tbody: \"\"\n\t\t\t\t\t};\n\t\t\t\t\tself.newAlertSmtp = false;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.addAlertHttpHeader = function () {\n\t\t\tself.newAlertHttpHeader = true;\n\t\t};\n\t\t\n\t\tthis.cancelAddAlertHttpHeader = function () {\n\t\t\tself.newAlertHttpHeader = false;\n\t\t};\n\t\t\n\t\tthis.addNewAlertHttpHeader = function () {\n\t\t\tself.customHttpAlert.http_headers.push(self.customHttpAlertHeader);\n\t\t\tself.customHttpAlertHeader = {\n\t\t\t\tkey: \"\",\n\t\t\t\tvalue: \"\"\n\t\t\t};\n\t\t\tself.newAlertHttpHeader = false;\n\t\t};\n\t\t\n\t\tthis.isHttpAlertValid = function () {\n\t\t\tif (!!self.existingHttpAlert) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar found = _.find(self.AlertHttpList, function (alert) {\n\t\t\t\treturn alert.name === self.customHttpAlert.name;\n\t\t\t});\n\t\t\tif (found) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !!self.customHttpAlert.name && \n\t\t\t\t\t(!!self.customHttpAlert.method || !!self.customHttpAlertMethodSelect) && \n\t\t\t\t\t!!self.customHttpAlert.url;\n\t\t};\n\t\t\n\t\tthis.postNewHttpAlert = function () {\n\t\t\tif (!!self.existingHttpAlert) {\n\t\t\t\tself.customFilter.filter_alerts.http.push(self.existingHttpAlert.name);\n\t\t\t\tself.existingHttpAlert = \"\";\n\t\t\t\tself.newAlertHttp = false;\n\t\t\t} else {\n\t\t\t\tif (self.customHttpAlertMethodSelect !== \"custom\") {\n\t\t\t\t\tself.customHttpAlert.method = self.customHttpAlertMethodSelect;\n\t\t\t\t}\n\t\t\t\tgarethFactory.addAlert(\"http\", self.customHttpAlert).then(function () {\n\t\t\t\t\tself.customFilter.filter_alerts.http.push(self.customHttpAlert.name);\n\t\t\t\t\tsharedData.add(\"garethAlertsHttp\", self.customHttpAlert.name, self.customHttpAlert);\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_save_success\"));\n\t\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\tself.customHttpAlertHeader = {\n\t\t\t\t\t\tkey: \"\",\n\t\t\t\t\t\tvalue: \"\"\n\t\t\t\t\t};\n\t\t\t\t\tself.customHttpAlert = {\n\t\t\t\t\t\tname: \"\",\n\t\t\t\t\t\tmethod: \"\",\n\t\t\t\t\t\turl: \"\",\n\t\t\t\t\t\tbody: \"\",\n\t\t\t\t\t\thttp_headers: [\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t\tself.newAlertHttp = false;\n\t\t\t\t\tself.newAlertHttpHeader = false;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.cancelAddHttpAlert = function () {\n\t\t\tself.newAlertHttp = false;\n\t\t};\n\t\t\n\t\tthis.removeAlert = function (type, index) {\n\t\t\tself.customFilter.filter_alerts[type].splice(index, 1);\n\t\t};\n\t\t\n\t\tthis.isFilterValid = function () {\n\t\t\treturn !!self.customFilter.name && self.customFilter.filter_clauses.length > 0;\n\t\t};\n\t\t\n\t\tthis.cancelNewFilter = function () {\n\t\t\tself.editFilter = false;\n\t\t\tself.addFilter = false;\n\t\t};\n\t\t\n\t\tthis.postNewFilter = function () {\n\t\t\tvar promise = null;\n\t\t\tif (self.addFilter) {\n\t\t\t\tpromise = garethFactory.addFilter(self.customFilter);\n\t\t\t} else {\n\t\t\t\tpromise = garethFactory.setFilter(self.customFilter.name, self.customFilter)\n\t\t\t}\n\t\t\tpromise.then(function () {\n\t\t\t\tsharedData.add(\"garethFilters\", self.customFilter.name, self.customFilter);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"logs_filter\"), $translate.instant(\"logs_filter_save_success\"));\n\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_filter\"), $translate.instant(\"logs_filter_save_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\tself.editFilter = false;\n\t\t\t\tself.addFilter = false;\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.removeCustomFilter = function (filter) {\n\t\t\tgarethFactory.removeFilter(filter.name).then(function () {\n\t\t\t\tsharedData.remove(\"garethFilters\", filter.name);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"logs_filter\"), $translate.instant(\"logs_filter_remove_success\"));\n\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_filter\"), $translate.instant(\"logs_filter_remove_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.editCustomFilter = function (filter) {\n\t\t\tself.customFilter = filter;\n\t\t\tself.editFilter = true;\n\t\t\tself.addFilter = false;\n\t\t};\n\t\t\n\t\tthis.showAlerts = function () {\n\t\t\tself.displayAlert = true;\n\t\t};\n\t\t\n\t\tthis.showFilters = function () {\n\t\t\tself.displayAlert = false;\n\t\t};\n\t\t\n\t\tthis.removeSmtpAlert = function (alert) {\n\t\t\tgarethFactory.removeAlert(\"smtp\", alert.name).then(function () {\n\t\t\t\tsharedData.remove(\"garethAlertsSmtp\", alert.name);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_remove_success\"));\n\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_remove_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.removeHttpAlert = function (alert) {\n\t\t\tgarethFactory.removeAlert(\"http\", alert.name).then(function () {\n\t\t\t\tsharedData.remove(\"garethAlertsHttp\", alert.name);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_remove_success\"));\n\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_alert\"), $translate.instant(\"logs_alert_remove_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.close = function () {\n\t\t\t$uibModalInstance.close(\"ok\");\n\t\t};\n        \n        init();\n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"logsCtrl\",\n    function($scope, $translate, $uibModal, toaster, DTOptionsBuilder, garethFactory, sharedData) {\n      \n        var self = this;\n        \n        this.messageList = [];\n        this.filterList = [];\n        this.options = {};\n        \n        this.searchOptions = {\n\t\t\tlimit: 20,\n\t\t\toffset: 0\n\t\t};\n\t\t\n\t\t$scope.$on(\"garethChange\", function () {\n\t\t\tself.getFilters();\n\t\t\tself.search();\n\t\t});\n        \n        this.init = function () {\n\t\t\tif ($translate.use()) {\n\t\t\t\tself.options = DTOptionsBuilder.newOptions()\n\t\t\t\t\t\t\t\t.withLanguageSource(\"components/core/i18n/datatables.\"+$translate.use()+\".json\")\n\t\t\t\t\t\t\t\t.withOption(\"order\", [1, \"desc\"]);\n\t\t\t\tself.getFilters();\n\t\t\t\tself.search();\n\t\t\t}\n\t\t};\n\t\t\n\t\t\n\t\tthis.getPriority = function (message) {\n\t\t\tswitch (message.priority) {\n\t\t\t\tcase \"NONE\":\n\t\t\t\t\treturn $translate.instant(\"logs_priority_none\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"LOW\":\n\t\t\t\t\treturn $translate.instant(\"logs_priority_low\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"MEDIUM\":\n\t\t\t\t\treturn $translate.instant(\"logs_priority_medium\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"HIGH\":\n\t\t\t\t\treturn $translate.instant(\"logs_priority_high\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"CRITICAL\":\n\t\t\t\t\treturn $translate.instant(\"logs_priority_critical\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn $translate.instant(\"logs_priority_not_found\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.search = function () {\n\t\t\tif (self.searchOptions.limit > 0 && self.searchOptions.offset >= 0) {\n\t\t\t\tif (!!self.searchOptions.filter) {\n\t\t\t\t\tgarethFactory.getFilteredMessages(self.searchOptions.filter.name, self.searchOptions.limit, self.searchOptions.offset).then(function (result) {\n\t\t\t\t\t\tself.messageList = result;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tgarethFactory.getAllMessages(self.searchOptions.limit, self.searchOptions.offset).then(function (result) {\n\t\t\t\t\t\tself.messageList = result;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"logs_search\"), $translate.instant(\"logs_search_error\"));\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.getFilters = function () {\n\t\t\tself.filterList = sharedData.all(\"garethFilters\");\n\t\t};\n\t\t\n\t\tthis.filterManagement = function () {\n\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\tanimation: true,\n\t\t\t\ttemplateUrl: \"app/logs/filters.modal.html\",\n\t\t\t\tcontroller: \"FiltersModalCtrl\",\n\t\t\t\tcontrollerAs: \"FiltersModalCtrl\",\n\t\t\t\tsize: \"md\",\n\t\t\t});\n\t\t};\n\t\t\n\t\t$scope.$on(\"changeLang\", function () {\n\t\t\tself.options = DTOptionsBuilder.newOptions()\n\t\t\t\t\t\t\t.withLanguageSource(\"components/core/i18n/datatables.\"+$translate.use()+\".json\");\n\t\t});\n\t\t\n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"ParametersCtrl\",\n    function($scope, $rootScope, $q, $location, $translate, $cookies, $window, toaster, angharadFactory, benoicFactory, carleonFactory, sharedData, sagremorConfirm, sagremorParams) {\n      \n\t\tvar self = this;\n\n\t\tthis.submodules;\n\n\t\tthis.deviceList = [];\n\t\tthis.deviceTypes = [];\n\t\tthis.deviceTypesEnabled = [];\n\t\tthis.deviceAdded = false;\n\t\tthis.deviceUpdated = false;\n\n\t\tthis.newDeviceName = \"\";\n\t\tthis.newDeviceDescription = \"\";\n\t\tthis.newDeviceType = \"\";\n\t\tthis.newDeviceConnect = true;\n\n\t\tthis.deviceOptionList = [];\n\t\tthis.deviceOptionListDisplay = false;\n\n\t\tthis.profileList = [];\n\t\tthis.currentProfile = false;\n\t\tthis.profileAdded = false;\n\t\t\n\t\tthis.serviceList = [];\n\t\t\n\t\tthis.sagremorParams = sagremorParams;\n\n\t\tthis.init = function() {\n\t\t\tif (!sagremorParams.loggedIn) {\n\t\t\t\t$location.path(\"/login\");\n\t\t\t}\n\n\t\t\tself.submodules = sharedData.all(\"submodules\");\n\t\t\tself.deviceList = sharedData.all(\"benoicDevices\");\n\t\t\tself.initDeviceTypes();\n\t\t\tself.serviceList = sharedData.all(\"carleonServices\");\n\t\t\tself.selectedLang = $translate.use();\n\t\t\tself.profileList = sagremorParams.profiles;\n\t\t\tself.currentProfile = sagremorParams.currentProfile;\n\t\t};\n\n\t\t$scope.$on(\"submodulesChanged\", function () {\n\t\t\tself.submodules = sharedData.all(\"submodules\");\n\t\t});\n\n\t\t$scope.$on(\"benoicDevicesChanged\", function () {\n\t\t\tself.deviceList = sharedData.all(\"benoicDevices\");\n\t\t});\n\n\t\t$scope.$on(\"benoicDeviceTypesChanged\", function () {\n\t\t\tself.initDeviceTypes();\n\t\t});\n\n\t\t$scope.$on(\"carleonServicesChanged\", function () {\n\t\t\tself.serviceList = sharedData.all(\"carleonServices\");\n\t\t});\n\n\t\tthis.addDevice = function () {\n\t\t\tself.deviceAdded = true;\n\t\t};\n\n\t\tthis.isDeviceValid = function () {\n\t\t\tif (!self.newDeviceName || self.newDeviceName.length > 64) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor (var name in self.deviceList) {\n\t\t\t\tif (self.newDeviceName === name) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!self.newDeviceDescription || self.newDeviceDescription > 128) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!self.newDeviceType) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor (var key in self.deviceOptionList) {\n\t\t\t\tvar option = self.deviceOptionList[key];\n\n\t\t\t\tif (!option.optional && !option.value) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\tthis.postNewDevice = function () {\n\n\t\t\tvar curOptions = {};\n\t\t\t_.forEach(self.deviceOptionList, function (option) {\n\t\t\t\tif (option.type === \"boolean\") {\n\t\t\t\t\tcurOptions[option.name] = !!option.value;\n\t\t\t\t} else if (option.type === \"numeric\") {\n\t\t\t\t\tcurOptions[option.name] = parseFloat(option.value);\n\t\t\t\t} else {\n\t\t\t\t\tcurOptions[option.name] = option.value;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar deviceName = self.newDeviceName;\n\t\t\tbenoicFactory.addDevice({name: deviceName, display: self.newDeviceName, description: self.newDeviceDescription, enabled: true, type_uid: self.newDeviceType, options: curOptions}).then(function (response) {\n\t\t\t\tif (self.newDeviceConnect) {\n\t\t\t\t\tself.connectDevice({name: deviceName, connected: true}).then(function(result) {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"device_add\"), $translate.instant(\"device_add_success\"));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"device_add\"), $translate.instant(\"device_add_success\"));\n\t\t\t\t}\n\t\t\t}, function (error) {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"device_add\"), $translate.instant(\"device_add_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\tself.deviceAdded = false;\n\t\t\t\tself.deviceList = sharedData.all(\"benoicDevices\");\n\t\t\t\tself.newDeviceName = \"\";\n\t\t\t\tself.newDeviceDescription = \"\";\n\t\t\t\tself.newDeviceType = \"\";\n\t\t\t\tself.newDeviceConnect = true;\n\t\t\t\tself.deviceOptionList = [];\n\t\t\t\t$rootScope.$broadcast(\"reinitBenoic\");\n\t\t\t});\n\t\t};\n\n\t\tthis.cancelNewDevice = function () {\n\t\t\tself.deviceAdded = false;\n\t\t\tself.newDeviceName = \"\";\n\t\t\tself.newDeviceDescription = \"\";\n\t\t\tself.newDeviceType = \"\";\n\t\t\tself.deviceOptionList = [];\n\t\t};\n\n\t\tthis.setDeviceOptions = function () {\n\t\t\tif (!!self.newDeviceType) {\n\t\t\t\tself.deviceOptionList = _.find(self.deviceTypes, function(type) { return type.uid === self.newDeviceType; }).options;\n\t\t\t\tself.deviceOptionListDisplay = true;\n\t\t\t} else {\n\t\t\t\tself.deviceOptionListDisplay = false;\n\t\t\t}\n\t\t};\n\n\t\tthis.connectDevice = function (device) {\n\t\t\tif (device.connected) {\n\t\t\t\treturn benoicFactory.connectDevice(device.name).then(function (response) {\n\t\t\t\t\tbenoicFactory.getDeviceOverview(device.name).then(function (result) {\n\t\t\t\t\t\tsharedData.get(\"benoicDevices\", device.name).element = result;\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"device_connect\"), $translate.instant(\"device_connect_success\"));\n\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"device_connect\"), $translate.instant(\"device_connect_error\"));\n\t\t\t\t\t});\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"device_connect\"), $translate.instant(\"device_connect_error\"));\n\t\t\t\t\tdevice.connected = false;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn benoicFactory.disconnectDevice(device.name).then(function (response) {\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"device_disconnect\"), $translate.instant(\"device_disconnect_success\"));\n\t\t\t\t\tvar curDevice = sharedData.get(\"benoicDevices\", device.name);\n\t\t\t\t\tif (!!curDevice) {\n\t\t\t\t\t\tcurDevice.element = {};\n\t\t\t\t\t}\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"device_disconnect\"), $translate.instant(\"device_disconnect_error\"));\n\t\t\t\t\tdevice.connected = true;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.editDevice = function (device) {\n\t\t\tdevice.newDescription = device.description;\n\t\t\tdevice.update = true;\n\t\t\tself.deviceUpdated = true;\n\t\t\tself.deviceOptionListDisplay = true;\n\t\t\tself.deviceOptionList = _.find(self.deviceTypes, {uid: device.type_uid}).options;\n\t\t\tself.newDeviceType = device.type_uid;\n\t\t\t_.forEach(self.deviceOptionList, function (option) {\n\t\t\t\toption.value = device.options[option.name];\n\t\t\t});\n\t\t};\n\n\t\tthis.saveDevice = function (device) {\n\t\t\tdevice.description = device.newDescription;\n\t\t\t_.forEach(self.deviceOptionList, function (option) {\n\t\t\t\tdevice.options[option.name] = option.value;\n\t\t\t});\n\t\t\t\n\t\t\tbenoicFactory.setDevice(device).then(function (response) {\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"device_save\"), $translate.instant(\"device_save_success\"));\n\t\t\t}, function (error) {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"device_save\"), $translate.instant(\"device_save_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\tself.deviceUpdated = false;\n\t\t\t\tself.deviceOptionListDisplay = false;\n\t\t\t\tself.deviceOptionList = [];\n\t\t\t\tdevice.update = false;\n\t\t\t});\n\t\t};\n\n\t\tthis.cancelEditDevice = function (device) {\n\t\t\tdevice.newDescription = device.description;\n\t\t\tself.deviceUpdated = false;\n\t\t\tself.deviceOptionListDisplay = false;\n\t\t\tself.deviceOptionList = [];\n\t\t\tdevice.update = false;\n\t\t};\n\n\t\tthis.removeDevice = function (device) {\n\t\t\tsagremorConfirm.open($translate.instant(\"device_remove\"), $translate.instant(\"device_remove_confirm\")).then (function(result) {\n\t\t\t\tbenoicFactory.removeDevice(device.name).then(function (response) {\n\t\t\t\t\tsharedData.remove(\"benoicDevices\", device.name);\n\t\t\t\t\tself.deviceList = sharedData.all(\"benoicDevices\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"device_remove\"), $translate.instant(\"device_remove_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"device_remove\"), $translate.instant(\"device_remove_error\"));\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tthis.initDeviceTypes = function () {\n\t\t\tself.deviceTypes = sharedData.all(\"benoicDeviceTypes\");\n\t\t\tself.deviceTypesEnabled = _.filter(sharedData.all(\"benoicDeviceTypes\"), {enabled: true});\n\t\t\t_.forEach(self.deviceTypes, function (type) {\n\t\t\t\t$translate(type.uid + \"_device_type\").then(function(translate) {\n\t\t\t\t\ttype.translate = translate;\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttype.translate = type.name;\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.reloadBenoicDeviceTypes = function () {\n\t\t\tbenoicFactory.reloadDeviceTypes().then(function (result) {\n\t\t\t\tsharedData.removeAll(\"benoicDeviceTypes\");\n\t\t\t\t_.forEach(result, function (deviceType) {\n\t\t\t\t\tsharedData.add(\"benoicDeviceTypes\", deviceType.uid, deviceType);\n\t\t\t\t});\n\t\t\t\tself.initDeviceTypes();\n\t\t\t\t$rootScope.$broadcast(\"refresh\");\n\t\t\t});\n\t\t};\n\n\t\tthis.reloadCarleonServices = function () {\n\t\t\tcarleonFactory.reloadServiceList().then(function (result) {\n\t\t\t\tsharedData.removeAll(\"carleonServices\");\n\t\t\t\tfor (key in result) {\n\t\t\t\t\t_.forEach(result[key].element, function (element) {\n\t\t\t\t\t\telement.type = result[key].name;\n\t\t\t\t\t});\n\t\t\t\t\tsharedData.add(\"carleonServices\", result[key].name, result[key]);\n\t\t\t\t}\n\t\t\t\t$rootScope.$broadcast(\"refresh\");\n\t\t\t});\n\t\t};\n\n\t\tthis.submoduleEnable = function(submodule) {\n\t\t\treturn sagremorConfirm.open($translate.instant(\"param_submodule_enable\"), $translate.instant(\"param_submodule_enable_confirm\")).then(function () {\n\t\t\t\tif (submodule === \"benoic\") {\n\t\t\t\t\tangharadFactory.enableSubmodule(submodule, self.submodules.benoic.enabled).then(function (response) {\n\t\t\t\t\t\tsagremorParams.benoicEnabled = self.submodules.benoic.enabled;\n\t\t\t\t\t\t$rootScope.$broadcast(\"submodulesChanged\");\n\t\t\t\t\t\t$rootScope.$broadcast(\"refreshDashboard\")\n\t\t\t\t\t\tif (self.submodules.benoic.enabled) {\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"reinitBenoic\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"closeBenoic\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"submodules\"), $translate.instant(\"submodules_enable_success\"));\n\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"submodules\"), $translate.instant(\"submodules_enable_error\"));\n\t\t\t\t\t});\n\t\t\t\t} else if (submodule === \"carleon\") {\n\t\t\t\t\tangharadFactory.enableSubmodule(submodule, self.submodules.carleon.enabled).then(function (response) {\n\t\t\t\t\t\tsagremorParams.carleonEnabled = self.submodules.carleon.enabled;\n\t\t\t\t\t\t$rootScope.$broadcast(\"submodulesChanged\");\n\t\t\t\t\t\t$rootScope.$broadcast(\"refreshDashboard\")\n\t\t\t\t\t\tif (self.submodules.carleon.enabled) {\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"reinitCarleon\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"closeCarleon\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"submodules\"), $translate.instant(\"submodules_enable_success\"));\n\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"submodules\"), $translate.instant(\"submodules_enable_error\"));\n\t\t\t\t\t});\n\t\t\t\t} else if (submodule === \"gareth\") {\n\t\t\t\t\tangharadFactory.enableSubmodule(submodule, self.submodules.gareth.enabled).then(function (response) {\n\t\t\t\t\t\tsagremorParams.garethEnabled = self.submodules.gareth.enabled;\n\t\t\t\t\t\t$rootScope.$broadcast(\"submodulesChanged\");\n\t\t\t\t\t\t$rootScope.$broadcast(\"refreshDashboard\")\n\t\t\t\t\t\tif (self.submodules.gareth.enabled) {\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"reinitGareth\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"closeGareth\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"submodules\"), $translate.instant(\"submodules_enable_success\"));\n\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"submodules\"), $translate.instant(\"submodules_enable_error\"));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, function () {\n\t\t\t\tself.submodules[submodule].enabled = !self.submodules[submodule].enabled;\n\t\t\t});\n\t\t};\n\n\t\tthis.addProfile = function () {\n\t\t\tself.newProfileName = \"\";\n\t\t\tself.newProfileDescription = \"\";\n\t\t\tself.newProfileDefault = false;\n\t\t\tself.profileAdded = true;\n\t\t};\n\n\t\tthis.cancelNewProfile = function () {\n\t\t\tself.profileAdded = false;\n\t\t};\n\t\t\n\t\tthis.isProfileValid = function () {\n\t\t\tvar result = self.newProfileName.length > 0;\n\t\t\t_.forEach(self.profileList, function (profile) {\n\t\t\t\tif (profile.name === self.newProfileName) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\t\t\n\t\tthis.saveNewProfile = function () {\n\t\t\tvar newProfile = {name: self.newProfileName, description: self.newProfileDescription, default: self.newProfileDefault};\n\t\t\tangharadFactory.setProfile(self.newProfileName, newProfile).then(function () {\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_add_success\"));\n\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\tself.profileList.push(newProfile);\n\t\t\t}, function (error) {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_add_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\tself.profileAdded = false;\n\t\t\t});\n\t\t};\n\n\t\tthis.removeProfile = function (profile) {\n\t\t\tsagremorConfirm.open($translate.instant(\"profile_remove\"), $translate.instant(\"profile_remove_confirm\")).then (function(result) {\n\t\t\t\tangharadFactory.removeProfile(profile.name).then(function () {\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_remove_success\"));\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\t_.remove(self.profileList, function (curProfile) {\n\t\t\t\t\t\treturn profile.name === curProfile.name;\n\t\t\t\t\t});\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_remove_error\"));\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.cleanProfile = function (profile) {\n\t\t\tsagremorConfirm.open($translate.instant(\"profile_clean\"), $translate.instant(\"profile_clean_confirm\")).then (function(result) {\n\t\t\t\tvar cleanProfile = {name: profile.name, description: profile.description, default: profile.default};\n\t\t\t\tangharadFactory.setProfile(profile.name, cleanProfile).then(function (result) {\n\t\t\t\t\tfor (key in sagremorParams.profiles) {\n\t\t\t\t\t\tif (sagremorParams.profiles[key].name === cleanProfile.name) {\n\t\t\t\t\t\t\tsagremorParams.profiles[key] = cleanProfile;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sagremorParams.currentProfile.name === cleanProfile.name) {\n\t\t\t\t\t\tsagremorParams.currentProfile = cleanProfile;\n\t\t\t\t\t}\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_success\"));\n\t\t\t\t\tprofile = cleanProfile;\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tthis.editProfile = function (profile) {\n\t\t\tprofile.update = true;\n\t\t\tprofile.newName = profile.name;\n\t\t\tprofile.newDescription = profile.description;\n\t\t};\n\n\t\tthis.cancelEditProfile = function (profile) {\n\t\t\tprofile.update = false;\n\t\t\tprofile.name = profile.newName;\n\t\t\tprofile.description = profile.newDescription;\n\t\t};\n\n\t\tthis.isUpdateProfileValid = function (profile) {\n\t\t\tvar result = profile.newName.length > 0;\n\t\t\t_.forEach(self.profileList, function (curProfile) {\n\t\t\t\tif (profile.name !== curProfile.name && profile.newName === curProfile.name) {\n\t\t\t\t\t// Duplicate name, avoid\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\n\t\tthis.saveProfile = function (profile) {\n\t\t\tif (profile.name !== profile.savedName) {\n\t\t\t\t// Remve old profile, then add new one\n\t\t\t\tvar savedName = profile.newName;\n\t\t\t\tprofile.name = profile.newName;\n\t\t\t\tprofile.description = profile.newDescription;\n\t\t\t\tdelete profile.newName;\n\t\t\t\tdelete profile.newDescription;\n\t\t\t\tdelete profile.update;\n\t\t\t\tvar promises = {\n\t\t\t\t\tremove: angharadFactory.removeProfile(savedName),\n\t\t\t\t\tadd: angharadFactory.setProfile(profile.name, profile)\n\t\t\t\t}\n\n\t\t\t\t$q.all(promises).then(function (results) {\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t  // Update profile\n\t\t\t\tdelete profile.savedName;\n\t\t\t\tdelete profile.savedDescription;\n\t\t\t\tdelete profile.update;\n\t\t\t\tangharadFactory.setProfile(profile.name, profile).then(function (result) {\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.setDefaultProfile = function (profile) {\n\t\t\tif (!profile.default) {\n\t\t\t\t// Update just this one\n\t\t\t\tdelete profile.savedName;\n\t\t\t\tdelete profile.savedDescription;\n\t\t\t\tdelete profile.update;\n\t\t\t\tangharadFactory.setProfile(profile.name, profile).then(function (result) {\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Set this one to default, and set the other default to false\n\t\t\t\tdelete profile.update;\n\t\t\t\tangharadFactory.setProfile(profile.name, profile).then(function (result) {\n\t\t\t\t\t_.forEach(self.profileList, function (curProfile) {\n\t\t\t\t\t\tif (curProfile.default && curProfile.name !== profile.name) {\n\t\t\t\t\t\t\tcurProfile.default = false;\n\t\t\t\t\t\t\tangharadFactory.setProfile(curProfile.name, curProfile).then(function (result) {\n\t\t\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profiles\"), $translate.instant(\"profiles_save_error\"));\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.useProfile = function (profile) {\n\t\t\tsagremorParams.currentProfile = profile;\n\t\t\tvar exp = new $window.Date();\n\t\t\texp = new $window.Date(exp.getFullYear() + 10, exp.getMonth(), exp.getDate());\n\t\t\t$cookies.put(\"ANGHARAD_PROFILE\", profile.name, {expires: exp});\n\t\t\t$rootScope.$broadcast(\"angharadProfileUpdated\");\n\t\t};\n\t\t\n\t\t$scope.$on(\"angharadProfileChanged\", function () {\n\t\t\tself.profileList = sagremorParams.profiles;\n\t\t});\n\n\t\t$scope.$on(\"angharadProfileUpdated\", function () {\n\t\t\tself.currentProfile = sagremorParams.currentProfile;\n\t\t});\n\n\t\tthis.init();\n    }\n).filter(\"deviceTypeName\", [\n    \"sharedData\",\n    function(sharedData) {\n        return function(input) {\n          var types = sharedData.all(\"benoicDeviceTypes\");\n          for (key in types) {\n            if (types[key].uid === input) {\n              return types[key].name;\n            }\n          }\n          return false;\n        };\n    }]);\n\nangular.module(\"sagremorApp\")\n    .controller(\"monitorsCtrl\",\n    function($scope, $translate, toaster, sagremorService, angharadFactory, carleonFactory, sagremorParams, sagremorEdit) {\n      \n        var self = this;\n        \n        this.monitorList = [];\n        this.sagremorParams = sagremorParams;\n        \n        this.init = function () {\n\n\t\t\t$translate([\"edit\", \"remove\", \"add_to_dashboard\"]).then(function (results) {\n\t\t\t\tself.menu = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"remove\", \n\t\t\t\t\t\tdisplay: results.remove, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.removeMonitor(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tparam.type = \"monitor\";\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\tself.updateMonitors();\n\t\t\t});\n\t\t};\n        \n        $scope.$on(\"angharadProfileChanged\", function () {\n            self.updateMonitors();\n        });\n        \n        this.updateMonitors = function () {\n\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\tif (!!profile && !!profile.monitorList) {\n\t\t\t\tself.monitorList = profile.monitorList;\n\t\t\t}\n        };\n        \n        this.newMonitor = function () {\n\t\t\treturn sagremorEdit.open($translate.instant(\"monitor_new_title\"), $translate.instant(\"monitor_new_value\"), $translate.instant(\"monitor_new_placeholder\")).then(function (result) {\n\t\t\t\taddMonitor(result.value);\n\t\t\t});\n\t\t};\n\t\t\n\t\tfunction addMonitor(name) {\n\t\t\tif (sagremorParams.currentProfile) {\n\t\t\t\tvar exist = _.find(sagremorParams.currentProfile.monitorList, function (monitor) {\n\t\t\t\t\treturn monitor.name === name;\n\t\t\t\t});\n\t\t\t\tif (!sagremorParams.currentProfile.monitorList) {\n\t\t\t\t\tsagremorParams.currentProfile.monitorList = [];\n\t\t\t\t}\n\t\t\t\tif (!exist && !!name) {\n\t\t\t\t\tvar monitor = {name: name, elements: []};\n\t\t\t\t\tsagremorParams.currentProfile.monitorList.push(monitor);\n\t\t\t\t\tangharadFactory.saveCurrentProfile().then(function() {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"monitor_save\"), $translate.instant(\"monitor_save_success\"));\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"monitor_save\"), $translate.instant(\"monitor_save_error\"));\n\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n        \n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"scriptsCtrl\",\n    function($scope, $translate, sagremorService, angharadFactory, sharedData, sagremorParams) {\n      \n        var self = this;\n        \n        this.scriptList = [];\n        this.sagremorParams = sagremorParams;\n        \n        this.init = function () {\n\t\t\t\t\t$translate([\"edit\", \"monitor\", \"bind_to_element\", \"add_to_dashboard\"]).then(function (results) {\n\t\t\t\t\t\tself.menuScript = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\t\t\tdisplay: $translate.instant(\"edit\"), \n\t\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\t\tsagremorService.editScript(param);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"remove\", \n\t\t\t\t\t\t\t\tdisplay: $translate.instant(\"remove\"),\n\t\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\t\tsagremorService.removeScript(param).then(function () {\n\t\t\t\t\t\t\t\t\t\t$scope.$broadcast(\"angharadScriptsChanged\");\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"bind_to_element\", \n\t\t\t\t\t\t\t\tdisplay: $translate.instant(\"bind_to_element\"),\n\t\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\t\tsagremorService.bindToElement(param);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\t\t\tdisplay: $translate.instant(\"add_to_dashboard\"),\n\t\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\t\tparam.type = \"script\";\n\t\t\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t];\n\t\t\t\t\t\tself.updateScripts();\n\t\t\t\t\t});\n\t\t\t\t};\n        \n        $scope.$on(\"angharadScriptsChanged\", function () {\n            self.updateScripts();\n        });\n        \n        this.updateScripts = function () {\n            var scripts = sharedData.all(\"angharadScripts\");\n            self.scriptList = [];\n            for (key in scripts) {\n\t\t\t\tself.scriptList.push(scripts[key]);\n            }\n        };\n        \n        $scope.$on(\"refreshAngharadScripts\", function () {\n            self.refreshScripts();\n        });\n        \n        this.refreshScripts = function () {\n\t\t\t\t\tvar scripts = sharedData.all(\"angharadScripts\");\n\t\t\t\t\t\t\t\tfor (key in scripts) {\n\t\t\t\t\t\tvar found = _.find(self.scriptList, function (script) {\n\t\t\t\t\t\t\treturn script.name === key;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\tself.scriptList.push(scripts[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfor (var index = self.scriptList.length - 1; index >= 0; index--) {\n\t\t\t\t\t\tif (!sharedData.get(\"angharadScripts\", self.scriptList[index].name)) {\n\t\t\t\t\t\t\tself.scriptList.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n        \n        this.newScript = function () {\n\t\t\t\t\tsagremorService.editScript(null);\n\t\t\t\t};\n\t\t\n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"sensorsCtrl\",\n    function($scope, $location, $translate, sagremorService, benoicFactory, sharedData, sagremorParams) {\n      \n        var self = this;\n        \n        this.sensorList = [];\n        this.sagremorParams = sagremorParams;\n        \n        this.init = function () {\n\t\t\tif (!sagremorParams.loggedIn) {\n\t\t\t\t$location.path(\"/login\");\n\t\t\t}\n\t\t\t$translate([\"edit\", \"monitor\", \"add_to_dashboard\"]).then(function (results) {\n\t\t\t\tself.menuSensor = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\tdisplay: results.edit, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.editSensor(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"monitor\", \n\t\t\t\t\t\tdisplay: results.monitor, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.monitor(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tself.updateSensors();\n\t\t\t});\n\t\t};\n        \n        $scope.$on(\"benoicDevicesChanged\", function () {\n            self.updateSensors();\n        });\n        \n        $scope.$on(\"benoicSensorsChanged\", function () {\n            self.updateSensors();\n        });\n        \n        this.updateSensors = function () {\n            var devices = sharedData.all(\"benoicDevices\");\n\t\t\tself.sensorList = [];\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (se in devices[key].element.sensors) {\n                        var sensors = devices[key].element.sensors[se];\n                        sensors.device = deviceName;\n                        sensors.name = se;\n                        self.sensorList.push(sensors);\n                    }\n                }\n            }\n        };\n        \n        $scope.$on(\"refreshDevices\", function () {\n            self.refreshElements();\n        });\n        \n        this.refreshElements = function () {\n\t\t\t// Add all elements that are not in self.sensorList\n\t\t\tvar devices = sharedData.all(\"benoicDevices\");\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (se in devices[key].element.sensors) {\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\tvar found = _.find(self.sensorList, function (element) {\n\t\t\t\t\t\t\treturn element.name === se && element.device === deviceName;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\tvar sensor = devices[key].element.sensors[se];\n\t\t\t\t\t\t\tsensor.device = deviceName;\n\t\t\t\t\t\t\tsensor.name = se;\n\t\t\t\t\t\t\tself.sensorList.push(sensor);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar sensor = devices[key].element.sensors[se];\n\t\t\t\t\t\t\tsensor.device = deviceName;\n\t\t\t\t\t\t\tsensor.name = se;\n\t\t\t\t\t\t\tvar index = _.indexOf(self.sensorList, _.find(self.sensorList, {device: deviceName, name: se}));\n\t\t\t\t\t\t\tself.sensorList.splice(index, 1, sensor);\n\t\t\t\t\t\t}\n                    }\n                }\n            }\n            \n            // Remove all elements from self.sensorList that are no longer in devices\n            _.remove(self.sensorList, function (sensor) {\n\t\t\t\tvar found = _.find(sharedData.all(\"benoicDevices\"), function (device, deviceName) {\n\t\t\t\t\treturn !device.element || _.find(device.element.sensors, function (element, eltName) {\n\t\t\t\t\t\treturn eltName === sensor.name && deviceName === sensor.device;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!found) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n        \n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"serviceCtrl\",\n    function($scope, $stateParams, $location, $translate, $uibModal, toaster, sagGenericInjectorManager, sagremorService, carleonFactory, sharedData, sagremorParams) {\n      \n        var self = this;\n        \n        this.serviceList = [];\n        this.title = \"\"\n        \n        this.sagremorParams = sagremorParams;\n        this.currentInjectors = _.filter(sagGenericInjectorManager.components, function (component) {\n\t\t\treturn component.leftMenu && component.leftMenu.target === $stateParams.service;\n\t\t});\n\t\tthis.size = 1;\n        \n        this.init = function () {\n\t\t\tif (!sagremorParams.loggedIn) {\n\t\t\t\t$location.path(\"/login\");\n\t\t\t}\n\t\t\tloadServices();\n\t\t};\n\t\t\n\t\tfunction loadServices () {\n\t\t\t_.forEach(self.currentInjectors, function (currentInjector) {\n\t\t\t\tvar cService = sharedData.get(\"carleonServices\", currentInjector.type);\n\t\t\t\tif (!!cService && cService.enabled && !_.find(self.serviceList, {type: currentInjector.type})) {\n\t\t\t\t\tvar service = {type: currentInjector.type};\n\t\t\t\t\tself.title = currentInjector.leftMenu.title;\n\t\t\t\t\tservice.size = currentInjector.size || 1\n\t\t\t\t\tservice.serviceGroup = {title: currentInjector.groupTitle, list: [], service: currentInjector.service};\n\t\t\t\t\tservice.menu = [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\t\tdisplay: $translate.instant(\"edit\"), \n\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\tparam.service.editService(param);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"remove\", \n\t\t\t\t\t\t\tdisplay: $translate.instant(\"remove\"), \n\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\tparam.service.removeService(param).then(function () {\n\t\t\t\t\t\t\t\t\t$scope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\t\tdisplay: $translate.instant(\"add_to_dashboard\"), \n\t\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\t\tif (sagremorService.addToDashboard(param)) {\n\t\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\t\t\t\t\tself.serviceList.push(service);\n\t\t\t\t}\n\t\t\t});\n\t\t\t_.forEach(self.currentInjectors, function (currentInjector) {\n\t\t\t\tvar cService = sharedData.get(\"carleonServices\", currentInjector.type);\n\t\t\t\tif (!!cService && cService.enabled && !!cService.element) {\n\t\t\t\t\tvar serviceGroup = _.find(self.serviceList, {type: currentInjector.type});\n\t\t\t\t\tif (!!serviceGroup && !serviceGroup.list) {\n\t\t\t\t\t\tserviceGroup.list = [];\n\t\t\t\t\t}\n\t\t\t\t\t!serviceGroup || _.forEach(cService.element, function (element) {\n\t\t\t\t\t\tvar exist = _.find(serviceGroup.list, function (elt) {\n\t\t\t\t\t\t\treturn elt.name === element.name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!exist) {\n\t\t\t\t\t\t\tvar elt = {name: element.name, type: element.type, description: element.description, service: currentInjector.service};\n\t\t\t\t\t\t\tserviceGroup.list.push(elt);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t!serviceGroup || _.forEach(serviceGroup.list, function (elt, index) {\n\t\t\t\t\t\tvar exist = _.find(cService.element, function (serviceElt) {\n\t\t\t\t\t\t\treturn serviceElt.name === elt.name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!exist) {\n\t\t\t\t\t\t\tserviceGroup.list.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tthis.addService = function (service) {\n\t\t\tservice.addService();\n\t\t};\n\t\t\n\t\t$scope.$on(\"carleonServicesChanged\", function () {\n\t\t\tloadServices();\n\t\t});\n        \n\t\t$scope.$on(\"refreshCarleonServices\", function () {\n\t\t\tloadServices();\n\t\t});\n\t\n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"switchesCtrl\",\n    function($scope, $location, $translate, sagremorService, benoicFactory, sharedData, sagremorParams) {\n      \n        var self = this;\n        \n        this.switchList = [];\n        this.dimmerList = [];\n        this.sagremorParams = sagremorParams;\n        \n        this.init = function () {\n\t\t\tif (!sagremorParams.loggedIn) {\n\t\t\t\t$location.path(\"/login\");\n\t\t\t}\n\t\t\t$translate([\"edit\", \"monitor\", \"add_to_dashboard\"]).then(function (results) {\n\t\t\t\tself.menuSwitcher = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\tdisplay: results.edit, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.editSwitcher(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"monitor\", \n\t\t\t\t\t\tdisplay: results.monitor, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.monitor(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\tself.menuDimmer = [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"edit\", \n\t\t\t\t\t\tdisplay: results.edit, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.editDimmer(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"monitor\", \n\t\t\t\t\t\tdisplay: results.monitor, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.monitor(param);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: \"add_to_dashboard\", \n\t\t\t\t\t\tdisplay: results.add_to_dashboard, \n\t\t\t\t\t\taction: function (param) {\n\t\t\t\t\t\t\tsagremorService.addToDashboard(param).then(function () {\n\t\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\t\n\t\t\t\tself.updateSwitchers();\n\t\t\t\tself.updateDimmers();\n\t\t\t});\n\t\t};\n        \n        $scope.$on(\"benoicDevicesChanged\", function () {\n            self.updateSwitchers();\n            self.updateDimmers();\n        });\n        \n        $scope.$on(\"benoicSwitchesChanged\", function () {\n            self.updateSwitchers();\n            self.updateDimmers();\n        });\n        \n        this.updateSwitchers = function () {\n            var devices = sharedData.all(\"benoicDevices\");\n\t\t\tself.switchList = [];\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (sw in devices[key].element.switches) {\n                        var switcher = devices[key].element.switches[sw];\n                        switcher.device = deviceName;\n                        switcher.name = sw;\n                        self.switchList.push(switcher);\n                    }\n                }\n            }\n        };\n        \n        this.updateDimmers = function () {\n            var devices = sharedData.all(\"benoicDevices\");\n\t\t\tself.dimmerList = [];\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (di in devices[key].element.dimmers) {\n                        var dimmer = devices[key].element.dimmers[di];\n                        dimmer.device = deviceName;\n                        dimmer.name = di;\n                        self.dimmerList.push(dimmer);\n                    }\n                }\n            }\n        };\n        \n        $scope.$on(\"refreshDevices\", function () {\n            self.refreshElements();\n        });\n        \n        this.refreshElements = function () {\n\t\t\t// Add all elements that are not in self.dimmerList\n\t\t\tvar devices = sharedData.all(\"benoicDevices\");\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (se in devices[key].element.dimmers) {\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\tvar found = _.find(self.dimmerList, function (element) {\n\t\t\t\t\t\t\treturn element.name === se && element.device === deviceName;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\tvar dimmer = devices[key].element.dimmers[se];\n\t\t\t\t\t\t\tdimmer.device = deviceName;\n\t\t\t\t\t\t\tdimmer.name = se;\n\t\t\t\t\t\t\tself.dimmerList.push(dimmer);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar dimmer = devices[key].element.dimmers[se];\n\t\t\t\t\t\t\tdimmer.device = deviceName;\n\t\t\t\t\t\t\tdimmer.name = se;\n\t\t\t\t\t\t\tvar index = _.indexOf(self.dimmerList, _.find(self.dimmerList, {device: deviceName, name: se}));\n\t\t\t\t\t\t\tself.dimmerList.splice(index, 1, dimmer);\n\t\t\t\t\t\t}\n                    }\n                }\n            }\n            \n            // Remove all elements from self.dimmerList that are no longer in devices\n            _.remove(self.dimmerList, function (dimmer) {\n\t\t\t\tvar found = _.find(sharedData.all(\"benoicDevices\"), function (device, deviceName) {\n\t\t\t\t\treturn _.find(device.element.dimmers, function (element, eltName) {\n\t\t\t\t\t\treturn eltName === dimmer.name && deviceName === dimmer.device;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!found) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// Add all elements that are not in self.switchList\n\t\t\tvar devices = sharedData.all(\"benoicDevices\");\n            for (key in devices) {\n                var deviceName = devices[key].name;\n                if (devices[key].connected && devices[key].enabled) {\n                    for (se in devices[key].element.switches) {\n\t\t\t\t\t\tvar index = 0;\n\t\t\t\t\t\tvar found = _.find(self.switchList, function (element) {\n\t\t\t\t\t\t\treturn element.name === se && element.device === deviceName;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!found) {\n\t\t\t\t\t\t\tvar switcher = devices[key].element.dimmers[se];\n\t\t\t\t\t\t\tswitcher.device = deviceName;\n\t\t\t\t\t\t\tswitcher.name = se;\n\t\t\t\t\t\t\tself.switchList.push(switcher);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar switcher = devices[key].element.switches[se];\n\t\t\t\t\t\t\tswitcher.device = deviceName;\n\t\t\t\t\t\t\tswitcher.name = se;\n\t\t\t\t\t\t\tvar index = _.indexOf(self.switchList, _.find(self.switchList, {device: deviceName, name: se}));\n\t\t\t\t\t\t\tself.switchList.splice(index, 1, switcher);\n\t\t\t\t\t\t}\n                    }\n                }\n            }\n            \n            // Remove all elements from self.switchList that are no longer in devices\n            _.remove(self.switchList, function (switcher) {\n\t\t\t\tvar found = _.find(sharedData.all(\"benoicDevices\"), function (device, deviceName) {\n\t\t\t\t\treturn !device.element || _.find(device.element.dimmers, function (element, eltName) {\n\t\t\t\t\t\treturn eltName === dimmer.name && deviceName === dimmer.device;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!found) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n        \n        this.init();\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"usersCtrl\",\n    function($scope, $translate, toaster, DTOptionsBuilder, angharadFactory, sagremorConfirm) {\n      \n        var self = this;\n        \n        this.userList = [];\n        this.tokenList = [];\n        \n        this.options = {};\n        \n        this.newUser = false;\n        this.user = {\n\t\t\tlogin: \"\",\n\t\t\tpassword: \"\",\n\t\t\tenabled: true\n\t\t};\n\t\tthis.usersEnabled = true;\n\t\t\n\t\tthis.searchOptions = {\n\t\t\tlogin: \"\",\n\t\t\tenabled: \"\",\n\t\t};\n        \n        this.init = function () {\n\t\t\tif ($translate.use()) {\n\t\t\t\tself.options = DTOptionsBuilder.newOptions()\n\t\t\t\t\t\t\t\t.withLanguageSource(\"components/core/i18n/datatables.\"+$translate.use()+\".json\");\n\t\t\t}\n\t\t\tself.getUserList();\n\t\t\tself.getTokenList();\n\t\t};\n\t\t\n\t\tthis.getUserList = function () {\n\t\t\tangharadFactory.getUserList().then(function (result) {\n\t\t\t\tself.userList = result;\n\t\t\t}, function (error) {\n\t\t\t\tif (error.status === 404) {\n\t\t\t\t\tself.usersEnabled = false;\n\t\t\t\t} else {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_get_user_list\"), $translate.instant(\"users_get_user_list_error\"));\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.addUser = function () {\n\t\t\tself.newUser = true;\n\t\t};\n\t\t\n\t\tthis.cancelNewUser = function () {\n\t\t\tself.newUser = false;\n\t\t\tself.user = {\n\t\t\t\tlogin: \"\",\n\t\t\t\tpassword: \"\",\n\t\t\t\tenabled: true\n\t\t\t};\n\t\t};\n\t\t\n\t\tthis.isNewUserValid = function () {\n\t\t\tvar found = _.find(self.userList, {login: self.user.login});\n\t\t\t\n\t\t\tif (found) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\treturn !!self.user.login && self.user.login.length > 0 && !!self.user.password && self.user.password.length > 0;\n\t\t};\n\t\t\n\t\tthis.createNewUser = function () {\n\t\t\tangharadFactory.addUser(self.user).then(function () {\n\t\t\t\tself.userList.push(self.user);\n\t\t\t\tself.newUser = false;\n\t\t\t\tself.user = {\n\t\t\t\t\tlogin: \"\",\n\t\t\t\t\tpassword: \"\",\n\t\t\t\t\tenabled: true\n\t\t\t\t};\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"users_save_user\"), $translate.instant(\"users_save_user_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_save_user\"), $translate.instant(\"users_save_user_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.displayChangePassword = function (user) {\n\t\t\tuser.changePassword = true;\n\t\t};\n\t\t\n\t\tthis.cancelChangePassword = function (user) {\n\t\t\tuser.changePassword = false;\n\t\t\tuser.password = \"\";\n\t\t};\n\t\t\n\t\tthis.changePassword = function (user) {\n\t\t\tangharadFactory.setUser(user.login, user).then(function () {\n\t\t\t\tuser.password = \"\";\n\t\t\t\tuser.changePassword = false;\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"users_save_user\"), $translate.instant(\"users_save_user_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_save_user\"), $translate.instant(\"users_save_user_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.enableUser = function (user) {\n\t\t\tangharadFactory.setUser(user.login, {enabled: user.enabled}).then(function () {\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"users_save_user\"), $translate.instant(\"users_save_user_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_save_user\"), $translate.instant(\"users_save_user_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.removeUser = function (user) {\n\t\t\treturn sagremorConfirm.open($translate.instant(\"users_user_remove\"), $translate.instant(\"users_user_remove_confirm\", {login: user.login})).then(function () {\n\t\t\t\treturn angharadFactory.removeUser(user.login).then(function () {\n\t\t\t\t\t_.remove(self.userList, {login: user.login});\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"users_user_remove\"), $translate.instant(\"users_user_remove_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_user_remove\"), $translate.instant(\"users_user_remove_error\"));\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.getTokenList = function () {\n\t\t\tvar options = {\n\t\t\t\tlogin: self.searchOptions.login\n\t\t\t};\n\t\t\tif (self.searchOptions.enabled === \"true\") {\n\t\t\t\toptions.enabled = true;\n\t\t\t} else if (self.searchOptions.enabled === \"false\") {\n\t\t\t\toptions.enabled = false;\n\t\t\t}\n\t\t\t\n\t\t\tangharadFactory.getTokenList(options).then(function (result) {\n\t\t\t\tself.tokenList = result;\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_get_token_list\"), $translate.instant(\"users_get_token_list_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.displayToken = function (token) {\n\t\t\treturn token.substring(0, 4) + \"****-****-****-****-********\" + token.substring(32);\n\t\t};\n\t\t\n\t\tthis.revokeToken = function (token) {\n\t\t\treturn sagremorConfirm.open($translate.instant(\"users_token_revoke\"), $translate.instant(\"users_token_revoke_confirm\")).then(function () {\n\t\t\t\treturn angharadFactory.revokeToken(token.token).then(function () {\n\t\t\t\t\ttoken.enabled = false;\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"users_token_revoke\"), $translate.instant(\"users_token_revoke_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"users_token_revoke\"), $translate.instant(\"users_token_revoke_error\"));\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t\n        this.init();\n        \n\t\t$scope.$on(\"changeLang\", function () {\n\t\t\tself.options = DTOptionsBuilder.newOptions()\n\t\t\t\t\t\t\t.withLanguageSource(\"components/core/i18n/datatables.\"+$translate.use()+\".json\");\n\t\t});\n    }\n);\n\nangular.module(\"sagremorApp\").directive(\"sagGenericInjector\", function ($compile, sagGenericInjectorManager, sharedData) {\n    \n    var template = \"<directive element=\\\"elt\\\"></directive>\";\n    \n    var templateNotFound = \"<div class=\\\"container has-error\\\" data-translate=\\\"injector_not_found\\\"></div>\";\n     \n    var templateDisabled = \"<div class=\\\"container has-error\\\" data-translate=\\\"injector_disabled\\\"></div>\";\n     \n    return{\n        scope: {\n            type: \"=\",\n            elt: \"=\"\n        },\n        link: function(scope, element) {\n            var config = _.find(sagGenericInjectorManager.components, {type: scope.type});\n\t\t\tvar service = sharedData.get(\"carleonServices\", scope.type);\n\t\t\tif (config.carleonService && service && service.enabled) {\n\t\t\t\tcontent = $compile(template.replace(/directive/g, config.directive))(scope);\n\t\t\t} else if (config.carleonService && service && !service.enabled) {\n\t\t\t\tcontent = $compile(templateDisabled)(scope);\n\t\t\t} else if (!config.carleonService) {\n\t\t\t\tcontent = $compile(template.replace(/directive/g, config.directive))(scope);\n\t\t\t} else {\n\t\t\t\tcontent = $compile(templateNotFound)(scope);\n\t\t\t}\n            element.append(content);\n        }\n    }});\n\nfunction carleonLiquidsoapController ($scope, $sce, $q, $window, $translatePartialLoader, $translate, $interval, angharadConfig, carleonFactory, carleonLiquidsoapFactory, sagremorService, sagremorParams, toaster) {\n    var ctrl = this;\n    \n    this.radio = {};\n\tthis.status = \"\";\n    this.onAir = {\n\t\ttitle: \"\",\n\t\tartist: \"\",\n\t\talbumartist: \"\",\n\t\tyear: \"\",\n\t\talbum: \"\"\n\t};\n\tthis.list = [];\n\tthis.listSelected = {\n\t\ttitle: \"\",\n\t\tartist: \"\",\n\t\talbumartist: \"\",\n\t\tyear: \"\",\n\t\talbum: \"\"\n\t};\n    \n    this.onAirAccordionOpen = false;\n    this.listAccordionOpen = false;\n    \n    function init() {\n\t\tcarleonLiquidsoapFactory.getLiquidsoapService(ctrl.element.name).then(function (result) {\n\t\t\tctrl.radio = result;\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_init\"), $translate.instant(\"carleon_liquidsoap_init_error\"));\n\t\t});\n    }\n    \n    this.commandRadio = function (command) {\n\t\tcarleonLiquidsoapFactory.command(ctrl.element.name, command).then(function (result) {\n\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_liquidsoap_command\"), $translate.instant(\"carleon_liquidsoap_command_success\"));\n\t\t\tctrl.refreshStatus();\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_command\"), $translate.instant(\"carleon_liquidsoap_command_error\"));\n\t\t});\n\t};\n    \n\t$scope.$watch(\"$ctrl.controlAccordionOpen\", function(isOpen){\n\t\tif (isOpen) {\n\t\t\tctrl.refreshStatus();\n\t\t}\n\t});\n\t\n\t$scope.$watch(\"$ctrl.onAirAccordionOpen\", function(isOpen){\n\t\tif (isOpen) {\n\t\t\tctrl.refreshOnAir();\n\t\t}\n\t});\n\t\n\t$scope.$watch(\"$ctrl.listAccordionOpen\", function(isOpen){\n\t\tif (isOpen) {\n\t\t\tctrl.refreshList();\n\t\t}\n\t});\n\t\n\tthis.refreshStatus = function () {\n\t\tcarleonLiquidsoapFactory.command(ctrl.element.name, \"status\").then(function (result) {\n\t\t\tctrl.status = result.value;\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_status\"), $translate.instant(\"carleon_liquidsoap_status_error\"));\n\t\t});\n\t};\n\t\n\tthis.refreshOnAir = function () {\n\t\tcarleonLiquidsoapFactory.onAir(ctrl.element.name).then(function (result) {\n\t\t\tctrl.onAir = result;\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_on_air\"), $translate.instant(\"carleon_liquidsoap_on_air_error\"));\n\t\t});\n\t};\n\t\n\tthis.refreshList = function () {\n\t\tcarleonLiquidsoapFactory.list(ctrl.element.name).then(function (result) {\n\t\t\tctrl.list = result;\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_list\"), $translate.instant(\"carleon_liquidsoap_list_error\"));\n\t\t});\n\t};\n\t\n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"serviceLiquidsoap\", {\n    templateUrl: \"components/carleonLiquidsoap/carleonLiquidsoap.template.html\",\n    controller: carleonLiquidsoapController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.directive(\"radio\", function($sce) {\n\t// Using directive from Hols: http://stackoverflow.com/a/23663352\n\treturn {\n\t\trestrict: \"A\",\n\t\tscope: { src: \"=\" },\n\t\treplace: true,\n\t\ttemplate: \"<audio data-ng-src=\\\"{{url}}\\\" controls></audio>\",\n\t\tlink: function (scope) {\n\t\t\tscope.$watch(\"src\", function (newVal, oldVal) {\n\t\t\t\tif (newVal !== undefined) {\n\t\t\t\t\tscope.url = $sce.trustAsResourceUrl(newVal);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n})\n.factory(\"carleonLiquidsoapFactory\", function($http, $uibModal, $translate, toaster, angharadConfig, angharadBackendService, sagremorConfirm, sharedData) {\n    var urlBase = angharadConfig.baseUrl + angharadConfig.prefixCarleon;\n    var carleonLiquidsoapFactory = {};\n\n\t/* Liquidsoap service */\n    carleonLiquidsoapFactory.getLiquidsoapServiceList = function () {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-liquidsoap/\");\n    };\n\n    carleonLiquidsoapFactory.getLiquidsoapService = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-liquidsoap/\" + name);\n    };\n\n    carleonLiquidsoapFactory.addLiquidsoapService = function (liquidsoapService) {\n        return angharadBackendService.httpRequest(\"POST\", urlBase + \"service-liquidsoap/\", liquidsoapService);\n    };\n\n    carleonLiquidsoapFactory.setLiquidsoapService = function (name, liquidsoapService) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-liquidsoap/\" + name, liquidsoapService);\n    };\n\n    carleonLiquidsoapFactory.removeLiquidsoapService = function (name) {\n        return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"service-liquidsoap/\" + name);\n    };\n\n    carleonLiquidsoapFactory.list = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-liquidsoap/\" + name + \"/list\");\n    };\n\n    carleonLiquidsoapFactory.onAir = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-liquidsoap/\" + name + \"/on_air\");\n    };\n\n    carleonLiquidsoapFactory.command = function (name, command) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-liquidsoap/\" + name + \"/command/\" + command);\n    };\n\n\tcarleonLiquidsoapFactory.addService = function () {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonLiquidsoap/carleonLiquidsoap.modal.html\",\n\t\t\tcontroller: \"carleonLiquidsoapModalCtrl\",\n\t\t\tcontrollerAs: \"carleonLiquidsoapModalCtrl\",\n\t\t\tsize: \"md\",\n\t\t\tresolve: {\n\t\t\t\telement: function () {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tcarleonLiquidsoapFactory.editService = function (service) {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonLiquidsoap/carleonLiquidsoap.modal.html\",\n\t\t\tcontroller: \"carleonLiquidsoapModalCtrl\",\n\t\t\tcontrollerAs: \"carleonLiquidsoapModalCtrl\",\n\t\t\tsize: \"md\",\n\t\t\tresolve: {\n\t\t\t\telement: function () {\n\t\t\t\t\treturn service;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tcarleonLiquidsoapFactory.removeService = function (service) {\n\t\treturn sagremorConfirm.open($translate.instant(\"carleon_liquidsoap_remove\"), $translate.instant(\"carleon_liquidsoap_remove_confirm\")).then(function () {\n\t\t\treturn carleonLiquidsoapFactory.removeLiquidsoapService(service.name).then(function () {\n\t\t\t\tvar injector = sharedData.get(\"carleonServices\", \"service-liquidsoap\");\n\t\t\t\t_.remove(injector.element, function (element) {\n\t\t\t\t\treturn element.name === service.name;\n\t\t\t\t});\n\t\t\t\tsharedData.add(\"carleonServices\", \"service-liquidsoap\", injector);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_liquidsoap_remove\"), $translate.instant(\"carleon_liquidsoap_remove_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_remove\"), $translate.instant(\"carleon_liquidsoap_remove_error\"));\n\t\t\t});\n\t\t});\n\t};\n\t\n    return carleonLiquidsoapFactory;\n\n})\n.config(function run($translatePartialLoaderProvider) {\n\t$translatePartialLoaderProvider.addPart(\"carleonLiquidsoap\");\n})\n.run(function(sagGenericInjectorManager, carleonLiquidsoapFactory) {\n    sagGenericInjectorManager.add({\n        type: \"service-liquidsoap\",\n        directive: \"service-liquidsoap\",\n        groupTitle: \"carleon_liquidsoap_title\",\n        service: carleonLiquidsoapFactory,\n        carleonService: true,\n        size: 2,\n        leftMenu: {\n\t\t\ttitle: \"carleon_music_title\",\n\t\t\ttarget: \"music\"\n\t\t},\n\t\twidgetHeight: 4,\n\t\twidgetWidth: 3,\n\t\ticon: \"music\",\n\t\tcommands: {\n\t\t}\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"carleonLiquidsoapModalCtrl\", \n    function($rootScope, $uibModalInstance, $translate, sharedData, toaster, carleonLiquidsoapFactory, element) {\n        var self = this;\n\n        this.messages = {};\n        this.add = true;\n        this.element = {\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t\tradio_url: \"\",\n\t\t\tradio_type: \"\",\n\t\t\tcontrol_enabled: false,\n\t\t\tcontrol_host: \"\",\n\t\t\tcontrol_port: 0,\n\t\t\tcontrol_request_name: \"\"\n\t\t}\n\n        function init() {\n\t\t\tif (!!element) {\n\t\t\t\tself.element = _.find(sharedData.get(\"carleonServices\", \"service-liquidsoap\").element, function (elt) {\n\t\t\t\t\treturn elt.name === element.name;\n\t\t\t\t});\n\t\t\t\tself.add = false;\n\t\t\t}\n        }\n        \n        this.isLiquidsoapValid = function () {\n\t\t\tvar found = _.find(sharedData.get(\"carleonServices\", \"service-liquidsoap\").element, function (element) {\n\t\t\t\treturn element.name === self.element.name;\n\t\t\t});\n\t\t\treturn (!found || !self.add) \n\t\t\t\t\t&& !!self.element.name\n\t\t\t\t\t&& !!self.element.radio_url \n\t\t\t\t\t&& (!self.element.control_enabled \n\t\t\t\t\t\t|| (!!self.element.control_host && !!self.element.control_port && !!self.element.control_request_name));\n\t\t};\n        \n        this.save = function () {\n\t\t\tif (self.add) {\n\t\t\t\tcarleonLiquidsoapFactory.addLiquidsoapService(self.element).then(function () {\n\t\t\t\t\tself.element.type = \"service-liquidsoap\";\n\t\t\t\t\tself.element.service = carleonLiquidsoapFactory;\n\t\t\t\t\tsharedData.get(\"carleonServices\", \"service-liquidsoap\").element.push(self.element);\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_liquidsoap_save\"), $translate.instant(\"carleon_liquidsoap_save_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_save\"), $translate.instant(\"carleon_liquidsoap_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcarleonLiquidsoapFactory.setLiquidsoapService(self.element.name, self.element).then(function () {\n\t\t\t\t\tself.element.type = \"service-liquidsoap\";\n\t\t\t\t\tself.element.service = carleonLiquidsoapFactory;\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_liquidsoap_save\"), $translate.instant(\"carleon_liquidsoap_save_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_liquidsoap_save\"), $translate.instant(\"carleon_liquidsoap_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n        this.cancel = function () {\n\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t};\n\n        init();\n    }\n);\n\nfunction carleonMockController ($translatePartialLoader, $translate, carleonMockFactory, sagremorParams, toaster) {\n    var ctrl = this;\n    \n    ctrl.adminMode = sagremorParams.adminMode;\n    ctrl.param = {command: \"exec1\", param1: \"test\", param2: 42, param3: 7.3};\n    ctrl.commandList = [\"exec1\", \"exec2\", \"exec3\", \"exec4\"];\n    ctrl.messages = {};\n    \n    function init() {\n    }\n    \n    ctrl.command = function () {\n\t\tcarleonMockFactory.commandMock(ctrl.element.name, ctrl.param.command, ctrl.param.param1, ctrl.param.param2, ctrl.param.param3).then(function (result) {\n\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mock_command\"), $translate.instant(\"carleon_mock_command_success\"));\n\t\t}, function (error) {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mock_command\"), $translate.instant(\"carleon_mock_command_error\"));\n\t\t});\n\t};\n\t\n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"carleonMock\", {\n    templateUrl: \"components/carleonMock/carleonMock.template.html\",\n    controller: carleonMockController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.factory(\"carleonMockFactory\", function($http, $uibModal, $translate, toaster, angharadConfig, angharadBackendService, sagremorConfirm, sharedData) {\n    var urlBase = angharadConfig.baseUrl + angharadConfig.prefixCarleon;\n    var mockFactory = {};\n\n\t/* Mock service */\n    mockFactory.getMockList = function () {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"mock-service/\");\n    };\n\n    mockFactory.getMock = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"mock-service/\" + name);\n    };\n\n    mockFactory.addMock = function (mock) {\n        return angharadBackendService.httpRequest(\"POST\", urlBase + \"mock-service/\", mock);\n    };\n\n    mockFactory.setMock = function (name, mock) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"mock-service/\" + name, mock);\n    };\n\n    mockFactory.removeMock = function (name) {\n        return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"mock-service/\" + name);\n    };\n\n    mockFactory.commandMock = function (name, command, param1, param2, param3) {\n\t\tif (command === \"exec3\" || command === \"exec4\") {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"mock-service/\" + name + \"/command/\" + command);\n\t\t} else if (command === \"exec2\") {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"mock-service/\" + name + \"/command/\" + command + \"/\" + param1);\n\t\t} else {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"mock-service/\" + name + \"/command/\" + command + \"/\" + param1 + \"/\" + param2 + \"/\" + param3);\n\t\t}\n    };\n\n\tmockFactory.addService = function () {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonMock/carleonMock.modal.html\",\n\t\t\tcontroller: \"CarleonMockModalCtrl\",\n\t\t\tcontrollerAs: \"CarleonMockModalCtrl\",\n\t\t\tsize: \"sm\",\n\t\t\tresolve: {\n\t\t\t\tmock: function () {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tmockFactory.editService = function (service) {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonMock/carleonMock.modal.html\",\n\t\t\tcontroller: \"CarleonMockModalCtrl\",\n\t\t\tcontrollerAs: \"CarleonMockModalCtrl\",\n\t\t\tsize: \"sm\",\n\t\t\tresolve: {\n\t\t\t\tmock: function () {\n\t\t\t\t\treturn service;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tmockFactory.removeService = function (service) {\n\t\treturn sagremorConfirm.open($translate.instant(\"carleon_mock_remove\"), $translate.instant(\"carleon_mock_confirm\")).then(function () {\n\t\t\treturn mockFactory.removeMock(service.name).then(function () {\n\t\t\t\tvar injector = sharedData.get(\"carleonServices\", \"mock-service\");\n\t\t\t\t_.remove(injector.element, function (element) {\n\t\t\t\t\treturn element.name === service.name;\n\t\t\t\t});\n\t\t\t\tsharedData.add(\"carleonServices\", \"mock-service\", injector);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mock_remove\"), $translate.instant(\"carleon_mock_remove_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mock_remove\"), $translate.instant(\"carleon_mock_remove_error\"));\n\t\t\t});\n\t\t});\n\t};\n\t\n    return mockFactory;\n\n})\n.config(function run($translatePartialLoaderProvider) {\n\t$translatePartialLoaderProvider.addPart(\"carleonMock\");\n})\n.run(function(sagGenericInjectorManager, carleonMockFactory) {\n    sagGenericInjectorManager.add({\n        type: \"mock-service\",\n        directive: \"carleon-mock\",\n        groupTitle: \"carleon_mock_title\",\n        service: carleonMockFactory,\n        carleonService: true,\n        size: 1,\n        leftMenu: {\n\t\t\ttitle: \"carleon_mock_title\",\n\t\t\ttarget: \"carleonMock\"\n\t\t},\n\t\twidgetHeight: 3,\n\t\twidgetWidth: 3,\n\t\ticon: \"thumbs-o-up\",\n\t\tcommands: {\n\t\t\texec1: {\n\t\t\t\ttitle: \"carleon_mock_command_exec1_title\",\n\t\t\t\tparameters: {\n\t\t\t\t\tparam1: \"carleon_mock_command_exec1_parameter_param1_title\",\n\t\t\t\t\tparam2: \"carleon_mock_command_exec1_parameter_param2_title\",\n\t\t\t\t\tparam3: \"carleon_mock_command_exec1_parameter_param3_title\"\n\t\t\t\t},\n\t\t\t\tresult: {\n\t\t\t\t\tvalue1: {\n\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\ttitle: \"carleon_mock_command_exec1_result_value1_title\"\n\t\t\t\t\t},\n\t\t\t\t\tvalue2: {\n\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\ttitle: \"carleon_mock_command_exec1_result_value2_title\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\texec2: {\n\t\t\t\ttitle: \"carleon_mock_command_exec2_title\",\n\t\t\t\tparameters: {\n\t\t\t\t\tparam1: \"carleon_mock_command_exec2_parameter_param1_title\"\n\t\t\t\t},\n\t\t\t\tresult: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\ttitle: \"carleon_mock_command_exec2_result_title\"\n\t\t\t\t}\n\t\t\t},\n\t\t\texec3: {\n\t\t\t\ttitle: \"carleon_mock_command_exec3_title\",\n\t\t\t\tparameters: {},\n\t\t\t\tresult: {\n\t\t\t\t\ttype: \"string\",\n\t\t\t\t\ttitle: \"carleon_mock_command_exec3_result_title\"\n\t\t\t\t}\n\t\t\t},\n\t\t\texec4: {\n\t\t\t\ttitle: \"carleon_mock_command_exec4_title\",\n\t\t\t\tparameters: {},\n\t\t\t\tresult: {\n\t\t\t\t\tvalue1: {\n\t\t\t\t\t\ttype: \"integer\",\n\t\t\t\t\t\ttitle: \"carleon_mock_command_exec4_result_value1_title\"\n\t\t\t\t\t},\n\t\t\t\t\tvalue2: {\n\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\ttitle: \"carleon_mock_command_exec4_result_value2_title\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"CarleonMockModalCtrl\", \n    function($rootScope, $uibModalInstance, $translate, sharedData, toaster, carleonMockFactory, mock) {\n        var self = this;\n\n        this.messages = {};\n        this.add = true;\n\n        function init() {\n\t\t\tif (!!mock) {\n\t\t\t\tself.mock = mock;\n\t\t\t\tself.add = false;\n\t\t\t} else {\n\t\t\t\tself.mock = {};\n\t\t\t}\n        }\n        \n        this.cancel = function () {\n\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t};\n\n        this.save = function () {\n\t\t\tif (self.add) {\n\t\t\t\tcarleonMockFactory.addMock(self.mock).then(function () {\n\t\t\t\t\tself.mock.type = \"mock-service\";\n\t\t\t\t\tself.mock.service = carleonMockFactory;\n\t\t\t\t\tsharedData.get(\"carleonServices\", \"mock-service\").element.push(self.mock);\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mock_save\"), $translate.instant(\"carleon_mock_save_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mock_save\"), $translate.instant(\"carleon_mock_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcarleonMockFactory.setMock(self.mock.name, self.mock).then(function () {\n\t\t\t\t\tvar mocks = sharedData.get(\"carleonServices\", \"mock-service\").element;\n\t\t\t\t\t_.forEach(mocks, function (mock) {\n\t\t\t\t\t\tif (mock.name === self.mock.name) {\n\t\t\t\t\t\t\tmock.description = self.mock.description;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mock_save\"), $translate.instant(\"carleon_mock_save_success\"));\n\t\t\t\t}, function (error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mock_save\"), $translate.instant(\"carleon_mock_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n        init();\n    }\n);\n\nfunction carleonMotionController ($scope, $http, $translatePartialLoader, $translate, angharadConfig, angharadFactory, carleonFactory, carleonMotionFactory, sagremorService, sagremorParams, toaster) {\n    var ctrl = this;\n    \n    this.urlBaseImages = angharadConfig.baseUrl + angharadConfig.prefixCarleon + \"service-motion/\" + ctrl.element.name + \"/image/\";\n    this.urlBaseStream = angharadConfig.baseUrl + angharadConfig.prefixCarleon + \"service-motion/\" + ctrl.element.name + \"/stream/\";\n    this.name = ctrl.element.name;\n\n    this.images = [];\n    this.fileListName = [];\n    this.fileList = {};\n    this.selectedFileList = \"\";\n    this.offset = 0;\n    \n    this.streamList = [];\n    this.selectedStream = false;\n    this.streamUri = \"\";\n    \n    this.online = false;\n    \n    this.profileParams = {};\n    \n    this.init = function () {\n\t\tctrl.refresh();\n\t\tctrl.getFromProfile();\n    }\n    \n    this.getFromProfile = function () {\n\t\tif (sagremorParams.currentProfile && _.has(sagremorParams.currentProfile, \"carleon.serviceMotion.\"+ctrl.element.name)) {\n\t\t\tctrl.profileParams = sagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name];\n\t\t} else if (!!sagremorParams.currentProfile) {\n\t\t\tif (!sagremorParams.currentProfile.carleon) {\n\t\t\t\tsagremorParams.currentProfile.carleon = {};\n\t\t\t}\n\t\t\tif (!sagremorParams.currentProfile.carleon.serviceMotion) {\n\t\t\t\tsagremorParams.currentProfile.carleon.serviceMotion = {};\n\t\t\t}\n\t\t\tif (!sagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name]) {\n\t\t\t\tsagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name] = {\n\t\t\t\t\tselectedFileList: \"\",\n\t\t\t\t\tselectedStream: \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n    \n    this.openPopupImage = function (imgArray, index) {\n\t\tcarleonMotionFactory.imagePopup(imgArray, index);\n\t};\n    \n    this.refresh = function () {\n\t\tctrl.fileListName = [];\n\t\tctrl.streamList = [];\n\t\tcarleonMotionFactory.status(ctrl.element.name, ctrl.offset).then(function (response) {\n\t\t\tctrl.online = response.online;\n\t\t\tctrl.fileList = response.file_list;\n\t\t\t_.forEach(response.file_list, function (fileList, name) {\n\t\t\t\tctrl.fileListName.push(name);\n\t\t\t});\n\t\t\tif (!!sagremorParams.currentProfile && !!sagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name].selectedFileList) {\n\t\t\t\tctrl.selectedFileList = sagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name].selectedFileList;\n\t\t\t\tctrl.changeSelectedFileList();\n\t\t\t} else if (ctrl.fileListName.length === 1) {\n\t\t\t\tctrl.selectedFileList = ctrl.fileListName[0];\n\t\t\t\tctrl.changeSelectedFileList();\n\t\t\t}\n\t\t\t\n\t\t\t_.forEach(response.stream_list, function (stream) {\n\t\t\t\tvar image = {\n\t\t\t\t\tname: ctrl.element.name,\n\t\t\t\t\ttitle: stream.name,\n\t\t\t\t\tstream: stream.uri,\n\t\t\t\t\tsnapshotUri: stream.snapshot_uri\n\t\t\t\t};\n\t\t\t\tctrl.streamList.push(image);\n\t\t\t});\n\t\t});\n\t};\n\t\n\tthis.canPrevious = function () {\n\t\treturn ctrl.offset > 0;\n\t};\n\t\n\tthis.canNext = function () {\n\t\treturn ctrl.fileList[ctrl.selectedFileList].length == 20;\n\t};\n    \n\tthis.previousList = function () {\n\t\tctrl.offset -= 20;\n\t\tctrl.refresh();\n\t};\n\t\n\tthis.nextList = function () {\n\t\tctrl.offset += 20;\n\t\tctrl.refresh();\n\t};\n\t\n    this.changeSelectedFileList = function () {\n\t\tctrl.images = [];\n\t\t_.forEach(ctrl.fileList[ctrl.selectedFileList], function (file) {\n\t\t\tvar image = {\n\t\t\t\tthumb: ctrl.urlBaseImages + ctrl.selectedFileList + \"/\" + file + \"?thumbnail=true\",\n\t\t\t\timg: ctrl.urlBaseImages + ctrl.selectedFileList + \"/\" + file,\n\t\t\t\ttitle: file\n\t\t\t}\n\t\t\tctrl.images.push(image);\n\t\t});\n\t\tsagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name].selectedStream = \"\";\n\t\tsagremorParams.currentProfile.carleon.serviceMotion[ctrl.element.name].selectedFileList = ctrl.selectedFileList;\n\t\tangharadFactory.saveCurrentProfile().then(function () {\n\t\t\t//toaster.pop(\"success\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_success\"));\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_error\"));\n\t\t});\n\t};\n\t\n\tthis.openStream = function () {\n\t\tcarleonMotionFactory.imagePopup(ctrl.streamList, 0);\n\t};\n\t\n\t$scope.$on(\"refreshCarleonServices\", function () {\n\t\tctrl.refresh();\n\t});\n\t\n\t$scope.$on(\"carleonServicesChanged\", function () {\n\t\tctrl.init();\n\t});\n\t\n\t$scope.$on(\"angharadProfileChanged\", function () {\n\t\tctrl.getFromProfile();\n\t});\n\t\n    this.init();\n}\n\nangular.module(\"sagremorApp\").component(\"serviceMotion\", {\n    templateUrl: \"components/carleonMotion/carleonMotion.template.html\",\n    controller: carleonMotionController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.factory(\"carleonMotionFactory\", function($http, $uibModal, $translate, toaster, angharadConfig, angharadBackendService, sagremorConfirm, sharedData) {\n    var urlBase = angharadConfig.baseUrl + angharadConfig.prefixCarleon;\n    var carleonMotionFactory = {};\n\n\t/* Motion service */\n    carleonMotionFactory.getMotionServiceList = function () {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-motion/\");\n    };\n\n    carleonMotionFactory.getMotionService = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-motion/\" + name);\n    };\n\n    carleonMotionFactory.addMotionService = function (motionService) {\n        return angharadBackendService.httpRequest(\"POST\", urlBase + \"service-motion/\", motionService);\n    };\n\n    carleonMotionFactory.setMotionService = function (name, motionService) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-motion/\" + name, motionService);\n    };\n\n    carleonMotionFactory.removeMotionService = function (name) {\n        return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"service-motion/\" + name);\n    };\n\n    carleonMotionFactory.status = function (name, offset) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-motion/\" + name + \"/status\", null, {offset: offset});\n    };\n\n    carleonMotionFactory.image = function (name, file_list, file_name, thumbnail) {\n\t\tvar urlParam = {};\n\t\tif (thumbnail) {\n\t\t\turlParam.thumbnail = \"\";\n\t\t}\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-motion/\" + name + \"/image/\" + file_list + \"/\" + file_name, null, urlParam);\n    };\n\n    carleonMotionFactory.stream = function (name, stream_name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service-motion/\" + name + \"/stream/\" + stream_name);\n    };\n\n    carleonMotionFactory.snapshot = function (name, stream_name) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-motion/\" + name + \"/stream/\" + stream_name + \"/snapshot\");\n    };\n\n\tcarleonMotionFactory.addService = function () {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonMotion/carleonMotion.modal.html\",\n\t\t\tcontroller: \"carleonMotionModalCtrl\",\n\t\t\tcontrollerAs: \"carleonMotionModalCtrl\",\n\t\t\tsize: \"md\",\n\t\t\tresolve: {\n\t\t\t\tmotion: function () {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tcarleonMotionFactory.editService = function (service) {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonMotion/carleonMotion.modal.html\",\n\t\t\tcontroller: \"carleonMotionModalCtrl\",\n\t\t\tcontrollerAs: \"carleonMotionModalCtrl\",\n\t\t\tsize: \"md\",\n\t\t\tresolve: {\n\t\t\t\tmotion: function () {\n\t\t\t\t\treturn service;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tcarleonMotionFactory.removeService = function (service) {\n\t\treturn sagremorConfirm.open($translate.instant(\"carleon_motion_remove\"), $translate.instant(\"carleon_motion_confirm\")).then(function () {\n\t\t\treturn carleonMotionFactory.removeMotionService(service.name).then(function () {\n\t\t\t\tvar injector = sharedData.get(\"carleonServices\", \"service-motion\");\n\t\t\t\t_.remove(injector.element, function (element) {\n\t\t\t\t\treturn element.name === service.name;\n\t\t\t\t});\n\t\t\t\tsharedData.add(\"carleonServices\", \"service-motion\", injector);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_motion_remove\"), $translate.instant(\"carleon_motion_remove_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_motion_remove\"), $translate.instant(\"carleon_motion_remove_error\"));\n\t\t\t});\n\t\t});\n\t};\n\t\n\tcarleonMotionFactory.imagePopup = function (imgArray, index) {\n\t\tvar modalInstance = $uibModal.open({\n\t\t\tanimation: true,\n\t\t\ttemplateUrl: \"components/carleonMotion/carleonMotion.image.modal.html\",\n\t\t\tcontroller: \"carleonMotionImageModalCtrl\",\n\t\t\tcontrollerAs: \"carleonMotionImageModalCtrl\",\n\t\t\tsize: \"lg\",\n\t\t\tresolve: {\n\t\t\t\timgArray: function () {\n\t\t\t\t\treturn imgArray;\n\t\t\t\t},\n\t\t\t\tindex: function () {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n        \n    return carleonMotionFactory;\n\n})\n.config(function run($translatePartialLoaderProvider) {\n\t$translatePartialLoaderProvider.addPart(\"carleonMotion\");\n})\n.run(function(sagGenericInjectorManager, carleonMotionFactory) {\n    sagGenericInjectorManager.add({\n        type: \"service-motion\",\n        directive: \"service-motion\",\n        groupTitle: \"carleon_motion_title\",\n        service: carleonMotionFactory,\n        carleonService: true,\n        size: 3,\n        leftMenu: {\n\t\t\ttitle: \"carleon_motion_title\",\n\t\t\ttarget: \"carleonMotion\"\n\t\t},\n\t\twidgetHeight: 5,\n\t\twidgetWidth: 6,\n\t\ticon: \"camera\",\n\t\tcommands: {\n\t\t\tonline: {\n\t\t\t\ttitle: \"carleon_motion_command_online_title\",\n\t\t\t\tparameters: {},\n\t\t\t\tresult: {\n\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\ttitle: \"carleon_motion_command_online_result_title\"\n\t\t\t\t}\n\t\t\t},\n\t\t\tsnapshot: {\n\t\t\t\ttitle: \"carleon_motion_command_snapshot_title\",\n\t\t\t\tparameters: {\n\t\t\t\t\tstream: \"carleon_motion_command_snapshot_parameter_stream_title\",\n\t\t\t\t},\n\t\t\t\tresult: {\n\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\ttitle: \"carleon_motion_command_snapshot_result_title\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"carleonMotionImageModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, carleonMotionFactory, imgArray, index) {\n        var self = this;\n        \n        this.imgArray = imgArray;\n        this.index = index;\n        this.currentImage = {\n\t\t\tname: \"\",\n\t\t\ttitle: \"\",\n\t\t\timg: \"\",\n\t\t\tstream: \"\",\n\t\t\tsnapshotUri: \"\"\n\t\t};\n        \n        function init() {\n\t\t\tself.currentImage = self.imgArray[self.index];\n\t\t\t$scope.$broadcast(\"carleonMotionImageIframe\", self.currentImage);\n        }\n        \n        this.close = function () {\n            $uibModalInstance.dismiss(\"close\");\n        };\n        \n        this.displayTitle = function () {\n\t\t\treturn $translate.instant(\"image_title\") + self.currentImage.title;\n\t\t};\n\t\t\n\t\tthis.changeImage = function (delta) {\n\t\t\tself.index += delta;\n\t\t\tself.currentImage = self.imgArray[self.index];\n\t\t\t$scope.$broadcast(\"carleonMotionImageIframe\", self.currentImage);\n\t\t};\n\t\t\n\t\tthis.canPrevious = function () {\n\t\t\treturn self.index > 0;\n\t\t};\n\t\t\n\t\tthis.canNext = function () {\n\t\t\treturn self.index < self.imgArray.length - 1;\n\t\t};\n\t\t\n\t\tthis.snapshot = function () {\n\t\t\tcarleonMotionFactory.snapshot(self.currentImage.name, self.currentImage.title).then(function () {\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_motion_snapshot\"), $translate.instant(\"carleon_motion_snapshot_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_motion_snapshot\"), $translate.instant(\"carleon_motion_snapshot_error\"));\n\t\t\t});\n\t\t};\n\t\t\n\t\tthis.showIndex = function () {\n\t\t\treturn (self.index + 1) + \" / \" + self.imgArray.length;\n\t\t};\n\t\t\n        init();\n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"carleonMotionModalCtrl\", \n    function($rootScope, $uibModalInstance, $translate, sharedData, toaster, carleonMotionFactory, motion) {\n        var self = this;\n\n        this.messages = {};\n        this.add = true;\n        this.addFileList = false;\n        this.addStream = false;\n        this.newFileList = {};\n        this.newStream = {};\n\n        function init() {\n\t\t\tif (!!motion) {\n\t\t\t\tself.motion = _.find(sharedData.get(\"carleonServices\", \"service-motion\").element, function (elt) {\n\t\t\t\t\treturn elt.name === motion.name;\n\t\t\t\t});\n\t\t\t\tself.add = false;\n\t\t\t} else {\n\t\t\t\tself.motion = {\n\t\t\t\t\tfile_list: [],\n\t\t\t\t\tstream_list: []\n\t\t\t\t};\n\t\t\t}\n        }\n        \n        this.addNewFileList = function () {\n\t\t\tself.addFileList = true;\n\t\t};\n\t\t\n\t\tthis.removeFileList = function (index) {\n\t\t\tself.motion.file_list.splice(index, 1);\n\t\t};\n\t\t\n\t\tthis.saveNewFileList = function () {\n\t\t\tself.motion.file_list.push(self.newFileList);\n\t\t\tself.newFileList = {};\n\t\t\tself.addFileList = false;\n\t\t};\n\t\t\n\t\tthis.cancelNewFileList = function () {\n\t\t\tself.newFileList = {};\n\t\t\tself.addFileList = false;\n\t\t};\n\t\t\n\t\tthis.isFileListValid = function () {\n\t\t\treturn !!self.newFileList.name && !!self.newFileList.path && !!self.newFileList.thumbnail_path;\n\t\t};\n\t\t\n\t\tthis.addNewStream = function () {\n\t\t\tself.addStream = true;\n\t\t};\n        \n\t\tthis.removeStream = function (index) {\n\t\t\tself.motion.stream_list.splice(index, 1);\n\t\t};\n\t\t\n\t\tthis.saveNewStream = function () {\n\t\t\tself.motion.stream_list.push(self.newStream);\n\t\t\tself.newStream = {};\n\t\t\tself.addStream = false;\n\t\t};\n\t\t\n\t\tthis.cancelNewStream = function () {\n\t\t\tself.newStream = {};\n\t\t\tself.addStream = false;\n\t\t};\n\t\t\n\t\tthis.isStreamValid = function () {\n\t\t\treturn !!self.newStream.name && !!self.newStream.uri;\n\t\t};\n\t\t\n\t\tthis.isCameraValid = function () {\n\t\t\tvar found = _.find(sharedData.get(\"carleonServices\", \"service-motion\").element, function (element) {\n\t\t\t\treturn element.name === self.motion.name;\n\t\t\t});\n\t\t\treturn (!found || !self.add) && !!self.motion.name && !!self.motion.config_uri;\n\t\t};\n\t\t\n        this.cancel = function () {\n\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t};\n\n        this.save = function () {\n\t\t\tif (self.add) {\n\t\t\t\tcarleonMotionFactory.addMotionService(self.motion).then(function () {\n\t\t\t\t\tself.motion.type = \"service-motion\";\n\t\t\t\t\tself.motion.service = carleonMotionFactory;\n\t\t\t\t\tsharedData.get(\"carleonServices\", \"service-motion\").element.push(self.motion);\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_motion_save\"), $translate.instant(\"carleon_motion_save_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_motion_save\"), $translate.instant(\"carleon_motion_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcarleonMotionFactory.setMotionService(self.motion.name, self.motion).then(function () {\n\t\t\t\t\tself.motion.type = \"service-motion\";\n\t\t\t\t\tself.motion.service = carleonMotionFactory;\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_motion_save\"), $translate.instant(\"carleon_motion_save_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_motion_save\"), $translate.instant(\"carleon_motion_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n        init();\n    }\n);\n\nfunction carleonMpdController($scope, $q, $window, $translatePartialLoader, $translate, $interval, angharadConfig, carleonFactory, carleonMpdFactory, benoicFactory, sagremorParams, sharedData, toaster) {\n\tvar ctrl = this;\n\n\tthis.mpd = {};\n\tthis.mpdElement = {};\n\tthis.playlists = [];\n\tthis.selectedPlaylist = false;\n\tthis._interval = null;\n\tthis.hasFocus = true;\n\n\tfunction init() {\n\t\tctrl.mpdElement = _.find(sharedData.get(\"carleonServices\", \"service-mpd\").element, function (mpd) {\n\t\t\treturn mpd.name === ctrl.element.name;\n\t\t});\n\t\t\n\t\tvar promises = [\n\t\t\tcarleonMpdFactory.getMpdStatus(ctrl.element.name),\n\t\t\tcarleonMpdFactory.getMpdPlaylists(ctrl.element.name)\n\t\t];\n\n\t\t$q.all(promises).then(function(responses) {\n\t\t\tctrl.mpd = responses[0];\n\t\t\tctrl.playlists = responses[1];\n\t\t\tif (ctrl.mpd.state === \"play\" || ctrl.mpd.state === \"pause\") {\n\t\t\t\tstartRefreshStatusInterval();\n\t\t\t}\n\t\t}, function() {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd\"), $translate.instant(\"carleon_mpd_load_error\", {\n\t\t\t\tname: ctrl.element.name\n\t\t\t}));\n\t\t});\n\t}\n\n\tfunction startRefreshStatusInterval() {\n\t\tctrl._interval = $interval(function() {\n\t\t\tif (ctrl.hasFocus) {\n\t\t\t\tctrl.refreshStatus();\n\t\t\t}\n\t\t}, 1000 * 10);\n\t}\n\n\tthis.refreshStatus = function() {\n\t\tcarleonMpdFactory.getMpdStatus(ctrl.element.name).then(function(response) {\n\t\t\tctrl.mpd = response;\n\t\t\tif ((ctrl.mpd.state === \"play\" || ctrl.mpd.state === \"pause\") && ctrl._interval == null) {\n\t\t\t\tstartRefreshStatusInterval();\n\t\t\t} else if (ctrl._interval != null && ctrl.mpd.state !== \"play\" && ctrl.mpd.state !== \"pause\") {\n\t\t\t\t$interval.cancel(ctrl._interval);\n\t\t\t\tctrl._interval = null;\n\t\t\t}\n\t\t}, function() {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd\"), $translate.instant(\"carleon_mpd_load_error\", {\n\t\t\t\tname: ctrl.element.name\n\t\t\t}));\n\t\t});\n\t};\n\n\tthis.displayVolume = function() {\n\t\treturn ctrl.mpd.volume + \"%\";\n\t};\n\n\tthis.setVolume = function(delta) {\n\t\tvar newVolume = ctrl.mpd.volume + delta;\n\t\tif (newVolume >= 0 && newVolume <= 100) {\n\t\t\tcarleonMpdFactory.setMpdVolume(ctrl.element.name, newVolume).then(function() {\n\t\t\t\tctrl.mpd.volume = newVolume;\n\t\t\t}, function() {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd\"), $translate.instant(\"carleon_mpd_volume_error\"));\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.displayVolumeCommand = function(delta) {\n\t\treturn (delta > 0 ? \"+\" : \"\") + delta + \" %\"\n\t};\n\n\tthis.setAction = function(action) {\n\t\tvar actionUrl = action;\n\t\tif (action === \"repeat\") {\n\t\t\tactionUrl += (\"/\" + (ctrl.mpd.repeat?\"0\":\"1\"));\n\t\t\tctrl.mpd.repeat = !ctrl.mpd.repeat;\n\t\t}\n\t\tif (action === \"random\") {\n\t\t\tactionUrl += (\"/\" + (ctrl.mpd.random?\"0\":\"1\"));\n\t\t\tctrl.mpd.random = !ctrl.mpd.random;\n\t\t}\n\t\tif (action === \"play\" && ctrl.mpdElement.device && ctrl.mpdElement.switch) {\n\t\t\tbenoicFactory.setElement(ctrl.mpdElement.device, \"switch\", ctrl.mpdElement.switch, \"1\");\n\t\t}\n\t\tif (action === \"stop\" && ctrl.mpdElement.device && ctrl.mpdElement.switch) {\n\t\t\tbenoicFactory.setElement(ctrl.mpdElement.device, \"switch\", ctrl.mpdElement.switch, \"0\");\n\t\t}\n\t\tcarleonMpdFactory.setMpdAction(ctrl.element.name, actionUrl).then(function() {\n\t\t\tctrl.refreshStatus();\n\t\t}, function() {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd\"), $translate.instant(\"carleon_mpd_volume_error\"));\n\t\t});\n\t};\n\n\tthis.loadPlaylist = function() {\n\t\tif (!!ctrl.selectedPlaylist) {\n\t\t\tif (ctrl.mpdElement.device && ctrl.mpdElement.switch) {\n\t\t\t\tbenoicFactory.setElement(ctrl.mpdElement.device, \"switch\", ctrl.mpdElement.switch, \"1\");\n\t\t\t}\n\t\t\tcarleonMpdFactory.loadMpdPlaylist(ctrl.element.name, ctrl.selectedPlaylist).then(function() {\n\t\t\t\tctrl.refreshStatus();\n\t\t\t}, function() {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd\"), $translate.instant(\"carleon_mpd_load_playlist_error\"));\n\t\t\t});\n\t\t}\n\t};\n\n\t$scope.$on(\"refreshCarleonServices\", function() {\n\t\tctrl.refreshStatus();\n\t});\n\n\t$scope.$on(\"carleonServicesChanged\", function() {\n\t\tinit();\n\t});\n\n\t$scope.$on(\"$destroy\", function() {\n\t\t$interval.cancel(ctrl._interval);\n\t\tctrl._interval = null;\n\t});\n\n\t$window.onblur = function() {\n\t\tctrl.hasFocus = false;\n\t};\n\n\t$window.onfocus = function() {\n\t\tctrl.hasFocus = true;\n\t};\n\n\tinit();\n}\n\nangular.module(\"sagremorApp\").component(\"serviceMpd\", {\n\t\ttemplateUrl: \"components/carleonMpd/carleonMpd.template.html\",\n\t\tcontroller: carleonMpdController,\n\t\tbindings: {\n\t\t\telement: \"=\"\n\t\t}\n\t})\n\t.factory(\"carleonMpdFactory\", function($http, $uibModal, $translate, toaster, angharadConfig, angharadBackendService, sagremorConfirm, sharedData) {\n\t\tvar urlBase = angharadConfig.baseUrl + angharadConfig.prefixCarleon;\n\t\tvar carleonMpdFactory = {};\n\n\t\t/* Mpd service */\n\t\tcarleonMpdFactory.getMpdServiceList = function() {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"service-mpd/\");\n\t\t};\n\n\t\tcarleonMpdFactory.getMpdService = function(name) {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"service-mpd/\" + name);\n\t\t};\n\n\t\tcarleonMpdFactory.addMpdService = function(mpdService) {\n\t\t\treturn angharadBackendService.httpRequest(\"POST\", urlBase + \"service-mpd/\", mpdService);\n\t\t};\n\n\t\tcarleonMpdFactory.setMpdService = function(name, mpdService) {\n\t\t\treturn angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-mpd/\" + name, mpdService);\n\t\t};\n\n\t\tcarleonMpdFactory.removeMpdService = function(name) {\n\t\t\treturn angharadBackendService.httpRequest(\"DELETE\", urlBase + \"service-mpd/\" + name);\n\t\t};\n\n\t\tcarleonMpdFactory.getMpdStatus = function(name) {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"service-mpd/\" + name + \"/status\");\n\t\t};\n\n\t\tcarleonMpdFactory.getMpdPlaylists = function(name) {\n\t\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"service-mpd/\" + name + \"/playlists\");\n\t\t};\n\n\t\tcarleonMpdFactory.setMpdAction = function(name, action) {\n\t\t\treturn angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-mpd/\" + name + \"/action/\" + action);\n\t\t};\n\n\t\tcarleonMpdFactory.loadMpdPlaylist = function(name, playlist) {\n\t\t\treturn angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-mpd/\" + name + \"/playlist/\" + playlist);\n\t\t};\n\n\t\tcarleonMpdFactory.setMpdVolume = function(name, volume) {\n\t\t\treturn angharadBackendService.httpRequest(\"PUT\", urlBase + \"service-mpd/\" + name + \"/volume/\" + volume);\n\t\t};\n\n\t\tcarleonMpdFactory.addService = function() {\n\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\tanimation: true,\n\t\t\t\ttemplateUrl: \"components/carleonMpd/carleonMpd.modal.html\",\n\t\t\t\tcontroller: \"carleonMpdModalCtrl\",\n\t\t\t\tcontrollerAs: \"carleonMpdModalCtrl\",\n\t\t\t\tsize: \"md\",\n\t\t\t\tresolve: {\n\t\t\t\t\tmpd: function() {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tcarleonMpdFactory.editService = function(service) {\n\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\tanimation: true,\n\t\t\t\ttemplateUrl: \"components/carleonMpd/carleonMpd.modal.html\",\n\t\t\t\tcontroller: \"carleonMpdModalCtrl\",\n\t\t\t\tcontrollerAs: \"carleonMpdModalCtrl\",\n\t\t\t\tsize: \"md\",\n\t\t\t\tresolve: {\n\t\t\t\t\tmpd: function() {\n\t\t\t\t\t\treturn service;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tcarleonMpdFactory.removeService = function(service) {\n\t\t\treturn sagremorConfirm.open($translate.instant(\"carleon_mpd_remove\"), $translate.instant(\"carleon_mpd_confirm\")).then(function() {\n\t\t\t\treturn carleonMpdFactory.removeMpdService(service.name).then(function() {\n\t\t\t\t\tvar injector = sharedData.get(\"carleonServices\", \"service-mpd\");\n\t\t\t\t\t_.remove(injector.element, function(element) {\n\t\t\t\t\t\treturn element.name === service.name;\n\t\t\t\t\t});\n\t\t\t\t\tsharedData.add(\"carleonServices\", \"service-mpd\", injector);\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mpd_remove\"), $translate.instant(\"carleon_mpd_remove_success\"));\n\t\t\t\t}, function() {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd_remove\"), $translate.instant(\"carleon_mpd_remove_error\"));\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\treturn carleonMpdFactory;\n\n\t})\n\t.config(function run($translatePartialLoaderProvider) {\n\t\t$translatePartialLoaderProvider.addPart(\"carleonMpd\");\n\t})\n\t.run(function(sagGenericInjectorManager, carleonMpdFactory) {\n\t\tsagGenericInjectorManager.add({\n\t\t\ttype: \"service-mpd\",\n\t\t\tdirective: \"service-mpd\",\n\t\t\tgroupTitle: \"carleon_mpd_title\",\n\t\t\tservice: carleonMpdFactory,\n\t\t\tcarleonService: true,\n\t\t\tsize: 2,\n\t\t\tleftMenu: {\n\t\t\t\ttitle: \"carleon_music_title\",\n\t\t\t\ttarget: \"music\"\n\t\t\t},\n\t\t\twidgetHeight: 4,\n\t\t\twidgetWidth: 3,\n\t\t\ticon: \"music\",\n\t\t\tcommands: {\n\t\t\t\taction: {\n\t\t\t\t\ttitle: \"carleon_mpd_command_action_title\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\taction: \"carleon_mpd_command_action_parameter_action_title\",\n\t\t\t\t\t},\n\t\t\t\t\tresult: {\n\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\ttitle: \"carleon_mpd_command_action_result_title\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tload_playlist: {\n\t\t\t\t\ttitle: \"carleon_mpd_command_playlist_title\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\tplaylist: \"carleon_mpd_command_playlist_parameter_plsylist_title\",\n\t\t\t\t\t},\n\t\t\t\t\tresult: {\n\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\ttitle: \"carleon_mpd_command_playlist_result_title\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tset_volume: {\n\t\t\t\t\ttitle: \"carleon_mpd_command_volume_title\",\n\t\t\t\t\tparameters: {\n\t\t\t\t\t\tvolume: \"carleon_mpd_command_volume_parameter_volume_title\",\n\t\t\t\t\t},\n\t\t\t\t\tresult: {\n\t\t\t\t\t\ttype: \"boolean\",\n\t\t\t\t\t\ttitle: \"carleon_mpd_command_volume_result_title\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\nangular.module(\"sagremorApp\")\n\t\t.controller(\"carleonMpdModalCtrl\", \n\t\tfunction($rootScope, $uibModalInstance, $translate, sharedData, toaster, carleonMpdFactory, mpd) {\n\t\t\tvar self = this;\n\n\t\t\tthis.messages = {};\n\t\t\tthis.add = true;\n\t\t\tthis.mpd = {\n\t\t\t\tname: \"\",\n\t\t\t\tdescription: \"\",\n\t\t\t\thost: \"\",\n\t\t\t\tport: 0,\n\t\t\t\tpassword: \"\",\n\t\t\t\tdevice: \"\",\n\t\t\t\tswitch: \"\"\n\t\t\t}\n\t\t\tthis.switches = [];\n\t\t\tthis.switchAttached = {};\n\n\t\tfunction init() {\n\t\t\tif (!!mpd) {\n\t\t\t\tself.mpd = _.find(sharedData.get(\"carleonServices\", \"service-mpd\").element, function (elt) {\n\t\t\t\t\treturn elt.name === mpd.name;\n\t\t\t\t});\n\t\t\t\tself.add = false;\n\t\t\t} else {\n\t\t\t\tself.mpd = {\n\t\t\t\t\tfile_list: [],\n\t\t\t\t\tstream_list: []\n\t\t\t\t};\n\t\t\t}\n\t\t\t_.forEach(sharedData.all(\"benoicDevices\"), function (device) {\n\t\t\t\tif (device.enabled && device.connected) {\n\t\t\t\t\t_.forEach(device.element.switches, function(element, name) {\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"switch\",\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (elt.name === self.mpd.switch && elt.device === self.mpd.device) {\n\t\t\t\t\t\t\tself.switchAttached = elt;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.switches.push(elt);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\t\t\n\t\tthis.isMpdValid = function () {\n\t\t\tvar found = _.find(sharedData.get(\"carleonServices\", \"service-mpd\").element, function (element) {\n\t\t\t\treturn element.name === self.mpd.name;\n\t\t\t});\n\t\t\treturn (!found || !self.add) && !!self.mpd.name && !!self.mpd.host;\n\t\t};\n\t\t\t\t\n\t\tthis.save = function () {\n\t\t\tif (self.add) {\n\t\t\t\tcarleonMpdFactory.addMpdService(self.mpd).then(function () {\n\t\t\t\t\tself.mpd.type = \"service-mpd\";\n\t\t\t\t\tself.mpd.service = carleonMpdFactory;\n\t\t\t\t\tsharedData.get(\"carleonServices\", \"service-mpd\").element.push(self.mpd);\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mpd_save\"), $translate.instant(\"carleon_mpd_save_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd_save\"), $translate.instant(\"carleon_mpd_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcarleonMpdFactory.setMpdService(self.mpd.name, self.mpd).then(function () {\n\t\t\t\t\tself.mpd.type = \"service-mpd\";\n\t\t\t\t\tself.mpd.service = carleonMpdFactory;\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"carleon_mpd_save\"), $translate.instant(\"carleon_mpd_save_success\"));\n\t\t\t\t}, function () {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"carleon_mpd_save\"), $translate.instant(\"carleon_mpd_save_error\"));\n\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.cancel = function () {\n\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t};\n\t\t\n\t\tthis.changeSwitch = function () {\n\t\t\tif (self.switchAttached) {\n\t\t\t\tself.mpd.device = self.switchAttached.device;\n\t\t\t\tself.mpd.switch = self.switchAttached.name;\n\t\t\t}\n\t\t}\n\t\t\n\t\tinit();\n\t\t}\n);\n\nfunction sagContainerController ($rootScope, $translate, toaster, sharedData, angharadFactory) {\n    var ctrl = this;\n    \n    this.scripts = [];\n    \n    function init() {\n\t\tvar tag = \"SGMR$SCR$\";\n\t\tswitch (ctrl.type) {\n\t\t\tcase \"switch\":\n\t\t\t\ttag += \"B$\" + ctrl.element.device + \"$switch$\" + ctrl.element.name;\n\t\t\t\tbreak;\n\t\t\tcase \"dimmer\":\n\t\t\t\ttag += \"B$\" + ctrl.element.device + \"$dimmer$\" + ctrl.element.name;\n\t\t\t\tbreak;\n\t\t\tcase \"heater\":\n\t\t\t\ttag += \"B$\" + ctrl.element.device + \"$heater$\" + ctrl.element.name;\n\t\t\t\tbreak;\n\t\t\tcase \"sensor\":\n\t\t\t\ttag += \"B$\" + ctrl.element.device + \"$sensor$\" + ctrl.element.name;\n\t\t\t\tbreak;\n\t\t\tcase \"scheduler\":\n\t\t\t\ttag += \"A$scheduler$\" + ctrl.element.name;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// Carleon service\n\t\t\t\ttag += \"C$\" + ctrl.type + \"$\" + ctrl.element.name;\n\t\t\t\tbreak;\n\t\t}\n\t\tctrl.scripts = _.filter(sharedData.all(\"angharadScripts\"), function (script) {\n\t\t\treturn !!_.find(script.options.tags, function (oneTag) {\n\t\t\t\treturn oneTag === tag;\n\t\t\t});\n\t\t});\n    }\n    \n    this.runScript = function (script) {\n\t\tvar loaderToast = toaster.pop({type: \"wait\", title: $translate.instant(\"angharad_loading_script_title\"), body: $translate.instant(\"angharad_loading_script_message\"), timeout: 0, showCloseButton: false});\n\t\tangharadFactory.runScript(script.name).then(function () {\n\t\t\ttoaster.pop(\"success\", $translate.instant(\"script_run\", {name: script.name}), $translate.instant(\"script_run_success\"));\n\t\t}, function (error) {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"script_run\", {name: script.name}), $translate.instant(\"script_run_error\"));\n\t\t})[\"finally\"](function () {\n\t\t\t$rootScope.$broadcast(\"refresh\");\n\t\t\ttoaster.clear(loaderToast);\n\t\t});\n\t};\n    \n    ctrl.menuSelect = function(menuItem, element) {\n        menuItem.action(element);\n    };\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagContainer\", {\n    templateUrl: \"components/container/container.template.html\",\n    controller: sagContainerController,\n    transclude: true,\n    bindings: {\n        type: \"=\",\n        menu: \"=\",\n        title: \"=\",\n        size: \"=\",\n        element: \"=\",\n        dashboard: \"=\",\n        sagParams: \"=\",\n        icon: \"=\"\n    }\n});\n\nangular.module(\"sagremorApp\")\n  .factory(\"angharadBackendService\",\n  function($http, $q, $rootScope, AccessToken, sagremorParams, sharedData) {\n    var angharadBackendFactory = {};\n    \n    angharadBackendFactory.httpRequest = function (method, url, data, params) {\n      var deferred = $q.defer();\n      \n      var token = sharedData.get(\"oauthToken\", \"token\");\n      var now = new Date();\n      if (token.expires_at.valueOf() < now.valueOf()) {\n        // This is a lousy way to refresh the token if the refresh wasn't called in time, for example after sleep mode\n        AccessToken.forceRefresh().then(function (token) {\n          $http.defaults.headers.common.Authorization = \"Bearer \" + token.access_token;\n          $http({method: method, url: url, data: data, params: params}).then(function (response) {\n            deferred.resolve(response.data);\n          }, function (error) {\n            deferred.reject(error);\n          });\n        }, function (error) {\n          deferred.reject(error);\n        });\n      } else {\n        $http({method: method, url: url, data: data, params: params}).then(function (response) {\n          deferred.resolve(response.data);\n        }, function (error) {\n          deferred.reject(error);\n        });\n      }\n      \n      return deferred.promise;\n    };\n    \n    return angharadBackendFactory;\n  })\n  .factory(\"angharadFactory\", \n  function($http, $q, angharadConfig, angharadBackendService, sagremorParams) {\n\n    var urlBase = angharadConfig.baseUrl + angharadConfig.prefixAngharad;\n    var dataFactory = {};\n    \n    dataFactory.getSumboduleList = function () {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"submodule/\");\n    };\n\n    dataFactory.getSubmodule = function (name) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"submodule/\" + name);\n    };\n\n    dataFactory.enableSubmodule = function (name, enabled) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"submodule/\" + name + \"/enable/\" + (enabled?\"1\":\"0\"));\n    };\n\n    dataFactory.getScriptList = function () {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"script/\");\n    };\n\n    dataFactory.getScript = function (name) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"script/\" + name);\n    };\n\n    dataFactory.addScript = function (script) {\n      return angharadBackendService.httpRequest(\"POST\", urlBase + \"script/\", script);\n    };\n\n    dataFactory.setScript = function (name, script) {\n      return angharadBackendService.httpRequest(\"PUT\", urlBase + \"script/\" + name, script);\n    };\n\n    dataFactory.removeScript = function (name) {\n      return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"script/\" + name);\n    };\n\n    dataFactory.runScript = function (name) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"script/\" + name + \"/run\");\n    };\n\n    dataFactory.getSchedulerList = function () {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"scheduler/\");\n    };\n\n    dataFactory.getScheduler = function (name) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"scheduler/\" + name);\n    };\n\n    dataFactory.enableScheduler = function (name, enabled) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"scheduler/\" + name + \"/enable/\" + (enabled?\"1\":\"0\"));\n    };\n\n    dataFactory.addScheduler = function (scheduler) {\n      return angharadBackendService.httpRequest(\"POST\", urlBase + \"scheduler/\", scheduler);\n    };\n\n    dataFactory.setScheduler = function (name, scheduler) {\n      return angharadBackendService.httpRequest(\"PUT\", urlBase + \"scheduler/\" + name, scheduler);\n    };\n\n    dataFactory.removeScheduler = function (name) {\n      return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"scheduler/\" + name);\n    };\n\n    dataFactory.getTriggerList = function () {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"trigger/\");\n    };\n\n    dataFactory.getTrigger = function (name) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"trigger/\" + name);\n    };\n\n    dataFactory.enableTrigger = function (name, enabled) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"trigger/\" + name + \"/enable/\" + (enabled?\"1\":\"0\"));\n    };\n\n    dataFactory.addTrigger = function (trigger) {\n      return angharadBackendService.httpRequest(\"POST\", urlBase + \"trigger/\", trigger);\n    };\n\n    dataFactory.setTrigger = function (name, trigger) {\n      return angharadBackendService.httpRequest(\"PUT\", urlBase + \"trigger/\" + name, trigger);\n    };\n\n    dataFactory.removeTrigger = function (name) {\n      return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"trigger/\" + name);\n    };\n\n    /* Profile endpoints */\n    dataFactory.getProfileList = function () {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"profile\");\n    };\n\n    dataFactory.getProfile = function (profile_id) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"profile/\" + profile_id);\n    };\n\n    dataFactory.setProfile = function (profile_id, profile) {\n      return angharadBackendService.httpRequest(\"PUT\", urlBase + \"profile/\" + profile_id, profile);\n    };\n\n    dataFactory.removeProfile = function (profile_id) {\n      return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"profile/\" + profile_id);\n    };\n    \n    /* Users endpoints */\n    dataFactory.getUserList = function () {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"user/\");\n    };\n\n    dataFactory.addUser = function (user) {\n      return angharadBackendService.httpRequest(\"POST\", urlBase + \"user/\", user);\n    };\n\n    dataFactory.setUser = function (name, user) {\n      return angharadBackendService.httpRequest(\"PUT\", urlBase + \"user/\" + name, user);\n    };\n\n    dataFactory.removeUser = function (name) {\n      return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"user/\" + name);\n    };\n    \n    /* Token endpoints */\n    dataFactory.getTokenList = function (options) {\n      return angharadBackendService.httpRequest(\"GET\", urlBase + \"token/\", null, options);\n    };\n\n    dataFactory.revokeToken = function (token) {\n      return angharadBackendService.httpRequest(\"POST\", urlBase + \"token/\", {token: token});\n    };\n\n    \n    dataFactory.saveCurrentProfile = function () {\n      var profile = sagremorParams.currentProfile;\n      var deferred = $q.defer();\n      if (!!profile) {\n        return dataFactory.setProfile(profile.name, profile);\n      } else {\n        deferred.reject(error);\n        return deferred.promise;\n      }\n    };\n\n    return dataFactory;\n  }\n);\n\nangular.module(\"sagremorApp\")\n    .factory(\"benoicFactory\", \n    function($http, angharadConfig, angharadBackendService) {\n\n    var urlBase = angharadConfig.baseUrl + angharadConfig.prefixBenoic;\n    var dataFactory = {};\n\n    dataFactory.getDeviceTypes = function () {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"deviceTypes/\");\n    };\n\n    dataFactory.reloadDeviceTypes = function () {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"deviceTypes/reload\");\n    };\n\n    dataFactory.getDeviceList = function () {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\");\n    };\n\n    dataFactory.getDevice = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\" + name);\n    };\n    \n    dataFactory.addDevice = function (device) {\n        return angharadBackendService.httpRequest(\"POST\", urlBase + \"device/\", device);\n    };\n\n    dataFactory.setDevice = function (device) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"device/\" + device.name, device);\n    };\n\n    dataFactory.removeDevice = function (name) {\n        return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"device/\" + name);\n    };\n    \n    dataFactory.connectDevice = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\" + name + \"/connect\");\n    };\n\n    dataFactory.disconnectDevice = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\" + name + \"/disconnect\");\n    };\n\n    dataFactory.pingDevice = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\" + name + \"/ping\");\n    };\n\n    dataFactory.getDeviceOverview = function (name) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\" + name + \"/overview\");\n    };\n\n    dataFactory.setElement = function (deviceName, elementType, elementName, elementValue, additionalOptions) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"device/\" + deviceName + \"/\" + elementType + \"/\" + elementName + \"/\" + elementValue, null, additionalOptions);\n    };\n\n    dataFactory.updateElement = function (deviceName, elementType, elementName, element) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"device/\" + deviceName + \"/\" + elementType + \"/\" + elementName, element);\n    };\n\n    dataFactory.getMonitor = function (deviceName, elementType, elementName, from) {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"monitor/\" + deviceName + \"/\" + elementType + \"/\" + elementName, null, !!from?{from: from}:null);\n    };\n    \n    dataFactory.addTag = function (deviceName, elementType, elementName, tag) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"device/\" + deviceName + \"/\" + elementType + \"/\" + elementName + \"/\" + tag);\n    };\n\n    dataFactory.removeTag = function (deviceName, elementType, elementName, tag) {\n        return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"device/\" + deviceName + \"/\" + elementType + \"/\" + elementName + \"/\" + tag);\n    };\n\n    return dataFactory;\n});\n\nangular.module(\"sagremorApp\")\n    .factory(\"carleonFactory\", \n    function($http, $q, angharadConfig, angharadBackendService, sagremorParams) {\n\n    var urlBase = angharadConfig.baseUrl + angharadConfig.prefixCarleon;\n    var dataFactory = {};\n\n    /* Base Carleon endpoints */\n    dataFactory.getServiceList = function () {\n        return angharadBackendService.httpRequest(\"GET\", urlBase + \"service\");\n    };\n\n    dataFactory.reloadServiceList = function () {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service/reload\");\n    };\n\n    dataFactory.enableService = function (service_name, enable) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service/\" + service_name + \"/enable/\" + (enable?\"1\":\"0\"));\n    };\n\n    dataFactory.elementCleanup = function (service_name, element) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service/\" + service_name + \"/\" + element + \"/cleanup\");\n    };\n\n    dataFactory.addTag = function (service_name, element, tag) {\n        return angharadBackendService.httpRequest(\"PUT\", urlBase + \"service/\" + service_name + \"/\" + element + \"/\" + tag);\n    };\n\n    dataFactory.removeTag = function (service_name, element, tag) {\n        return angharadBackendService.httpRequest(\"DELETE\", urlBase + \"service/\" + service_name + \"/\" + element + \"/\" + tag);\n    };\n\n    return dataFactory;\n});\n\nangular.module(\"sagremorApp\")\n\t.factory(\"garethFactory\", \n\tfunction(angharadConfig, angharadBackendService, sagremorParams) {\n\n\tvar urlBase = angharadConfig.baseUrl + angharadConfig.prefixGareth;\n\tvar dataFactory = {};\n\n\t/* Gareth endpoints */\n\tdataFactory.getAllMessages = function (limit, offset) {\n\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"message\", null, {limit: limit, offset: offset});\n\t};\n\n\tdataFactory.getFilteredMessages = function (filter, limit, offset) {\n\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"message/\" + filter, null, {limit: limit, offset: offset});\n\t};\n\n\t/* Filters */\n\tdataFactory.getFilterList = function () {\n\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"filter\");\n\t};\n\n\tdataFactory.getFilter = function (name) {\n\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"filter/\" + name);\n\t};\n\n\tdataFactory.addFilter = function (filter) {\n\t\treturn angharadBackendService.httpRequest(\"POST\", urlBase + \"filter/\", filter);\n\t};\n\n\tdataFactory.setFilter = function (name, filter) {\n\t\treturn angharadBackendService.httpRequest(\"PUT\", urlBase + \"filter/\" + name, filter);\n\t};\n\n\tdataFactory.removeFilter = function (name) {\n\t\treturn angharadBackendService.httpRequest(\"DELETE\", urlBase + \"filter/\" + name);\n\t};\n\n\t/* Alerts */\n\tdataFactory.getAlertList = function () {\n\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"alert\");\n\t};\n\n\tdataFactory.getAlert = function (type, name) {\n\t\treturn angharadBackendService.httpRequest(\"GET\", urlBase + \"alert/\" + type + \"/\" + name);\n\t};\n\n\tdataFactory.addAlert = function (type, alert) {\n\t\treturn angharadBackendService.httpRequest(\"POST\", urlBase + \"alert/\" + type, alert);\n\t};\n\n\tdataFactory.setAlert = function (type, name, alert) {\n\t\treturn angharadBackendService.httpRequest(\"PUT\", urlBase + \"alert/\" + type + \"/\" + name, alert);\n\t};\n\n\tdataFactory.removeAlert = function (type, name) {\n\t\treturn angharadBackendService.httpRequest(\"DELETE\", urlBase + \"alert/\" + type + \"/\" + name);\n\t};\n\n\treturn dataFactory;\n});\n\nangular.module(\"sagremorApp\")\n\t.controller(\"sagremorCtrl\",\n\t\tfunction($scope, $rootScope, $interval, $window, $http, $q, $location, $cookies, $translate, toaster, angharadFactory, benoicFactory, carleonFactory, garethFactory, sharedData, sagremorParams, angharadConfig) {\n\t\t\tvar self = this;\n\n\t\t\tthis.loaderToast;\n\t\t\tthis.initComplete = false;\n\t\t\tthis.benoicInitError = false;\n\t\t\tthis.shoudRefresh = false;\n\t\t\tthis.hasFocus = true;\n\t\t\tthis.refreshTimeout = null;\n\t\t\tthis.isInit = false;\n\n\t\t\tfunction init() {\n\t\t\t\t$translate(\"angharad_loading_title\").then(function(title) {\n\t\t\t\t\t// Nothing to do here, just waiting for lang files to be loaded before starting\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction closeLoader(result) {\n\t\t\t\ttoaster.clear(self.loaderToast);\n\t\t\t\tif (result) {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\ttitle: $translate.instant(\"angharad_loading_title\"),\n\t\t\t\t\t\tbody: $translate.instant(\"init_message_loading_complete\")\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\ttitle: $translate.instant(\"angharad_loading_title\"),\n\t\t\t\t\t\tbody: $translate.instant(\"init_message_loading_error\")\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction popLoader() {\n        toaster.clear(self.loaderToast);\n\t\t\t\tself.loaderToast = toaster.pop({\n\t\t\t\t\ttype: \"wait\",\n\t\t\t\t\ttitle: $translate.instant(\"angharad_loading_title\"),\n\t\t\t\t\tbody: $translate.instant(\"init_message_loading\"),\n\t\t\t\t\ttimeout: 0,\n\t\t\t\t\tshowCloseButton: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction initParameters() {\n\t\t\t\tpopLoader();\n\t\t\t\tgetApiData();\n\t\t\t\tself.refreshTimeout = startRefreshTimeout();\n\t\t\t\tsagremorParams.adminMode = false;\n\t\t\t\tsagremorParams.loggedIn = true;\n\t\t\t\tself.isInit = true;\n\t\t\t}\n\n\t\t\tfunction refreshData() {\n\t\t\t\tpopLoader();\n\n\t\t\t\t// Refresh benoic devices with overview\n\t\t\t\tbenoicFactory.getDeviceList().then(function(result) {\n\t\t\t\t\t_.forEach(sharedData.all(\"benoicDevices\"), function(device) {\n\t\t\t\t\t\tdevice.enabled = false;\n\t\t\t\t\t\tdevice.connected = false;\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(result, function(device) {\n\t\t\t\t\t\tsharedData.add(\"benoicDevices\", device.name, device);\n\t\t\t\t\t});\n\n\t\t\t\t\tvar devices = sharedData.all(\"benoicDevices\");\n\t\t\t\t\tvar devicePromises = {};\n\t\t\t\t\t_.forEach(sharedData.all(\"benoicDevices\"), function(device, deviceName) {\n\t\t\t\t\t\tif (device.connected) {\n\t\t\t\t\t\t\tdevicePromises[deviceName] = benoicFactory.getDeviceOverview(deviceName).then(function(result) {\n\t\t\t\t\t\t\t\tvar curDevice = sharedData.get(\"benoicDevices\", deviceName);\n\t\t\t\t\t\t\t\tif (!!curDevice) {\n\t\t\t\t\t\t\t\t\tcurDevice.element = result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"refresh\"), $translate.instant(\"refresh_device_error\", {\n\t\t\t\t\t\t\t\t\tname: deviceName\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t$q.all(devicePromises).then(function(results) {})[\"finally\"](function() {\n\t\t\t\t\t\t$rootScope.$broadcast(\"refreshDevices\");\n\t\t\t\t\t});\n\t\t\t\t}, function() {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"refresh\"), $translate.instant(\"refresh_device_error\"));\n\t\t\t\t})[\"finally\"](function() {\n\t\t\t\t\t// Refresh scripts and events\n\t\t\t\t\tvar promiseList = {\n\t\t\t\t\t\tscripts: angharadFactory.getScriptList(),\n\t\t\t\t\t\tschedulers: angharadFactory.getSchedulerList(),\n\t\t\t\t\t\ttriggers: angharadFactory.getTriggerList(),\n\t\t\t\t\t\tprofiles: angharadFactory.getProfileList()\n\t\t\t\t\t};\n\n\t\t\t\t\t$q.all(promiseList).then(function(result) {\n\t\t\t\t\t\tsharedData.removeAll(\"angharadScripts\");\n\t\t\t\t\t\tsharedData.removeAll(\"angharadSchedulers\");\n\t\t\t\t\t\tsharedData.removeAll(\"angharadTriggers\");\n\t\t\t\t\t\tfor (sc in result.scripts) {\n\t\t\t\t\t\t\tsharedData.add(\"angharadScripts\", result.scripts[sc].name, result.scripts[sc]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$rootScope.$broadcast(\"refreshAngharadScripts\");\n\t\t\t\t\t\tfor (sh in result.schedulers) {\n\t\t\t\t\t\t\tsharedData.add(\"angharadSchedulers\", result.schedulers[sh].name, result.schedulers[sh]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (tr in result.triggers) {\n\t\t\t\t\t\t\tsharedData.add(\"angharadTriggers\", result.triggers[tr].name, result.triggers[tr]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$rootScope.$broadcast(\"refreshAngharadEvents\");\n\t\t\t\t\t\tsagremorParams.profiles = result.profiles;\n\t\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"refresh\"), $translate.instant(\"refresh_scripts_events_error\"));\n\t\t\t\t\t})[\"finally\"](function() {\n\t\t\t\t\t\t// Refresh carleon services elements\n\n\t\t\t\t\t\tcarleonFactory.getServiceList().then(function(result) {\n\t\t\t\t\t\t\tsharedData.removeAll(\"carleonServices\");\n\t\t\t\t\t\t\tfor (key in result) {\n\t\t\t\t\t\t\t\t_.forEach(result[key].element, function(element) {\n\t\t\t\t\t\t\t\t\telement.type = result[key].name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsharedData.add(\"carleonServices\", result[key].name, result[key]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$scope.$broadcast(\"refreshCarleonServices\");\n\n\t\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\ttitle: $translate.instant(\"refresh\"),\n\t\t\t\t\t\t\t\tbody: $translate.instant(\"refresh_carleon_error\")\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})[\"finally\"](function() {\n\t\t\t\t\t\t\t// All done, refreshing dashboard now\n\t\t\t\t\t\t\ttoaster.clear(self.loaderToast);\n\t\t\t\t\t\t\t$scope.$broadcast(\"refreshDashboard\");\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction getApiData() {\n\t\t\t\treturn self.initAngharadSubmodules().then(function(result) {\n\t\t\t\t\tvar promises = [self.initAngharad()];\n\t\t\t\t\tsagremorParams.benoicEnabled = false;\n\t\t\t\t\tsagremorParams.carleonEnabled = false;\n\t\t\t\t\tsagremorParams.garethEnabled = false;\n\t\t\t\t\tfor (key in result) {\n\t\t\t\t\t\tsharedData.add(\"submodules\", result[key].name, result[key]);\n\t\t\t\t\t\tif (result[key].name === \"benoic\" && result[key].enabled) {\n\t\t\t\t\t\t\tsagremorParams.benoicEnabled = true;\n\t\t\t\t\t\t\tpromises.push(self.initBenoic());\n\t\t\t\t\t\t} else if (result[key].name === \"carleon\" && result[key].enabled) {\n\t\t\t\t\t\t\tsagremorParams.carleonEnabled = true;\n\t\t\t\t\t\t\tpromises.push(self.initCarleon());\n\t\t\t\t\t\t} else if (result[key].name === \"gareth\" && result[key].enabled) {\n\t\t\t\t\t\t\tsagremorParams.garethEnabled = true;\n\t\t\t\t\t\t\tpromises.push(self.initGareth());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$q.all(promises).then(function() {\n\t\t\t\t\t\t$scope.$broadcast(\"submodulesChanged\");\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\ttitle: $translate.instant(\"angharad_loading_title\"),\n\t\t\t\t\t\t\tbody: $translate.instant(\"init_message_loading_error\")\n\t\t\t\t\t\t});\n\t\t\t\t\t})[\"finally\"](function() {\n\t\t\t\t\t\tself.initComplete = true;\n\t\t\t\t\t\t$scope.$broadcast(\"initComplete\");\n\t\t\t\t\t});\n\t\t\t\t}, function(error) {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\ttitle: $translate.instant(\"angharad_loading_title\"),\n\t\t\t\t\t\tbody: $translate.instant(\"init_message_loading_error\")\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction startRefreshTimeout() {\n\t\t\t\t// Refresh every 5 minutes if the window has the focus\n\t\t\t\t// If the window has not the focus, set a flag to refresh the page when it will have the focus\n\t\t\t\treturn $interval(function() {\n\t\t\t\t\tif (self.hasFocus) {\n\t\t\t\t\t\trefreshData();\n\t\t\t\t\t\tself.shouldRefresh = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.shouldRefresh = true;\n\t\t\t\t\t}\n\t\t\t\t}, 1000 * 60 * 5);\n\t\t\t}\n\n\t\t\t$window.onblur = function() {\n\t\t\t\tself.hasFocus = false;\n\t\t\t};\n\n\t\t\t$window.onfocus = function() {\n\t\t\t\tself.hasFocus = true;\n\t\t\t\tif (self.shouldRefresh) {\n\t\t\t\t\trefreshData();\n\t\t\t\t\tself.shouldRefresh = false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.initAngharadSubmodules = function() {\n\t\t\t\treturn angharadFactory.getSumboduleList();\n\t\t\t};\n\n\t\t\tthis.initBenoic = function() {\n\t\t\t\tvar promiseList = {\n\t\t\t\t\tdeviceTypesResult: benoicFactory.getDeviceTypes(),\n\t\t\t\t\tdeviceResult: benoicFactory.getDeviceList()\n\t\t\t\t};\n\n\t\t\t\treturn $q.all(promiseList).then(function(result) {\n\t\t\t\t\tvar deviceTypesResult = result.deviceTypesResult;\n\t\t\t\t\tvar deviceResult = result.deviceResult;\n\n\t\t\t\t\t// Handle device types\n\t\t\t\t\t_.forEach(deviceTypesResult, function(type) {\n\t\t\t\t\t\tsharedData.add(\"benoicDeviceTypes\", type.name, type);\n\t\t\t\t\t});\n\t\t\t\t\t$scope.$broadcast(\"benoicDeviceTypesChanged\");\n\n\t\t\t\t\t// Handle devices\n\t\t\t\t\tvar deviceList = [];\n\t\t\t\t\tsharedData.removeAll(\"benoicDevices\");\n\t\t\t\t\t_.forEach(deviceResult, function(curDevice) {\n\t\t\t\t\t\tif (curDevice.connected) {\n\t\t\t\t\t\t\tdeviceList.push(benoicFactory.getDeviceOverview(curDevice.name).then(function(result) {\n\t\t\t\t\t\t\t\tcurDevice.element = result;\n\t\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\t\tcurDevice.element = {};\n\t\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"benoic_loading_title\"), $translate.instant(\"benoic_loading_error\", {\n\t\t\t\t\t\t\t\t\tname: curDevice.name\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsharedData.add(\"benoicDevices\", curDevice.name, curDevice);\n\t\t\t\t\t});\n\t\t\t\t\t$q.all(deviceList).then(function(responses) {})[\"finally\"](function() {\n\t\t\t\t\t\t$rootScope.$broadcast(\"benoicDevicesChanged\");\n\t\t\t\t\t});\n\t\t\t\t}, function(error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"benoic_loading_title\"), $translate.instant(\"benoic_loading_error\"));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.initCarleon = function() {\n\t\t\t\tsharedData.removeAll(\"carleonServices\");\n\n\t\t\t\treturn carleonFactory.getServiceList().then(function(result) {\n\t\t\t\t\tfor (key in result) {\n\t\t\t\t\t\t_.forEach(result[key].element, function(element) {\n\t\t\t\t\t\t\telement.type = result[key].name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsharedData.add(\"carleonServices\", result[key].name, result[key]);\n\t\t\t\t\t}\n\t\t\t\t}, function(error) {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\ttitle: $translate.instant(\"carleon_loading_title\"),\n\t\t\t\t\t\tbody: $translate.instant(\"carleon_loading_error\")\n\t\t\t\t\t});\n\t\t\t\t})[\"finally\"](function() {\n\t\t\t\t\t$rootScope.$broadcast(\"carleonServicesChanged\");\n\t\t\t\t});\n\n\t\t\t};\n\n\t\t\tthis.initGareth = function() {\n\t\t\t\tsharedData.removeAll(\"garethFilters\");\n\t\t\t\tsharedData.removeAll(\"garethAlertsSmtp\");\n\t\t\t\tsharedData.removeAll(\"garethAlertsHttp\");\n\t\t\t\tvar qList = {\n\t\t\t\t\tfilters: garethFactory.getFilterList(),\n\t\t\t\t\talerts: garethFactory.getAlertList()\n\t\t\t\t}\n\n\t\t\t\treturn $q.all(qList).then(function(results) {\n\t\t\t\t\tfor (key in results.filters) {\n\t\t\t\t\t\tsharedData.add(\"garethFilters\", results.filters[key].name, results.filters[key]);\n\t\t\t\t\t}\n\t\t\t\t\tfor (key in results.alerts.smtp) {\n\t\t\t\t\t\tsharedData.add(\"garethAlertsSmtp\", results.alerts.smtp[key].name, results.alerts.smtp[key]);\n\t\t\t\t\t}\n\t\t\t\t\tfor (key in results.alerts.http) {\n\t\t\t\t\t\tsharedData.add(\"garethAlertsHttp\", results.alerts.http[key].name, results.alerts.http[key]);\n\t\t\t\t\t}\n\t\t\t\t\t$scope.$broadcast(\"garethChange\");\n\t\t\t\t}, function(error) {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\ttitle: $translate.instant(\"gareth_loading_title\"),\n\t\t\t\t\t\tbody: $translate.instant(\"gareth_loading_error\")\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.setDefaultProfile = function() {\n\t\t\t\tsagremorParams.currentProfile = false;\n\t\t\t\t_.forEach(sagremorParams.profiles, function(profile) {\n\t\t\t\t\tif (profile.default) {\n\t\t\t\t\t\tsagremorParams.currentProfile = profile;\n\t\t\t\t\t\tvar exp = new $window.Date();\n\t\t\t\t\t\texp = new $window.Date(exp.getFullYear() + 10, exp.getMonth(), exp.getDate());\n\t\t\t\t\t\t$cookies.put(\"ANGHARAD_PROFILE\", profile.name, {\n\t\t\t\t\t\t\texpires: exp\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!sagremorParams.currentProfile) {\n\t\t\t\t\t// No profile, add default one\n\t\t\t\t\tvar defaultProfile = {\n\t\t\t\t\t\tname: $translate.instant(\"profile_default\"),\n\t\t\t\t\t\tdefault: true,\n\t\t\t\t\t\tdata: {}\n\t\t\t\t\t};\n\t\t\t\t\tsagremorParams.profiles = [\n\t\t\t\t\t\tdefaultProfile\n\t\t\t\t\t];\n\t\t\t\t\tsagremorParams.currentProfile = defaultProfile;\n\t\t\t\t\tangharadFactory.setProfile($translate.instant(\"profile_default\"), defaultProfile).then(function() {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_success\"));\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_error\"));\n\t\t\t\t\t});\n\t\t\t\t\tvar exp = new $window.Date();\n\t\t\t\t\texp = new $window.Date(exp.getFullYear() + 10, exp.getMonth(), exp.getDate());\n\t\t\t\t\t$cookies.put(\"ANGHARAD_PROFILE\", $translate.instant(\"profile_default\"), {\n\t\t\t\t\t\texpires: exp\n\t\t\t\t\t});\n\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.initAngharad = function() {\n\t\t\t\tvar promiseList = {\n\t\t\t\t\tscripts: angharadFactory.getScriptList(),\n\t\t\t\t\tschedulers: angharadFactory.getSchedulerList(),\n\t\t\t\t\ttriggers: angharadFactory.getTriggerList(),\n\t\t\t\t\tprofiles: angharadFactory.getProfileList()\n\t\t\t\t};\n\n\t\t\t\treturn $q.all(promiseList).then(function(result) {\n\t\t\t\t\tfor (sc in result.scripts) {\n\t\t\t\t\t\tsharedData.add(\"angharadScripts\", result.scripts[sc].name, result.scripts[sc]);\n\t\t\t\t\t}\n\t\t\t\t\t$scope.$broadcast(\"angharadScriptsChanged\");\n\t\t\t\t\tfor (sh in result.schedulers) {\n\t\t\t\t\t\tsharedData.add(\"angharadSchedulers\", result.schedulers[sh].name, result.schedulers[sh]);\n\t\t\t\t\t}\n\t\t\t\t\t$scope.$broadcast(\"angharadSchedulersChanged\");\n\t\t\t\t\tfor (tr in result.triggers) {\n\t\t\t\t\t\tsharedData.add(\"angharadTriggers\", result.triggers[tr].name, result.triggers[tr]);\n\t\t\t\t\t}\n\t\t\t\t\t$scope.$broadcast(\"angharadTriggersChanged\");\n\n\t\t\t\t\tif (result.profiles.length === 0) {\n\t\t\t\t\t\tself.setDefaultProfile();\n\t\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsagremorParams.profiles = result.profiles;\n\t\t\t\t\t\tvar profile_name = $cookies.get(\"ANGHARAD_PROFILE\");\n\t\t\t\t\t\tsagremorParams.currentProfile = false;\n\n\t\t\t\t\t\tif (!!profile_name) {\n\t\t\t\t\t\t\t_.forEach(result.profiles, function(profile) {\n\t\t\t\t\t\t\t\tif (profile.name === profile_name) {\n\t\t\t\t\t\t\t\t\tsagremorParams.currentProfile = profile;\n\t\t\t\t\t\t\t\t\t$scope.$broadcast(\"angharadProfileChanged\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (!sagremorParams.currentProfile) {\n\t\t\t\t\t\t\t\tself.setDefaultProfile();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself.setDefaultProfile();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function(error) {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"angharad_loading_title\"), $translate.instant(\"angharad_loading_error\"));\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.closeSagremor = function() {\n\t\t\t\tsagremorParams.token = null;\n\t\t\t\tsagremorParams.loggedIn = false;\n\t\t\t\t$scope.isLogged = false;\n\t\t\t\tsagremorParams.profiles = [];\n\t\t\t\tsagremorParams.currentProfile = null;\n\t\t\t\tself.isInit = false;\n\t\t\t\t$rootScope.$broadcast(\"closeBenoic\");\n\t\t\t\t$rootScope.$broadcast(\"closeCarleon\");\n\t\t\t\t$rootScope.$broadcast(\"closeGareth\");\n\t\t\t\t$rootScope.$broadcast(\"angharadProfileUpdated\");\n\t\t\t\t$rootScope.$broadcast(\"refreshDashboard\");\n\t\t\t\tsharedData.add(\"oauthToken\", \"token\", false);\n\t\t\t};\n\n\t\t\t$scope.$on(\"reinitBenoic\", function() {\n\t\t\t\tself.initBenoic();\n\t\t\t});\n\n\t\t\t$scope.$on(\"reinitCarleon\", function() {\n\t\t\t\tself.initCarleon();\n\t\t\t});\n\n\t\t\t$scope.$on(\"reinitGareth\", function() {\n\t\t\t\tself.initGareth();\n\t\t\t});\n\n\t\t\t$scope.$on(\"closeBenoic\", function() {\n\t\t\t\tsharedData.removeAll(\"benoicDevices\");\n\t\t\t});\n\n\t\t\t$scope.$on(\"closeCarleon\", function() {\n\t\t\t\tsharedData.removeAll(\"carleonServices\");\n\t\t\t\tsagremorParams.profiles = [];\n\t\t\t\tsagremorParams.currentProfile = false;\n\t\t\t});\n\n\t\t\t$scope.$on(\"closeGareth\", function() {\n\t\t\t\tsharedData.removeAll(\"garethFilters\");\n\t\t\t\tsharedData.removeAll(\"garethAlertsSmtp\");\n\t\t\t\tsharedData.removeAll(\"garethAlertsHttp\");\n\t\t\t});\n\n\t\t\t$scope.$on(\"refresh\", function() {\n\t\t\t\trefreshData();\n\t\t\t});\n\n\t\t\t$scope.$on(\"reconnect\", function() {\n\t\t\t\t$scope.$broadcast(\"oauth:external:refresh\");\n\t\t\t});\n\n\t\t\t$scope.$on(\"loginSuccess\", function() {\n\t\t\t\tinitParameters();\n\t\t\t});\n\n\t\t\t$scope.$on(\"initComplete\", function() {\n\t\t\t\tif (self.initComplete) {\n\t\t\t\t\tcloseLoader(true);\n\t\t\t\t} else if (self.benoicInitError) {\n\t\t\t\t\tcloseLoader(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$on('oauth:login', function(event, token) {\n\t\t\t\tsharedData.add(\"oauthToken\", \"token\", token);\n\t\t\t\t$http.defaults.headers.common.Authorization = \"Bearer \" + token.access_token;\n\t\t\t\tinitParameters();\n\t\t\t});\n\n\t\t\t$scope.$on('oauth:refresh', function(event, token) {\n\t\t\t\t$http.defaults.headers.common.Authorization = \"Bearer \" + token.access_token;\n\t\t\t\tsharedData.add(\"oauthToken\", \"token\", token);\n\t\t\t\tif (!self.isInit) {\n\t\t\t\t\tinitParameters();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$scope.$on('oauth:loggedOut', function(event, token) {\n\t\t\t\tself.closeSagremor();\n\t\t\t});\n\n\t\t\t$scope.$on('oauth:denied', function(event, token) {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"angharad_loading_title\"), $translate.instant(\"access_denied\"));\n\t\t\t\tself.closeSagremor();\n\t\t\t});\n\n\t\t\t$scope.$on('oauth:expired', function(event, token) {\n\t\t\t\t$scope.$broadcast(\"reconnect\");\n\t\t\t});\n\n\t\t\t$scope.$on('oauth:invalid', function(event, message) {\n\t\t\t\tself.closeSagremor();\n\t\t\t});\n\n\t\t\tinit();\n\t\t}\n\t);\n\nangular.module(\"sagremorApp\")\n\t.factory(\"sagremorService\",\n\t\tfunction($uibModal, $translate, toaster, sharedData, sagremorParams, sagremorConfirm, angharadFactory, benoicFactory, carleonFactory) {\n\t\t\tvar sagremorFactory = {};\n\n\t\t\tsagremorFactory.monitor = function(element) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/modals/monitor.modal.html\",\n\t\t\t\t\tcontroller: \"MonitorModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"MonitorModalCtrl\",\n\t\t\t\t\tsize: \"md\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\telement: function() {\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.imagePopup = function(title, src) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/modals/image.modal.html\",\n\t\t\t\t\tcontroller: \"ImageModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"ImageModalCtrl\",\n\t\t\t\t\tsize: \"lg\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\ttitle: function() {\n\t\t\t\t\t\t\treturn title;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsrc: function() {\n\t\t\t\t\t\t\treturn src;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.addToDashboard = function(element) {\n\t\t\t\tvar tag = \"SGMR$D$0$0\";\n\t\t\t\tvar profile = sagremorParams.currentProfile;\n\t\t\t\tif (!profile.addTo) {\n\t\t\t\t\tprofile.addTo = {};\n\t\t\t\t}\n\t\t\t\tif (!profile.addTo.D) {\n\t\t\t\t\tprofile.addTo.D = [];\n\t\t\t\t}\n\t\t\t\tif (!!element.device) {\n\t\t\t\t\tvar newElement = {\n\t\t\t\t\t\tdevice: element.device,\n\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\ttag: tag\n\t\t\t\t\t};\n\t\t\t\t\tprofile.addTo.D.push(newElement);\n\t\t\t\t} else {\n\t\t\t\t\tvar newElement = {\n\t\t\t\t\t\ttype: element.type,\n\t\t\t\t\t\tname: element.name,\n\t\t\t\t\t\ttag: tag\n\t\t\t\t\t};\n\t\t\t\t\tprofile.addTo.D.push(newElement);\n\t\t\t\t}\n\t\t\t\treturn angharadFactory.setProfile(profile.name, profile).then(function() {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\ttitle: $translate.instant(\"angharad_add_to_dashboard\"),\n\t\t\t\t\t\tbody: $translate.instant(\"angharad_add_to_dashboard_success\")\n\t\t\t\t\t});\n\t\t\t\t}, function() {\n\t\t\t\t\ttoaster.pop({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\ttitle: $translate.instant(\"angharad_add_to_dashboard\"),\n\t\t\t\t\t\tbody: $translate.instant(\"angharad_add_to_dashboard_error\")\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.bindToElement = function(script) {\n\t\t\t\treturn modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/modals/scriptBindElement.modal.html\",\n\t\t\t\t\tcontroller: \"ScriptBindElementModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"ScriptBindElementModalCtrl\",\n\t\t\t\t\tsize: \"md\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tscript: function() {\n\t\t\t\t\t\t\treturn script;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.removeFromDashboard = function(element) {\n\t\t\t\tvar dashboardWidgets = sagremorParams.dashboardWidgets;\n\t\t\t\tif (dashboardWidgets !== undefined) {\n\t\t\t\t\t_.remove(dashboardWidgets, function(widget) {\n\t\t\t\t\t\treturn (widget.type === element.type && widget.element.device === element.device && widget.element.name === element.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tsagremorParams.dashboardWidgets = dashboardWidgets;\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\tsagremorFactory.editSwitcher = function(switcher) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/switch/switch.modal.html\",\n\t\t\t\t\tcontroller: \"SwitchesModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"SwitchesModalCtrl\",\n\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tswitcher: function() {\n\t\t\t\t\t\t\treturn switcher;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.editSensor = function(sensor) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/sensor/sensor.modal.html\",\n\t\t\t\t\tcontroller: \"SensorsModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"SensorsModalCtrl\",\n\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tsensor: function() {\n\t\t\t\t\t\t\treturn sensor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.editHeater = function(heater) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/heater/heater.modal.html\",\n\t\t\t\t\tcontroller: \"HeatersModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"HeatersModalCtrl\",\n\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\theater: function() {\n\t\t\t\t\t\t\treturn heater;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.editDimmer = function(dimmer) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/dimmer/dimmer.modal.html\",\n\t\t\t\t\tcontroller: \"DimmersModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"DimmersModalCtrl\",\n\t\t\t\t\tsize: \"sm\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tdimmer: function() {\n\t\t\t\t\t\t\treturn dimmer;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.editScript = function(script) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/script/script.modal.html\",\n\t\t\t\t\tcontroller: \"ScriptModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"ScriptModalCtrl\",\n\t\t\t\t\tsize: \"md\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tscript: function() {\n\t\t\t\t\t\t\treturn script;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.removeScript = function(script) {\n\t\t\t\treturn sagremorConfirm.open($translate.instant(\"script_remove\"), $translate.instant(\"script_remove_confirm\")).then(function(result) {\n\t\t\t\t\treturn angharadFactory.removeScript(script.name).then(function() {\n\t\t\t\t\t\tsharedData.remove(\"angharadScripts\", script.name);\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"script_remove\"), $translate.instant(\"script_remove_success\"));\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"script_remove\"), $translate.instant(\"script_remove_error\"));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.editEvent = function(event, eventType) {\n\t\t\t\tvar modalInstance = $uibModal.open({\n\t\t\t\t\tanimation: true,\n\t\t\t\t\ttemplateUrl: \"components/event/event.modal.html\",\n\t\t\t\t\tcontroller: \"EventModalCtrl\",\n\t\t\t\t\tcontrollerAs: \"EventModalCtrl\",\n\t\t\t\t\tsize: \"md\",\n\t\t\t\t\tresolve: {\n\t\t\t\t\t\tevent: function() {\n\t\t\t\t\t\t\treturn event;\n\t\t\t\t\t\t},\n\t\t\t\t\t\teventType: function() {\n\t\t\t\t\t\t\treturn eventType;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.removeScheduler = function(event) {\n\t\t\t\treturn sagremorConfirm.open($translate.instant(\"scheduler_remove\"), $translate.instant(\"scheduler_remove_confirm\")).then(function(result) {\n\t\t\t\t\treturn angharadFactory.removeScheduler(event.name).then(function() {\n\t\t\t\t\t\tsharedData.remove(\"angharadSchedulers\", event.name);\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"scheduler_remove\"), $translate.instant(\"scheduler_remove_success\"));\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"scheduler_remove\"), $translate.instant(\"scheduler_remove_error\"));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.removeTrigger = function(trigger) {\n\t\t\t\treturn sagremorConfirm.open($translate.instant(\"trigger_remove\"), $translate.instant(\"trigger_remove_confirm\")).then(function(result) {\n\t\t\t\t\treturn angharadFactory.removeTrigger(trigger.name).then(function() {\n\t\t\t\t\t\tsharedData.remove(\"angharadTriggers\", trigger.name);\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"trigger_remove\"), $translate.instant(\"trigger_remove_success\"));\n\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"trigger_remove\"), $translate.instant(\"trigger_remove_error\"));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tsagremorFactory.getBenoicElement = function(device, type, name) {\n\t\t\t\tvar elements = sharedData.get(\"benoicDevices\", device);\n\t\t\t\tif (!!elements && !!elements.element) {\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase \"switch\":\n\t\t\t\t\t\t\tif (!!elements.element.switches && elements.element.switches[name]) {\n\t\t\t\t\t\t\t\treturn elements.element.switches[name];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"dimmer\":\n\t\t\t\t\t\t\tif (!!elements.element.dimmers && elements.element.dimmers[name]) {\n\t\t\t\t\t\t\t\treturn elements.element.dimmers[name];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"heater\":\n\t\t\t\t\t\t\tif (!!elements.element.heaters && elements.element.heaters[name]) {\n\t\t\t\t\t\t\t\treturn elements.element.heaters[name];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"sensor\":\n\t\t\t\t\t\t\tif (!!elements.element.sensors && elements.element.sensors[name]) {\n\t\t\t\t\t\t\t\treturn elements.element.sensors[name];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tsagremorFactory.getCarleonElement = function(service, name) {\n\t\t\t\tif (!!service && !!name) {\n\t\t\t\t\tvar cService = sharedData.get(\"carleonServices\", service);\n\t\t\t\t\tvar element = _.find(cService.element, function(elt) {\n\t\t\t\t\t\treturn elt.name === name;\n\t\t\t\t\t});\n\t\t\t\t\treturn element || false;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tsagremorFactory.removeMonitor = function(monitor) {\n\t\t\t\t_.remove(sagremorParams.currentProfile.monitorList, function(curMonitor) {\n\t\t\t\t\treturn curMonitor.name === monitor.name;\n\t\t\t\t});\n\t\t\t\treturn angharadFactory.saveCurrentProfile().then(function() {\n\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"monitor_save\"), $translate.instant(\"monitor_save_success\"));\n\t\t\t\t}, function() {\n\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"monitor_save\"), $translate.instant(\"monitor_save_error\"));\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn sagremorFactory;\n\t\t}\n\t);\n\nfunction sagDimmerController (benoicFactory, sagremorParams, $translate) {\n    var ctrl = this;\n    \n    ctrl.element.valueChecked = (ctrl.element.value === 1);\n    ctrl.adminMode = sagremorParams.adminMode;\n    ctrl.element.newDisplay = ctrl.element.display;\n    \n    function init() {\n        ctrl.element.type = \"dimmer\";\n    }\n    \n    ctrl.setDimmer = function (value) {\n        if (value === 0 && ctrl.element.value === 0) {\n\t\t\tbenoicFactory.setElement(ctrl.element.device, \"dimmer\", ctrl.element.name, 101).then(function (result) {\n\t\t\t\tctrl.element.value = result.value;\n\t\t\t});\n\t\t} else if (value >= 0 && value <= 100) {\n\t\t\tbenoicFactory.setElement(ctrl.element.device, \"dimmer\", ctrl.element.name, value).then(function () {\n\t\t\t\tctrl.element.value = value;\n\t\t\t});\n\t\t}\n    };\n    \n    ctrl.addDimmer = function (value) {\n\t\tif (ctrl.element.value + value >= 0 && ctrl.element.value + value <= 100) {\n\t\t\tbenoicFactory.setElement(ctrl.element.device, \"dimmer\", ctrl.element.name, ctrl.element.value + value).then(function () {\n\t\t\t\tctrl.element.value += value;\n\t\t\t});\n\t\t}\n\t}\n    \n    ctrl.Dimmervalue = function () {\n\t\treturn ctrl.element.value + \"%\"\n\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagDimmer\", {\n    templateUrl: \"components/dimmer/dimmer.template.html\",\n    controller: sagDimmerController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"dimmer\",\n        directive: \"sag-dimmer\",\n        carleonService: false\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"DimmersModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, sagremorConstant, benoicFactory, dimmer) {\n        var self = this;\n        \n        this.dimmer = dimmer;\n        this.dimmer.newDisplay = this.dimmer.display;\n        \n        this.monitorEveryEnum = sagremorConstant.monitoredEveryEnum;\n        \n        function init() {\n\t\t\tself.dimmer.menu = false;\n            \n            _.forEach(self.monitorEveryEnum, function(monitorEvery) {\n                $translate(monitorEvery.label).then(function (trLabel) {\n                    monitorEvery.trLabel = trLabel;\n                });\n            });\n        }\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.tr = function (id) {\n\t\t\treturn $translate.instant(id);\n\t\t};\n        \n        this.saveDimmer = function () {\n            self.dimmer.display = self.dimmer.newDisplay;\n            self.dimmer.monitor = self.dimmer.monitorChecked?1:0;\n            benoicFactory.updateElement(self.dimmer.device, \"dimmer\", self.dimmer.name, self.dimmer).then(function (response) {\n                $scope.$broadcast(\"benoicDimmersChanged\");\n                toaster.pop(\"success\", $translate.instant(\"dimmer_save\"), $translate.instant(\"dimmer_save_success\"));\n            }, function (error) {\n                toaster.pop(\"error\", $translate.instant(\"dimmer_save\"), $translate.instant(\"dimmer_save_error\"));\n            })[\"finally\"](function () {\n                $uibModalInstance.dismiss(\"close\");\n            });\n        };\n        \n        init();\n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"EventModalCtrl\",\n    function($scope, $rootScope, $uibModalInstance, $translate, toaster, sagremorConstant, sagremorService, angharadFactory, sharedData, sagGenericInjectorManager, event, eventType) {\n        var self = this;\n        \n        this.add = true;\n        this.error = {\n\t\t\tnameInvalid: true,\n\t\t\tmessage: \"\"\n\t\t};\n        this.globalScriptList = angular.copy(sharedData.all(\"angharadScripts\"));\n        this.globalElementList = angular.copy(sagremorConstant.conditionList);\n        this.globalTriggerElementList = [];\n        this.schedulerRepeatEveryEnum = sagremorConstant.schedulerRepeatEveryEnum;\n        this.event = event||{\n\t\t\tname: \"\",\n\t\t\tdescription: \"\",\n\t\t\tenabled: true\n\t\t};\n        this.scheduler = {\n\t\t\trepeatSwitch: false,\n\t\t\trepeat: -1,\n\t\t\trepeat_value: 0,\n\t\t\tremove_after: false,\n\t\t\trepeatEveryDayOfWeek: {\n\t\t\t\tsunday: false,\n\t\t\t\tmonday: false,\n\t\t\t\ttuesday: false,\n\t\t\t\twednesday: false,\n\t\t\t\tthursday: false,\n\t\t\t\tfriday: false,\n\t\t\t\tsaturday: false\n\t\t\t}\n\t\t};\n        this.trigger = {\n\t\t\tsubmodule: false,\n\t\t\tsource: false,\n\t\t\telement: false\n\t\t};\n        this.scriptList = [];\n        this.conditionList = [];\n        this.myDate = new Date();\n        this.benoicElements = {\n\t\t\tswitches: [],\n\t\t\tdimmers: [],\n\t\t\theaters: [],\n\t\t\tsensors: []\n\t\t}\n\t\tthis.carleonConditionElementsList = {};\n\t\tthis.carleonConditionResultParameters = {};\n\t\tthis.carleonConditionCommandsParameters = {};\n\t\tthis.scriptActionElements = [];\n\t\tthis.tmpElement = false;\n\t\tthis.tmpResult = false;\n\t\tthis.newCondition = {\n\t\t\tcondition: \"==\",\n\t\t\tvalue: 0,\n\t\t\tparameters: {}\n\t\t};\n\t\tthis.eventType = eventType;\n\t\t\n\t\tthis.newTrigger = {};\n\t\tthis.newTriggerTag = {};\n        \n        this.datePickerOptions = {\n\t\t\tbuttonBar: {\n\t\t\t\tshow: true,\n\t\t\t\tnow: {\n\t\t\t\t\tshow: false,\n\t\t\t\t\ttext: $translate.instant(\"date_picker_now\")\n\t\t\t\t},\n\t\t\t\ttoday: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\ttext: $translate.instant(\"date_picker_today\")\n\t\t\t\t},\n\t\t\t\tclear: {\n\t\t\t\t\tshow: false,\n\t\t\t\t\ttext: $translate.instant(\"date_picker_clear\")\n\t\t\t\t},\n\t\t\t\tdate: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\ttext: $translate.instant(\"date_picker_date\")\n\t\t\t\t},\n\t\t\t\ttime: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\ttext: $translate.instant(\"date_picker_time\")\n\t\t\t\t},\n\t\t\t\tclose: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\ttext: $translate.instant(\"date_picker_close\")\n\t\t\t\t}\n\t\t\t}\n\t\t};\n        \n        function init() {\n\t\t\tif (!!event) {\n\t\t\t\tself.add = false;\n\t\t\t\tif (self.eventType === \"scheduler\") {\n\t\t\t\t\tself.scheduler = angular.copy(event);\n\t\t\t\t\tself.scheduler.repeatSwitch = (event.repeat > -1);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek = {\n\t\t\t\t\t\tsunday: false,\n\t\t\t\t\t\tmonday: false,\n\t\t\t\t\t\ttuesday: false,\n\t\t\t\t\t\twednesday: false,\n\t\t\t\t\t\tthursday: false,\n\t\t\t\t\t\tfriday: false,\n\t\t\t\t\t\tsaturday: false\n\t\t\t\t\t};\n\t\t\t\t\tif (event.repeat === 3) {\n\t\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek = {\n\t\t\t\t\t\t\tsunday: ((event.repeat_value & 1) !== 0),\n\t\t\t\t\t\t\tmonday: ((event.repeat_value & 2) !== 0),\n\t\t\t\t\t\t\ttuesday: ((event.repeat_value & 4) !== 0),\n\t\t\t\t\t\t\twednesday: ((event.repeat_value & 8) !== 0),\n\t\t\t\t\t\t\tthursday: ((event.repeat_value & 16) !== 0),\n\t\t\t\t\t\t\tfriday: ((event.repeat_value & 32) !== 0),\n\t\t\t\t\t\t\tsaturday: ((event.repeat_value & 64) !== 0)\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tself.myDate = new Date(event.next_time * 1000);\n\t\t\t\t} else if (self.eventType === \"trigger\") {\n\t\t\t\t\tself.trigger.submodule = event.submodule;\n\t\t\t\t\tself.trigger.source = event.source;\n\t\t\t\t\tself.trigger.element = event.element;\n\t\t\t\t}\n\t\t\t\tself.scriptList = event.scripts;\n\t\t\t\tself.conditionList = event.conditions;\n\t\t\t}\n\t\t\t\n\t\t\t_.forEach(sharedData.all(\"benoicDevices\"), function (device) {\n\t\t\t\tif (device.enabled && device.connected) {\n\t\t\t\t\t_.forEach(device.element.switches, function(element, name) {\n\t\t\t\t\t\tif (element.options.trigger) {\n\t\t\t\t\t\t\tself.globalTriggerElementList.push({submodule: \"benoic\", source: device.name, element: name, display: element.display});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"switch\",\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tvalue: true\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.benoicElements.switches.push(elt);\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(device.element.dimmers, function(element, name) {\n\t\t\t\t\t\tif (element.options.trigger) {\n\t\t\t\t\t\t\tself.globalTriggerElementList.push({submodule: \"benoic\", source: device.name, element: name, display: element.display});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"dimmer\",\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tvalue: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.benoicElements.dimmers.push(elt);\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(device.element.heaters, function(element, name) {\n\t\t\t\t\t\tif (element.options.trigger) {\n\t\t\t\t\t\t\tself.globalTriggerElementList.push({submodule: \"benoic\", source: device.name, element: name, display: element.display});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"heater\",\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tvalue: 20,\n\t\t\t\t\t\t\toptions: element.options,\n\t\t\t\t\t\t\tavailableModes: element.value.availableModes,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.benoicElements.heaters.push(elt);\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(device.element.sensors, function(element, name) {\n\t\t\t\t\t\tif (element.options.trigger) {\n\t\t\t\t\t\t\tself.globalTriggerElementList.push({submodule: \"benoic\", source: device.name, element: name, display: element.display});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"sensor\",\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tvalue: 0,\n\t\t\t\t\t\t\toptions: element.options\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.benoicElements.sensors.push(elt);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t_.forEach(sharedData.all(\"carleonServices\"), function (service, serviceName) {\n\t\t\t\tvar injector = _.find(sagGenericInjectorManager.components, function (inject) {\n\t\t\t\t\treturn inject.type === serviceName && service.enabled;\n\t\t\t\t});\n\t\t\t\t_.forEach(service.element, function (element) {\n\t\t\t\t\tif (element.options && element.options.trigger) {\n\t\t\t\t\t\tself.globalTriggerElementList.push({submodule: \"carleon\", source: service.name, element: element.name, display: element.name});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!!injector) {\n\t\t\t\t\t_.forEach(injector.commands, function (command, commandName) {\n\t\t\t\t\t\tvar newAction = {label: command.title, name: serviceName + \"$\" + commandName, submodule: \"carleon\"};\n\t\t\t\t\t\tself.globalElementList.push(newAction);\n\t\t\t\t\t\tself.carleonConditionElementsList[serviceName + \"$\" + commandName] = service.element;\n\t\t\t\t\t\tif (!!service.commands[commandName]) {\n\t\t\t\t\t\t\tself.carleonConditionCommandsParameters[serviceName + \"$\" + commandName] = [];\n\t\t\t\t\t\t\t_.forEach(service.commands[commandName].parameters, function (serviceParameter, serviceParameterName) {\n\t\t\t\t\t\t\t\tvar commandParameter = {\n\t\t\t\t\t\t\t\t\tname: serviceParameterName,\n\t\t\t\t\t\t\t\t\ttitle: !!command.parameters[serviceParameterName]?$translate.instant(command.parameters[serviceParameterName]):serviceParameterName,\n\t\t\t\t\t\t\t\t\ttype: serviceParameter.type,\n\t\t\t\t\t\t\t\t\trequired: serviceParameter.required\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tself.carleonConditionCommandsParameters[serviceName + \"$\" + commandName].push(commandParameter);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tself.carleonConditionResultParameters[serviceName + \"$\" + commandName] = [];\n\t\t\t\t\t\t\t_.forEach(service.commands[commandName].result, function (serviceResult, serviceResultName) {\n\t\t\t\t\t\t\t\tif (serviceResultName === \"type\") {\n\t\t\t\t\t\t\t\t\tvar commandResult = {\n\t\t\t\t\t\t\t\t\t\ttitle: $translate.instant(\"condition_result_one_value\"),\n\t\t\t\t\t\t\t\t\t\ttype: serviceResult\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.carleonConditionResultParameters[serviceName + \"$\" + commandName].push(commandResult);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar commandResult = {\n\t\t\t\t\t\t\t\t\t\tname: serviceResultName,\n\t\t\t\t\t\t\t\t\t\ttitle: $translate.instant(command.result[serviceResultName].title),\n\t\t\t\t\t\t\t\t\t\ttype: serviceResult.type\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.carleonConditionResultParameters[serviceName + \"$\" + commandName].push(commandResult);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_.forEach(sharedData.all(\"carleonServices\"), function (service, serviceName) {\n\t\t\t\tvar injector = _.find(sagGenericInjectorManager.components, function (inject) {\n\t\t\t\t\treturn inject.type === serviceName && service.enabled;\n\t\t\t\t});\n\t\t\t\tif (!!injector) {\n\t\t\t\t\t_.forEach(injector.results, function (result, resultName) {\n\t\t\t\t\t\tif (!!result.type && !!result.title) {\n\t\t\t\t\t\t\tvar newCondition = {label: result.title, name: serviceName + \"$\" + resultName, submodule: \"carleon\", type: result.type};\n\t\t\t\t\t\t\tself.globalElementList.push(newCondition);\n\t\t\t\t\t\t\tself.carleonConditionElementsList[serviceName + \"$\" + resultName] = service.element;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_.forEach(result, function (curResult, curResultName) {\n\t\t\t\t\t\t\t\tvar newCondition = {label: curResult.title, name: serviceName + \"$\" + curResultName, submodule: \"carleon\", type: curResult.type, field: curResultName};\n\t\t\t\t\t\t\t\tself.globalElementList.push(newCondition);\n\t\t\t\t\t\t\t\tself.carleonConditionElementsList[serviceName + \"$\" + curResultName] = service.element;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n        }\n        \n\t\tthis.openCalendar = function(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\n\t\t\tself.isOpen = true;\n\t\t};\n\t\t\n        this.trackBenoicElement = function(element, type) {\n\t\t\tif (!!element && !!type) {\n\t\t\t\treturn element.device + \"$\" + type + \"$\" + element.name;\n\t\t\t} else {\n\t\t\t\treturn \"err$err$err\";\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.trackCarleonElement = function (element, action) {\n\t\t\tif (!!element && !!action) {\n\t\t\t\treturn action + \"$\" + element.name;\n\t\t\t} else {\n\t\t\t\treturn \"err$err$err\";\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.trackTriggerElement = function (element) {\n\t\t\treturn element.submodule + \"$\" + element.source + \"$\" + element.element;\n\t\t};\n        \n        this.tr = function (id) {\n\t\t\treturn $translate.instant(id);\n\t\t};\n\t\t\n\t\tthis.isConditionValid = function () {\n\t\t\tif (!!self.newConditionType && self.newConditionType.submodule === \"benoic\") {\n\t\t\t\tswitch (self.newConditionType.name) {\n\t\t\t\t\tcase \"switch\":\n\t\t\t\t\tcase \"dimmer\":\n\t\t\t\t\tcase \"sensor\":\n\t\t\t\t\t\treturn !!self.tmpElement;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"heater\":\n\t\t\t\t\t\tif (!self.tmpElement) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn !!self.newCondition.condition && (!!self.newCondition.commandMode || !!self.newCondition.commandHeat);\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (!!self.newConditionType && self.newConditionType.submodule === \"carleon\") {\n\t\t\t\tif (!self.newCondition.condition || (!self.newCondition.value && self.newCondition.value !== 0) || !self.tmpElement) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar res = true;\n\t\t\t\t_.forEach(self.carleonConditionCommandsParameters[self.newConditionType.name], function (parameter) {\n\t\t\t\t\tif (parameter.required && (!self.newCondition.parameters[parameter.name] && self.newCondition.parameters[parameter.name] !== 0)) {\n\t\t\t\t\t\tres = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn res;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t\t\n\t\tthis.heaterModeDisplay = function (value) {\n\t\t\treturn $translate.instant(\"heater_mode_\" + value);\n\t\t};\n    \n        this.setConditionBenoicElement = function () {\n\t\t\tself.newCondition.submodule = \"benoic\";\n\t\t\tself.newCondition.element = self.tmpElement.name;\n\t\t\tself.newCondition.parameters.device = self.tmpElement.device;\n\t\t\tself.newCondition.parameters.element_type = self.tmpElement.type;\n\t\t};\n        \n\t\tthis.addCondition = function () {\n\t\t\tif (self.newConditionType.submodule === \"benoic\" && self.newCondition.commandMode) {\n\t\t\t\tself.newCondition.field = \"mode\";\n\t\t\t\tself.newCondition.value = self.newCondition.commandMode;\n\t\t\t}\n\t\t\tif (self.newConditionType.submodule === \"benoic\" && self.newCondition.commandHeat) {\n\t\t\t\tself.newCondition.field = \"command\";\n\t\t\t\tself.newCondition.value = self.newCondition.commandHeat;\n\t\t\t}\n\t\t\tif (self.newConditionType.submodule === \"carleon\") {\n\t\t\t\tvar nameSplitted = self.newConditionType.name.split(\"$\");\n\t\t\t\tself.newCondition.field = self.newConditionType.field;\n\t\t\t\tself.newCondition.submodule = \"carleon\";\n\t\t\t\tself.newCondition.element = self.tmpElement.name;\n\t\t\t\tself.newCondition.parameters.service = self.tmpElement.type\n\t\t\t\tself.newCondition.service = nameSplitted[0];\n\t\t\t\tself.newCondition.command = nameSplitted[1];\n\t\t\t\tif (!!self.tmpResult.name) {\n\t\t\t\t\tself.newCondition.field = self.tmpResult.name;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.conditionList.push(self.newCondition);\n\t\t\tself.newCondition = {\n\t\t\t\tcondition: \"==\",\n\t\t\t\tvalue: 0,\n\t\t\t\tparameters: {}\n\t\t\t};\n\t\t};\n\t\t\n\t\tthis.removeCondition = function (index) {\n\t\t\tself.conditionList.splice(index, 1);\n\t\t};\n\t\t\n\t\tthis.displayCondition = function (condition) {\n\t\t\tif (!!condition && condition.submodule === \"benoic\") {\n\t\t\t\tswitch (condition.parameters.element_type) {\n\t\t\t\t\tcase \"switch\":\n\t\t\t\t\t\tvar curSwitch = _.find(self.benoicElements.switches, function (element) {\n\t\t\t\t\t\t\treturn condition.parameters.device === element.device && condition.element === element.name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn !!curSwitch?$translate.instant(\"switch_title\")+\" \"+curSwitch.display+\" \"+(condition.value?$translate.instant(\"condition_switch_on\"):$translate.instant(\"condition_switch_off\")):$translate.instant(\"switch_title\")+\" \"+$translate.instant(\"not_found\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"dimmer\":\n\t\t\t\t\t\tvar curDimmer = _.find(self.benoicElements.dimmers, function (element) {\n\t\t\t\t\t\t\treturn condition.parameters.device === element.device && condition.element === element.name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn !!curDimmer?$translate.instant(\"dimmer_title\")+\" \"+curDimmer.display+\" \"+condition.condition+\" \"+condition.value:$translate.instant(\"dimmer_title\")+\" \"+$translate.instant(\"not_found\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"heater\":\n\t\t\t\t\t\tvar curHeater = _.find(self.benoicElements.heaters, function (element) {\n\t\t\t\t\t\t\treturn condition.parameters.device === element.device && condition.element === element.name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!!curHeater) {\n\t\t\t\t\t\t\tif (condition.field === \"command\") {\n\t\t\t\t\t\t\t\treturn $translate.instant(\"heater_title\")+\" \"+curHeater.display+\" \"+condition.condition+\" \"+condition.value;\n\t\t\t\t\t\t\t} else if (condition.field === \"mode\") {\n\t\t\t\t\t\t\t\treturn $translate.instant(\"heater_title\")+\" \"+curHeater.display+\" \"+condition.condition+\" \"+$translate.instant(\"heater_mode_\"+condition.value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $translate.instant(\"not_found\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"sensor\":\n\t\t\t\t\t\tvar curSensor = _.find(self.benoicElements.sensors, function (element) {\n\t\t\t\t\t\t\treturn condition.parameters.device === element.device && condition.element === element.name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn !!curSensor?$translate.instant(\"sensor_title\")+\" \"+curSensor.display+\" \"+condition.condition+\" \"+condition.value:$translate.instant(\"sensor_title\")+\" \"+$translate.instant(\"not_found\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (!!condition && condition.submodule === \"carleon\") {\n\t\t\t\tvar curCondition = _.find(self.globalElementList, function (cond) {\n\t\t\t\t\treturn cond.name === condition.service + \"$\" + condition.command;\n\t\t\t\t});\n\t\t\t\tvar fieldName = $translate.instant(\"condition_result_one_value\");\n\t\t\t\tif (!!condition.field) {\n\t\t\t\t\tvar curResult = _.find(self.carleonConditionResultParameters[curCondition.name], function (res) {\n\t\t\t\t\t\treturn res.name === condition.field;\n\t\t\t\t\t});\n\t\t\t\t\tfieldName = !!curResult?curResult.title:$translate.instant(\"condition_result_one_value\");\n\t\t\t\t}\n\t\t\t\treturn !!curCondition?$translate.instant(curCondition.label)+\" \"+fieldName+\" \"+condition.condition+\" \"+condition.value:$translate.instant(\"not_found\");\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.addScript = function(script) {\n\t\t\tself.scriptList.push({name: script.name, enabled: true});\n\t\t\tdelete self.globalScriptList[script.name];\n\t\t};\n\t\t\n\t\tthis.removeScript = function (index) {\n\t\t\tvar script = self.scriptList[index];\n\t\t\tself.globalScriptList[script.name] = angular.copy(sharedData.get(\"angharadScripts\", script.name));\n\t\t\tself.scriptList.splice(index, 1);\n\t\t};\n\t\t\n\t\tthis.isEventValid = function () {\n\t\t\tif (!self.event.name) {\n\t\t\t\tself.error.message = $translate.instant(\"event_name_mandatory\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif (self.add) {\n\t\t\t\tif (self.eventType === \"scheduler\") {\n\t\t\t\t\tif (!!sharedData.get(\"angharadSchedulers\", self.event.name)) {\n\t\t\t\t\t\tself.error.message = $translate.instant(\"event_name_already_exist\");\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (self.eventType === \"trigger\") {\n\t\t\t\t\tif (!!sharedData.get(\"angharadTriggers\", self.event.name)) {\n\t\t\t\t\t\tself.error.message = $translate.instant(\"event_name_already_exist\");\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.error.nameInvalid = false;\n\t\t\t\n\t\t\tif (!self.eventType) {\n\t\t\t\tself.error.message = $translate.instant(\"event_type_mandatory\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tif (self.eventType === \"scheduler\") {\n\t\t\t\tif (!self.myDate) {\n\t\t\t\t\tself.error.message = $translate.instant(\"event_scheduler_date_mandatory\");\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (self.myDate < new Date() && !self.event.repeat) {\n\t\t\t\t\tself.error.message = $translate.instant(\"event_scheduler_date_future\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else if (self.eventType === \"trigger\") {\n\t\t\t\tif (!self.trigger.submodule || !self.trigger.source || !self.trigger.element) {\n\t\t\t\t\tself.error.message = $translate.instant(\"event_trigger_no_element\");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (self.scriptList.length === 0) {\n\t\t\t\tself.error.message = $translate.instant(\"event_script_mandatory\");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\tself.error.message = \"\";\n\t\t\treturn true;\n\t\t};\n\n        this.save = function () {\n\t\t\tif (self.eventType === \"scheduler\") {\n\t\t\t\tself.scheduler.name = self.event.name;\n\t\t\t\tself.scheduler.description = self.event.description;\n\t\t\t\tself.scheduler.enabled = self.event.enabled;\n\t\t\t\tself.scheduler.next_time = Math.round(self.myDate.getTime() / 1000);\n\t\t\t\tif (self.scheduler.repeat === 3) {\n\t\t\t\t\t// Day of week\n\t\t\t\t\tself.scheduler.repeat_value = 0;\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.sunday && (self.scheduler.repeat_value += 1);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.monday && (self.scheduler.repeat_value += 2);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.tuesday && (self.scheduler.repeat_value += 4);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.wednesday && (self.scheduler.repeat_value += 8);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.thursday && (self.scheduler.repeat_value += 16);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.friday && (self.scheduler.repeat_value += 32);\n\t\t\t\t\tself.scheduler.repeatEveryDayOfWeek.saturday && (self.scheduler.repeat_value += 64);\n\t\t\t\t}\n\t\t\t\tself.scheduler.scripts = self.scriptList;\n\t\t\t\tself.scheduler.conditions = self.conditionList;\n\t\t\t\t\n\t\t\t\tif (self.add) {\n\t\t\t\t\tangharadFactory.addScheduler(self.scheduler).then(function () {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"scheduler_save\"), $translate.instant(\"scheduler_save_success\"));\n\t\t\t\t\t\tsharedData.add(\"angharadSchedulers\", self.scheduler.name, self.scheduler);\n\t\t\t\t\t\t$rootScope.$broadcast(\"angharadSchedulersChanged\");\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"scheduler_save\"), $translate.instant(\"scheduler_save_error\"));\n\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tangharadFactory.setScheduler(self.scheduler.name, self.scheduler).then(function () {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"scheduler_save\"), $translate.instant(\"scheduler_save_success\"));\n\t\t\t\t\t\tsharedData.add(\"angharadSchedulers\", self.scheduler.name, self.scheduler);\n\t\t\t\t\t\t$rootScope.$broadcast(\"angharadSchedulersChanged\");\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"scheduler_save\"), $translate.instant(\"scheduler_save_error\"));\n\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (self.eventType === \"trigger\") {\n\t\t\t\tself.trigger.name = self.event.name;\n\t\t\t\tself.trigger.description = self.event.description;\n\t\t\t\tself.trigger.enabled = self.event.enabled;\n\t\t\t\tself.trigger.scripts = self.scriptList;\n\t\t\t\tself.trigger.conditions = self.conditionList;\n\t\t\t\tif (self.add) {\n\t\t\t\t\tangharadFactory.addTrigger(self.trigger).then(function () {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"trigger_save\"), $translate.instant(\"trigger_save_success\"));\n\t\t\t\t\t\tsharedData.add(\"angharadTriggers\", self.trigger.name, self.trigger);\n\t\t\t\t\t\t$rootScope.$broadcast(\"angharadTriggersChanged\");\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"trigger_save\"), $translate.instant(\"trigger_save_error\"));\n\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tangharadFactory.setTrigger(self.trigger.name, self.trigger).then(function () {\n\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"trigger_save\"), $translate.instant(\"trigger_save_success\"));\n\t\t\t\t\t\tsharedData.add(\"angharadTriggers\", self.trigger.name, self.trigger);\n\t\t\t\t\t\t$rootScope.$broadcast(\"angharadTriggersChanged\");\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"trigger_save\"), $translate.instant(\"trigger_save_error\"));\n\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n        };\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        init();\n    });\n\nfunction sagSchedulerController ($translate, toaster, angharadFactory, sagremorParams, sharedData) {\n    var ctrl = this;\n    \n    function init() {\n    }\n    \n    this.enableScheduler = function () {\n\t\tangharadFactory.enableScheduler(ctrl.element.name, ctrl.element.enabled).then(function (result) {\n\t\t\tsharedData.add(\"angharadSchedulers\", result.name, result);\n\t\t\tctrl.element = result;\n\t\t\ttoaster.pop(\"success\", $translate.instant(\"scheduler_enable\"), $translate.instant(\"scheduler_enable_success\"));\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"scheduler_enable\"), $translate.instant(\"scheduler_enable_error\"));\n\t\t});\n\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagScheduler\", {\n    templateUrl: \"components/event/scheduler.template.html\",\n    controller: sagSchedulerController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"scheduler\",\n        directive: \"sag-scheduler\",\n        carleonService: false\n    });\n})\n.filter;\n\nfunction sagTriggerController ($translate, toaster, angharadFactory, sagremorParams, sharedData) {\n    var ctrl = this;\n    \n    function init() {\n    }\n    \n    this.enableTrigger = function () {\n\t\tangharadFactory.enableTrigger(ctrl.element.name, ctrl.element.enabled).then(function (result) {\n\t\t\tsharedData.add(\"angharadTrigger\", result.name, result);\n\t\t\tctrl.element = result;\n\t\t\ttoaster.pop(\"success\", $translate.instant(\"trigger_enable\"), $translate.instant(\"trigger_enable_success\"));\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"trigger_enable\"), $translate.instant(\"trigger_enable_error\"));\n\t\t});\n\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagTrigger\", {\n    templateUrl: \"components/event/trigger.template.html\",\n    controller: sagTriggerController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"trigger\",\n        directive: \"sag-trigger\",\n        carleonService: false\n    });\n})\n.filter;\n\nangular.module(\"sagremorApp\")\n.controller(\"GridstackController\", [\"$scope\", function($scope) {\n\n    var gridstack = null;\n\n    this.init = function(element, options) {\n      gridstack = element.gridstack(options).data(\"gridstack\");\n      return gridstack;\n    };\n\n    this.removeItem = function(element) {\n      if(gridstack) {\n        return gridstack.removeWidget(element, false);\n      }\n      return null;\n    };\n\n    this.addItem = function(element) {\n      if(gridstack) {\n        gridstack.makeWidget(element);\n        return element;\n      }\n      return null;\n    };\n\n}]);\n\nangular.module('sagremorApp')\n\n.directive('gridstack', ['$timeout', function($timeout) {\n\n    return {\n      restrict: \"A\",\n      controller: 'GridstackController',\n      scope: {\n        onChange: '&',\n        onDragStart: '&',\n        onDragStop: '&',\n        onResizeStart: '&',\n        onResizeStop: '&',\n        options: '='\n      },\n      link: function (scope, element, attrs, controller, ngModel) {\n\n        controller.init(element, scope.options);\n\n        element.on('change', function (e, items) {\n          $timeout(function() {\n            scope.$apply();\n            scope.onChange({event: e, items: items});\n          });\n        });\n\n        element.on('dragstart', function(e, ui) {\n          scope.onDragStart({event: e, ui: ui});\n        });\n\n        element.on('dragstop', function(e, ui) {\n          $timeout(function() {\n            scope.$apply();\n            scope.onDragStop({event: e, ui: ui});\n          });\n        });\n\n      }\n    };\n\n}]).directive('gridstackItem', ['$timeout', function($timeout) {\n\n    return {\n      restrict: \"A\",\n      controller: 'GridstackController',\n      require: '^gridstack',\n      scope: {\n        gridstackItem: '=',\n        onItemAdded: '&',\n        onItemRemoved: '&',\n        gsItemX: '=',\n        gsItemY: '=',\n        gsItemWidth: '=',\n        gsItemHeight: '=',\n        gsItemAutopos: '='\n      },\n      link: function (scope, element, attrs, controller) {\n\n        $(element).attr('data-gs-x', scope.gsItemX);\n        $(element).attr('data-gs-y', scope.gsItemY);\n        $(element).attr('data-gs-width', scope.gsItemWidth);\n        $(element).attr('data-gs-height', scope.gsItemHeight);\n        $(element).attr('data-gs-auto-position', scope.gsItemAutopos);\n        var widget = controller.addItem(element);\n        var item = element.data('_gridstack_node');\n        $timeout(function() {\n          scope.onItemAdded({item: item});\n        });\n\n        scope.$watch(function(){ return $(element).attr('data-gs-x'); }, function(val) {\n          scope.gsItemX = val;\n        });\n\n        scope.$watch(function(){ return $(element).attr('data-gs-y'); }, function(val) {\n          scope.gsItemY = val;\n        });\n\n        scope.$watch(function(){ return $(element).attr('data-gs-width'); }, function(val) {\n          scope.gsItemWidth = val;\n        });\n\n        scope.$watch(function(){ return $(element).attr('data-gs-height'); }, function(val) {\n          scope.gsItemHeight = val;\n        });\n\n        element.bind('$destroy', function() {\n          var item = element.data('_gridstack_node');\n          scope.onItemRemoved({item: item});\n          controller.removeItem(element);\n        });\n\n      }\n\n    };\n\n  }]);\n\nfunction sagHeaterController (benoicFactory, sagremorParams, $translate) {\n    var ctrl = this;\n    \n    ctrl.element.valueChecked = (ctrl.element.value === 1);\n    ctrl.adminMode = sagremorParams.adminMode;\n    ctrl.element.newDisplay = \"\";\n    ctrl.availableModes = [];\n    \n    function init() {\n        ctrl.element.type = \"heater\";\n        if (!!ctrl.element) {\n\t\t\tctrl.element.newDisplay = ctrl.element.display;\n\t\t\tctrl.availableModes = ctrl.element.value.availableModes;\n\t\t}\n    }\n    \n    ctrl.setHeater = function (value) {\n\t\tif (value == null) {\n\t\t\tvalue = ctrl.element.value.command;\n\t\t} else {\n\t\t\tvalue = ctrl.element.value.command + value;\n\t\t}\n        benoicFactory.setElement(ctrl.element.device, \"heater\", ctrl.element.name, value, {mode: ctrl.element.value.mode}).then(function () {\n            ctrl.element.value.command = value;\n        });\n    };\n    \n    ctrl.displayCommandValue = function () {\n\t\tvar command = !!ctrl.element?(Math.round(ctrl.element.value.command * 100) / 100):0;\n        if (!!ctrl.element && !!ctrl.element.options.unit) {\n\t\t\tcommand += \" \" + ctrl.element.options.unit\n\t\t}\n\t\treturn command;\n\t};\n\t\n\tctrl.displayCommand = function (command) {\n\t\tvar value = \"\";\n\t\tif (command < 0) {\n\t\t\tvalue = command;\n\t\t} else {\n\t\t\tvalue = \"+\" + command;\n\t\t}\n        if (!!ctrl.element && !!ctrl.element.options.unit) {\n\t\t\tvalue += \" \" + ctrl.element.options.unit\n\t\t}\n\t\treturn value\n\t};\n\t\n\tctrl.modeDisplay = function (value) {\n\t\treturn $translate.instant(\"heater_mode_\" + value.toLowerCase());\n\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagHeater\", {\n    templateUrl: \"components/heater/heater.template.html\",\n    controller: sagHeaterController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"heater\",\n        directive: \"sag-heater\",\n        carleonService: false\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"HeatersModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, sagremorConstant, benoicFactory, heater) {\n        var self = this;\n        \n        this.heater = heater;\n        this.heater.newDisplay = this.heater.display;\n        \n        this.monitorEveryEnum = sagremorConstant.monitoredEveryEnum;\n        \n        function init() {\n\t\t\tself.heater.menu = false;\n            \n            _.forEach(self.monitorEveryEnum, function(monitorEvery) {\n                $translate(monitorEvery.label).then(function (trLabel) {\n                    monitorEvery.trLabel = trLabel;\n                });\n            });\n        }\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.tr = function (id) {\n\t\t\treturn $translate.instant(id);\n\t\t};\n        \n        this.saveHeater = function () {\n            self.heater.display = self.heater.newDisplay;\n            self.heater.monitor = self.heater.monitorChecked?1:0;\n            benoicFactory.updateElement(self.heater.device, \"heater\", self.heater.name, self.heater).then(function (response) {\n                $scope.$broadcast(\"benoicHeatersChanged\");\n                toaster.pop(\"success\", $translate.instant(\"heater_save\"), $translate.instant(\"heater_save_success\"));\n            }, function (error) {\n                toaster.pop(\"error\", $translate.instant(\"heater_save\"), $translate.instant(\"heater_save_error\"));\n            })[\"finally\"](function () {\n                $uibModalInstance.dismiss(\"close\");\n            });\n        };\n        \n        init();\n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"ConfirmModalCtrl\",\n    function($uibModalInstance, title, message) {\n        var self = this;\n        \n        this.title = title;\n        this.message = message;\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.ok = function () {\n            $uibModalInstance.close(\"ok\");\n        };\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"EditModalCtrl\",\n    function($uibModalInstance, title, message, placeholder) {\n        var self = this;\n        \n        this.title = title;\n        this.message = message;\n        this.placeholder = placeholder;\n        this.value = \"\";\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.ok = function () {\n            $uibModalInstance.close({reason: \"close\", value: self.value});\n        };\n        \n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"ImageModalCtrl\",\n    function($scope, $uibModalInstance, $translate, title, src) {\n        var self = this;\n        \n        this.title = title;\n        this.src = src;\n        \n        function init() {\n        }\n        \n        this.close = function () {\n            $uibModalInstance.dismiss(\"close\");\n        };\n        \n        this.displayTitle = function () {\n\t\t\treturn $translate.instant(\"image_title\") + self.title;\n\t\t};\n\t\t\n        init();\n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"MonitorModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, benoicFactory, sagremorConstant, element) {\n        var self = this;\n        \n        this.element = element;\n        this.data = [];\n        this.durationList = sagremorConstant.durationList;\n        this.duration = {value: 4};\n        \n\t\tthis.options = {\n\t\t\tchart: {\n\t\t\t\ttype: \"lineChart\",\n\t\t\t\tinterpolate:\"basis\",\n\t\t\t\tx: function(d) { return d.timestamp; },\n\t\t\t\ty: function(d) { return d.value; },\n\t\t\t\tshowValues: true,\n\t\t\t\tvalueFormat: function(d){\n\t\t\t\t\treturn d3.format(\",.2f\")(d);\n\t\t\t\t},\n\t\t\t\ttransitionDuration: 500,\n\t\t\t\txScale : d3.time.scale(),\n\t\t\t\txAxis: {\n\t\t\t\t\taxisLabel: $translate.instant(\"monitor_date_axis\")\n\t\t\t\t},\n\t\t\t\tyAxis: {\n\t\t\t\t\taxisLabel: element.options.unit,\n\t\t\t\t\taxisLabelDistance: 30\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t\n        function init() {\n\t\t\tself.getMonitor();\n        }\n        \n        this.getMonitor = function () {\n\t\t\tvar from = new Date();\n\t\t\t\n\t\t\tswitch (self.duration.value) {\n\t\t\t\tcase 0:\n\t\t\t\t\tfrom.setTime(from.getTime() - 1*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tfrom.setTime(from.getTime() - 2*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tfrom.setTime(from.getTime() - 6*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tfrom.setTime(from.getTime() - 12*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tfrom.setTime(from.getTime() - 24*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tfrom.setTime(from.getTime() - 48*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tfrom.setTime(from.getTime() - 72*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tfrom.setTime(from.getTime() - 168*60*60*1000);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tfrom.setMonth(from.getMonth() - 1);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n            benoicFactory.getMonitor(element.device, element.type, element.name, Math.round(from.getTime() / 1000)).then(function (result) {\n                self.data = [];\n                var myData = {\n\t\t\t\t\tkey: element.display,\n\t\t\t\t\tvalues: []\n                };\n                if (!!result && result.length > 0) {\n\t\t\t\t\t_.forEach(result, function (monitor) {\n\t\t\t\t\t\tvar curDate = new Date(monitor.timestamp * 1000);\n\t\t\t\t\t\tvar value = {timestamp: curDate, value: parseFloat(monitor.value)};\n\t\t\t\t\t\tmyData.values.push(value);\n\t\t\t\t\t});\n\t\t\t\t\tself.data.push(myData);\n\t\t\t\t}\n            });\n\t\t}\n        \n        this.tr = function (value) {\n\t\t\treturn $translate.instant(value);\n\t\t};\n        \n        this.close = function () {\n            $uibModalInstance.dismiss(\"close\");\n        };\n        \n        this.displayTitle = function () {\n\t\t\treturn $translate.instant(\"monitor_title\") + element.display;\n\t\t};\n\t\t\n        init();\n    }\n);\n\nangular.module(\"sagremorApp\")\n    .controller(\"ScriptBindElementModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, DTOptionsBuilder, sharedData, sagGenericInjectorManager, angharadFactory, script) {\n        var self = this;\n        \n        this.script = script;\n        \n        this.elementList = [];\n        this.options = {};\n        this.tmpCheck = [];\n        \n        function init() {\n\t\t\tif (!self.script.options.tags) {\n\t\t\t\tself.script.options.tags = [];\n\t\t\t}\n\t\t\tif ($translate.use()) {\n\t\t\t\tself.options = DTOptionsBuilder.newOptions()\n\t\t\t\t\t\t\t\t.withLanguageSource(\"components/core/i18n/datatables.\"+$translate.use()+\".json\")\n\t\t\t\t\t\t\t\t.withOption(\"order\", [])\n\t\t\t\t\t\t\t\t.withOption(\"scrollY\", \"200px\")\n\t\t\t\t\t\t\t\t.withOption(\"paging\", false);\n\t\t\t}\n\t\t\t\n\t\t\t_.forEach(sharedData.all(\"benoicDevices\"), function (device) {\n\t\t\t\tif (device.enabled && device.connected) {\n\t\t\t\t\t_.forEach(device.element.switches, function(element, name) {\n\t\t\t\t\t\tvar selected = !!_.find(self.script.options.tags, function (tag) {\n\t\t\t\t\t\t\treturn tag === \"SGMR$SCR$B$\" + device.name + \"$switch$\" + name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tsubmodule: \"benoic\", \n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"switch\",\n\t\t\t\t\t\t\ttypeTitle: $translate.instant(\"switch_title\"),\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tselected: selected\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.elementList.push(elt);\n\t\t\t\t\t\tself.tmpCheck.push(selected);\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(device.element.dimmers, function(element, name) {\n\t\t\t\t\t\tvar selected = !!_.find(self.script.options.tags, function (tag) {\n\t\t\t\t\t\t\treturn tag === \"SGMR$SCR$B$\" + device.name + \"$dimmer$\" + name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tsubmodule: \"benoic\", \n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"dimmer\",\n\t\t\t\t\t\t\ttypeTitle: $translate.instant(\"dimmer_title\"),\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tselected: selected\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.elementList.push(elt);\n\t\t\t\t\t\tself.tmpCheck.push(selected);\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(device.element.heaters, function(element, name) {\n\t\t\t\t\t\tvar selected = !!_.find(self.script.options.tags, function (tag) {\n\t\t\t\t\t\t\treturn tag === \"SGMR$SCR$B$\" + device.name + \"$heater$\" + name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tsubmodule: \"benoic\", \n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"heater\",\n\t\t\t\t\t\t\ttypeTitle: $translate.instant(\"heater_title\"),\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tselected: selected\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.elementList.push(elt);\n\t\t\t\t\t\tself.tmpCheck.push(selected);\n\t\t\t\t\t});\n\t\t\t\t\t_.forEach(device.element.sensors, function(element, name) {\n\t\t\t\t\t\tvar selected = !!_.find(self.script.options.tags, function (tag) {\n\t\t\t\t\t\t\treturn tag === \"SGMR$SCR$B$\" + device.name + \"$sensor$\" + name;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tsubmodule: \"benoic\", \n\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\ttype: \"sensor\",\n\t\t\t\t\t\t\ttypeTitle: $translate.instant(\"sensor_title\"),\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tselected: selected\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.elementList.push(elt);\n\t\t\t\t\t\tself.tmpCheck.push(selected);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t_.forEach(sharedData.all(\"angharadSchedulers\"), function (scheduler) {\n\t\t\t\tvar selected = !!_.find(self.script.options.tags, function (tag) {\n\t\t\t\t\treturn tag === \"SGMR$SCR$A$scheduler$\" + scheduler.name;\n\t\t\t\t});\n\t\t\t\tvar elt = {\n\t\t\t\t\tsubmodule: \"angharad\", \n\t\t\t\t\ttype: \"scheduler\",\n\t\t\t\t\ttypeTitle: $translate.instant(\"scheduler_title\"),\n\t\t\t\t\tname: scheduler.name,\n\t\t\t\t\tdisplay: scheduler.name,\n\t\t\t\t\tselected: selected\n\t\t\t\t}\n\t\t\t\tself.elementList.push(elt);\n\t\t\t\tself.tmpCheck.push(selected);\n\t\t\t});\n\n\t\t\t_.forEach(sharedData.all(\"carleonServices\"), function (service, serviceName) {\n\t\t\t\tvar inject = _.find(sagGenericInjectorManager.components, function (inject) {\n\t\t\t\t\treturn inject.type === serviceName && service.enabled;\n\t\t\t\t});\n\t\t\t\t_.forEach(service.element, function (element) {\n\t\t\t\t\tvar selected = !!_.find(self.script.options.tags, function (tag) {\n\t\t\t\t\t\treturn tag === \"SGMR$SCR$C$\" + serviceName + \"$\" + element.name;\n\t\t\t\t\t});\n\t\t\t\t\tvar elt = {\n\t\t\t\t\t\tsubmodule: \"carleon\", \n\t\t\t\t\t\ttype: serviceName,\n\t\t\t\t\t\ttypeTitle: $translate.instant(inject.groupTitle),\n\t\t\t\t\t\tname: element.name, \n\t\t\t\t\t\tdisplay: element.name, \n\t\t\t\t\t\tselected: selected\n\t\t\t\t\t};\n\t\t\t\t\tself.elementList.push(elt);\n\t\t\t\t\tself.tmpCheck.push(selected);\n\t\t\t\t});\n\t\t\t});\n        }\n        \n        this.selectRow = function (index) {\n\t\t\tself.elementList[index].selected = !self.elementList[index].selected;\n\t\t\tself.tmpCheck[index] = self.elementList[index].selected;\n\t\t};\n\t\t\n\t\tthis.cancel = function () {\n\t\t\t$uibModalInstance.dismiss(\"cancel\");\n\t\t};\n\t\t\n\t\tthis.ok = function () {\n\t\t\t// Script tag format: SGMR$SCR$<submodule>[$<device>]$<type>$name\n\t\t\t\n\t\t\t// First, remove all tags starting with SGMR$SCR$ for the current script\n\t\t\t_.remove(self.script.options.tags, function (tag) {\n\t\t\t\treturn tag.startsWith(\"SGMR$SCR$\");\n\t\t\t});\n\t\t\t\n\t\t\t// Second, add a tag for all selected elements\n\t\t\tvar selectedElements = _.filter(self.elementList, function (element) {\n\t\t\t\treturn element.selected;\n\t\t\t});\n\t\t\t_.forEach(selectedElements, function (element) {\n\t\t\t\tvar tag = \"SGMR$SCR$\";\n\t\t\t\tif (element.submodule === \"benoic\") {\n\t\t\t\t\ttag += \"B$\" + element.device + \"$\" + element.type + \"$\" + element.name;\n\t\t\t\t} else if (element.submodule === \"carleon\") {\n\t\t\t\t\ttag += \"C$\" + element.type + \"$\" + element.name;\n\t\t\t\t} else {\n\t\t\t\t\ttag += \"A$\" + element.type + \"$\" + element.name;\n\t\t\t\t}\n\t\t\t\tself.script.options.tags.push(tag);\n\t\t\t});\n\t\t\tangharadFactory.setScript(self.script.name, self.script).then(function () {\n\t\t\t\tsharedData.add(\"angharadScripts\", self.script.name, self.script);\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"script_save\"), $translate.instant(\"script_save_success\"));\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"script_save\"), $translate.instant(\"script_save_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t});\n\t\t};\n\t\t\n        init();\n    }\n);\n\nfunction sagMonitorController ($scope, $q, $translate, toaster, angharadFactory, benoicFactory, carleonFactory, sagremorParams, sagremorConstant, sharedData) {\n    var ctrl = this;\n    \n    this.elementList = [];\n    this.elementListDisplayed = [];\n    this.colorList = [];\n    this.newElement = false;\n    this.newElementColor = false;\n    this.durationList = sagremorConstant.durationList;\n    this.duration = {value: 4};\n    \n    this.data = [];\n    this.labels = [];\n    this.series = [];\n    \n    this.datasetOverride = [{\n\t\tfill: false\n\t}];\n\t\n\n\tthis.options = {\n\t\tchart: {\n\t\t\ttype: \"lineChart\",\n\t\t\tinterpolate:\"basis\",\n\t\t\tx: function(d) { return d.timestamp; },\n\t\t\ty: function(d) { return d.value; },\n\t\t\tshowValues: true,\n\t\t\tvalueFormat: function(d){\n\t\t\t\treturn d3.format(\",.2f\")(d);\n\t\t\t},\n\t\t\ttransitionDuration: 500,\n\t\t\txScale : d3.time.scale(),\n\t\t\txAxis: {\n\t\t\t\taxisLabel: $translate.instant(\"monitor_date_axis\")\n\t\t\t},\n\t\t\tyAxis: {\n\t\t\t\taxisLabel: \"\",\n\t\t\t\taxisLabelDistance: 30\n\t\t\t}\n\t\t}\n\t};\n\n    function init() {\n\t\tupdateDevices();\n\t\tctrl.displayMonitor();\n    }\n    \n    this.tr = function (value) {\n\t\treturn $translate.instant(value);\n\t};\n\t\n    $scope.$on(\"updateMonitor-\"+ctrl.element.name, function () {\n\t\tctrl.displayMonitor();\n\t});\n\t\n\tfunction updateDevices() {\n\t\tvar devices = sharedData.all(\"benoicDevices\");\n\t\t\n\t\t_.forEach(devices, function (device, deviceName) {\n\t\t\tif (!!device.element) {\n\t\t\t\t_.forEach(device.element.switches, function (element, name) {\n\t\t\t\t\tif (element.monitored && element.enabled) {\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tdevice: deviceName,\n\t\t\t\t\t\t\ttype: \"switch\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tctrl.elementList.push(elt);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\t\n\t\t_.forEach(devices, function (device, deviceName) {\n\t\t\tif (!!device.element) {\n\t\t\t\t_.forEach(device.element.dimmers, function (element, name) {\n\t\t\t\t\tif (element.monitored && element.enabled) {\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tdevice: deviceName,\n\t\t\t\t\t\t\ttype: \"dimmer\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tctrl.elementList.push(elt);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\t\n\t\t_.forEach(devices, function (device, deviceName) {\n\t\t\tif (!!device.element) {\n\t\t\t\t_.forEach(device.element.heaters, function (element, name) {\n\t\t\t\t\tif (element.monitored && element.enabled) {\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tdevice: deviceName,\n\t\t\t\t\t\t\ttype: \"heater\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tctrl.elementList.push(elt);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\t\n\t\t_.forEach(devices, function (device, deviceName) {\n\t\t\tif (!!device.element) {\n\t\t\t\t_.forEach(device.element.sensors, function (element, name) {\n\t\t\t\t\tif (element.monitored && element.enabled) {\n\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\tdevice: deviceName,\n\t\t\t\t\t\t\ttype: \"sensor\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tctrl.elementList.push(elt);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n    this.addElement = function () {\n\t\tctrl.newElement.color = ctrl.newElementColor;\n\t\tctrl.element.elements.push(ctrl.newElement);\n\t\tangharadFactory.saveCurrentProfile().then(function () {\n\t\t\tctrl.displayMonitor();\n\t\t}, function () {\n\t\t\ttoaster.pop(\"error\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_error\"));\n\t\t})[\"finally\"](function () {\n\t\t});\n\t};\n\t\n\tthis.displayMonitor = function() {\n\t\tvar from = new Date();\n\t\t\n\t\tswitch (ctrl.duration.value) {\n\t\t\tcase 0:\n\t\t\t\tfrom.setTime(from.getTime() - 1*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tfrom.setTime(from.getTime() - 2*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tfrom.setTime(from.getTime() - 6*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tfrom.setTime(from.getTime() - 12*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tfrom.setTime(from.getTime() - 24*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tfrom.setTime(from.getTime() - 48*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 6:\n\t\t\t\tfrom.setTime(from.getTime() - 72*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 7:\n\t\t\t\tfrom.setTime(from.getTime() - 168*60*60*1000);\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tfrom.setMonth(from.getMonth() - 1);\n\t\t\t\tbreak;\n\t\t}\n\t\tctrl.colorList = angular.copy(sagremorConstant.colorList);\n\t\tctrl.elementListDisplayed = angular.copy(ctrl.elementList);\n\t\tvar httpMonitor = [];\n\t\t\n\t\t_.forEach(ctrl.element.elements, function (element) {\n\t\t\thttpMonitor.push(benoicFactory.getMonitor(element.device, element.type, element.name, Math.round(from.getTime() / 1000)));\n\t\t});\n\t\t\n\t\tctrl.data = [];\n\t\t$q.all(httpMonitor).then(function (results) {\n\t\t\tfor (key in results) {\n\t\t\t\t_.remove(ctrl.elementListDisplayed, function (curElement) {\n\t\t\t\t\treturn curElement.device === ctrl.element.elements[key].device &&\n\t\t\t\t\t\t\tcurElement.type === ctrl.element.elements[key].type &&\n\t\t\t\t\t\t\tcurElement.name === ctrl.element.elements[key].name;\n\t\t\t\t});\n\t\t\t\tctrl.series.push(ctrl.element.elements[key].display);\n                var myData = {\n\t\t\t\t\tkey: ctrl.element.elements[key].display,\n\t\t\t\t\tvalues: []\n                };\n                if (!!results[key] && results[key].length > 0) {\n\t\t\t\t\t_.forEach(results[key], function (monitor) {\n\t\t\t\t\t\tvar curDate = new Date(monitor.timestamp * 1000);\n\t\t\t\t\t\tvar value = {timestamp: curDate, value: parseFloat(monitor.value)};\n\t\t\t\t\t\tmyData.values.push(value);\n\t\t\t\t\t});\n\t\t\t\t\tctrl.data.push(myData);\n\t\t\t\t}\n\t\t\t}\n\t\t}, function (error) {\n\t\t});\n\t}\n\t\n\tthis.newElementValid = function () {\n\t\treturn !!ctrl.newElement;\n\t};\n\t\n\tthis.removeSerie = function (serie) {\n\t\tif (ctrl.element.elements.indexOf(serie) >= 0) {\n\t\t\tctrl.element.elements.splice(ctrl.element.elements.indexOf(serie), 1);\n\t\t\tangharadFactory.saveCurrentProfile().then(function () {\n\t\t\t\tctrl.displayMonitor();\n\t\t\t}, function () {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"profile_save\"), $translate.instant(\"profile_save_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\tctrl.newElementColor = false;\n\t\t\t\tctrl.newElement = false;\n\t\t\t});\n\t\t}\n\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagMonitor\", {\n    templateUrl: \"components/monitor/monitor.template.html\",\n    controller: sagMonitorController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"monitor\",\n        directive: \"sag-monitor\",\n        carleonService: false\n    });\n});\n\nfunction sagScriptController ($rootScope, $translate, toaster, angharadFactory, sagremorParams) {\n    var ctrl = this;\n    \n    this.loaderToast = null;\n    \n    function init() {\n    }\n    \n    this.runScript = function () {\n\t\t\ttoaster.clear(self.loaderToast);\n\t\t\tself.loaderToast = toaster.pop({type: \"wait\", title: $translate.instant(\"angharad_loading_script_title\"), body: $translate.instant(\"angharad_loading_script_message\"), timeout: 0, showCloseButton: false});\n\t\t\tangharadFactory.runScript(ctrl.element.name).then(function () {\n\t\t\t\ttoaster.pop(\"success\", $translate.instant(\"script_run\", {name: ctrl.element.name}), $translate.instant(\"script_run_success\"));\n\t\t\t}, function (error) {\n\t\t\t\ttoaster.pop(\"error\", $translate.instant(\"script_run\", {name: ctrl.element.name}), $translate.instant(\"script_run_error\"));\n\t\t\t})[\"finally\"](function () {\n\t\t\t\ttoaster.clear(self.loaderToast);\n\t\t\t\t$rootScope.$broadcast(\"refresh\");\n\t\t\t});\n\t\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagScript\", {\n    templateUrl: \"components/script/script.template.html\",\n    controller: sagScriptController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"script\",\n        directive: \"sag-script\",\n        carleonService: false\n    });\n});\n\n/**\n * \n * action format:\n * \n * {\n *   \"submodule\": \"submodule_name\",   // Required\n *   \"element\": \"element_name\"        // Required\n *   \"command\": \"command\"             // Required\n *   \"parameters\": {                  // Required for submodule benoic, depends on the element for submodule carleon\n *     \"device\": \"device_name\"        // Required for submodule benoic\n *     \"element_type\": \"element_type\" // Required for submodule benoic\n *     \"service\": \"service_name\"      // Required for carleon\n *     \"param1\": \"value1\",            // for a string value\n *     \"param2\": 2,                   // for an integer value\n *     \"param3\", 3.3                  // for a real value\n *   }\n * \n */\nangular.module(\"sagremorApp\")\n    .controller(\"ScriptModalCtrl\",\n    function($scope, $rootScope, $uibModalInstance, $translate, toaster, sagremorConstant, sagremorService, angharadFactory, sharedData, sagGenericInjectorManager, script) {\n        var self = this;\n        \n        this.script = script;\n        this.add = false;\n        this.newAction = false;\n        this.newActionType = false;\n        this.tmpElement = {};\n        this.scriptActionElements = angular.copy(sagremorConstant.scriptActionElements);\n        this.benoicElements = {\n\t\t\t\t\tswitches: [],\n\t\t\t\t\tdimmers: [],\n\t\t\t\t\theaters: []\n\t\t\t\t}\n\t\t\t\tthis.error = {\n\t\t\t\t\tmessage: \"\"\n\t\t\t\t};\n\t\t\t\tthis.carleonConditionCommandsParameters = {};\n\t\t\t\tthis.carleonConditionElementsList = {};\n        \n        function init() {\n\t\t\t\t\tif (!self.script) {\n\t\t\t\t\t\tself.add = true;\n\t\t\t\t\t\tself.script = {\n\t\t\t\t\t\t\tactions: [],\n\t\t\t\t\t\t\toptions: {}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t_.forEach(sharedData.all(\"benoicDevices\"), function (device) {\n\t\t\t\t\t\tif (device.enabled && device.connected) {\n\t\t\t\t\t\t\t_.forEach(device.element.switches, function(element, name) {\n\t\t\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\t\t\ttype: \"switch\",\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\t\t\tvalue: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.benoicElements.switches.push(elt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_.forEach(device.element.dimmers, function(element, name) {\n\t\t\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\t\t\ttype: \"dimmer\",\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\t\t\tvalue: 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.benoicElements.dimmers.push(elt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_.forEach(device.element.heaters, function(element, name) {\n\t\t\t\t\t\t\t\tvar elt = {\n\t\t\t\t\t\t\t\t\tdevice: device.name,\n\t\t\t\t\t\t\t\t\ttype: \"heater\",\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tdisplay: element.display,\n\t\t\t\t\t\t\t\t\tvalue: 20,\n\t\t\t\t\t\t\t\t\tavailableModes: element.value.availableModes\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tself.benoicElements.heaters.push(elt);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t_.forEach(sharedData.all(\"carleonServices\"), function (service, serviceName) {\n\t\t\t\t\t\tvar injector = _.find(sagGenericInjectorManager.components, function (inject) {\n\t\t\t\t\t\t\treturn inject.type === serviceName && service.enabled;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!!injector) {\n\t\t\t\t\t\t\t_.forEach(injector.commands, function (command, commandName) {\n\t\t\t\t\t\t\t\tvar newAction = {label: command.title, name: serviceName + \"$\" + commandName, submodule: \"carleon\"};\n\t\t\t\t\t\t\t\tself.carleonConditionElementsList[serviceName + \"$\" + commandName] = service.element;\n\t\t\t\t\t\t\t\tself.scriptActionElements.push(newAction);\n\t\t\t\t\t\t\t\tif (!!service.commands && !!service.commands[commandName]) {\n\t\t\t\t\t\t\t\t\tself.carleonConditionCommandsParameters[serviceName + \"$\" + commandName] = [];\n\t\t\t\t\t\t\t\t\t_.forEach(service.commands[commandName].parameters, function (serviceParameter, serviceParameterName) {\n\t\t\t\t\t\t\t\t\t\tvar commandParameter = {\n\t\t\t\t\t\t\t\t\t\t\tname: serviceParameterName,\n\t\t\t\t\t\t\t\t\t\t\ttitle: !!command.parameters[serviceParameterName]?$translate.instant(command.parameters[serviceParameterName]):serviceParameterName,\n\t\t\t\t\t\t\t\t\t\t\ttype: serviceParameter.type,\n\t\t\t\t\t\t\t\t\t\t\trequired: serviceParameter.required\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tself.carleonConditionCommandsParameters[serviceName + \"$\" + commandName].push(commandParameter);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\n        }\n        \n        this.setActionBenoicElement = function () {\n\t\t\t\t\tself.newAction.element = self.tmpElement.name;\n\t\t\t\t\tself.newAction.parameters.device = self.tmpElement.device;\n\t\t\t\t\tself.newAction.parameters.element_type = self.tmpElement.type;\n\t\t\t\t};\n        \n        this.setActionCarleonElement = function () {\n\t\t\t\t\tself.newAction.element = self.tmpElement.name;\n\t\t\t\t};\n        \n        this.trackBenoicElement = function(element, type) {\n\t\t\t\t\tif (!!element && !!type) {\n\t\t\t\t\t\treturn element.device + \"$\" + type + \"$\" + element.name;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn \"err$err$err\";\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.trackCarleonElement = function (element, action) {\n\t\t\t\t\tif (!!element && !!action) {\n\t\t\t\t\t\treturn action + \"$\" + element.name;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn \"err$err$err\";\n\t\t\t\t\t}\n\t\t\t\t};\n        \n        this.addAction = function () {\n\t\t\t\t\tself.newAction = {};\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.changeActionType = function () {\n\t\t\t\t\tself.newAction = {\n\t\t\t\t\t\tsubmodule: \"\",\n\t\t\t\t\t\telement: \"\",\n\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tswitch (self.newActionType.name) {\n\t\t\t\t\t\tcase \"switch\":\n\t\t\t\t\t\t\tself.newAction.submodule = \"benoic\";\n\t\t\t\t\t\t\tself.newAction.command = 1;\n\t\t\t\t\t\t\tself.newAction.parameters.element_type = \"switch\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"dimmer\":\n\t\t\t\t\t\t\tself.newAction.submodule = \"benoic\";\n\t\t\t\t\t\t\tself.newAction.command = 0;\n\t\t\t\t\t\t\tself.newAction.parameters.element_type = \"dimmer\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"heater\":\n\t\t\t\t\t\t\tself.newAction.submodule = \"benoic\";\n\t\t\t\t\t\t\tself.newAction.command = 20;\n\t\t\t\t\t\t\tself.newAction.parameters.element_type = \"heater\";\n\t\t\t\t\t\t\tself.newAction.parameters.mode = \"auto\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tvar newActionTypeSplitted = self.newActionType.name.split(\"$\");\n\t\t\t\t\t\t\tself.newAction.parameters.service = newActionTypeSplitted[0];\n\t\t\t\t\t\t\tself.newAction.command = newActionTypeSplitted[1];\n\t\t\t\t\t\t\tself.newAction.submodule = \"carleon\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.removeAction = function ($index) {\n\t\t\t\t\tself.script.actions.splice($index, 1);\n\t\t\t\t};\n\t\t\n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.tr = function (id) {\n\t\t\t\t\treturn $translate.instant(id);\n\t\t\t\t};\n\n\t\t\t\tthis.heaterModeDisplay = function (value) {\n\t\t\t\t\treturn $translate.instant(\"heater_mode_\" + value);\n\t\t\t\t};\n    \n        this.save = function () {\n\t\t\t\t\tif (self.add) {\n\t\t\t\t\t\tangharadFactory.addScript(self.script).then(function () {\n\t\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant('script_save'), $translate.instant('script_save_success'));\n\t\t\t\t\t\t\tsharedData.add(\"angharadScripts\", self.script.name, self.script);\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"angharadScriptsChanged\");\n\t\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant('script_save'), $translate.instant('script_save_error'));\n\t\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tangharadFactory.setScript(self.script.name, self.script).then(function () {\n\t\t\t\t\t\t\ttoaster.pop(\"success\", $translate.instant('script_save'), $translate.instant('script_save_success'));\n\t\t\t\t\t\t\tsharedData.add(\"angharadScripts\", self.script.name, self.script);\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"angharadScriptsChanged\");\n\t\t\t\t\t\t}, function (error) {\n\t\t\t\t\t\t\ttoaster.pop(\"error\", $translate.instant('script_save'), $translate.instant('script_save_error'));\n\t\t\t\t\t\t})[\"finally\"](function () {\n\t\t\t\t\t\t\t$uibModalInstance.dismiss(\"close\");\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n        };\n        \n        this.getBenoicElementDisplay = function (action) {\n\t\t\t\t\tvar element = sagremorService.getBenoicElement(action.parameters.device, action.parameters.element_type, action.element);\n\t\t\t\t\tif (!!element) {\n\t\t\t\t\t\treturn element.display;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn $translate.instant(\"not_found\");\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n        this.getCarleonElementDisplay = function (action) {\n\t\t\t\t\tvar element = sagremorService.getCarleonElement(action.parameters.service, action.element);\n\t\t\t\t\tif (!!element) {\n\t\t\t\t\t\treturn element.name;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn $translate.instant(\"not_found\");\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.getCarleonElementParameters = function (action) {\n\t\t\t\t\tvar toReturn = [];\n\t\t\t\t\t_.forEach(action.parameters, function (parameter, key) {\n\t\t\t\t\t\tif (key !== \"service\") {\n\t\t\t\t\t\t\ttoReturn.push({name: key, value: parameter});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn toReturn;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.getBenoicElementValue = function (action) {\n\t\t\t\t\tswitch (action.parameters.element_type) {\n\t\t\t\t\t\tcase \"switch\":\n\t\t\t\t\t\t\treturn action.command===1?$translate.instant(\"switch_on\"):$translate.instant(\"switch_off\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"dimmer\":\n\t\t\t\t\t\t\treturn action.command + \" %\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"heater\":\n\t\t\t\t\t\t\tvar heater = sagremorService.getBenoicElement(action.parameters.device, \"heater\", action.element);\n\t\t\t\t\t\t\tif (!!heater) {\n\t\t\t\t\t\t\t\tvar unit = heater.options.unit||\"\";\n\t\t\t\t\t\t\t\treturn action.command + \" \" + unit + \" (\" + action.parameters.mode + \")\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn \"error\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t};\n        \n        this.cancelAddAction = function () {\n\t\t\t\t\tself.newAction = false;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.saveNewAction = function () {\n\t\t\t\t\tself.script.actions.push(self.newAction);\n\t\t\t\t\tself.newActionType = false;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.isScriptValid = function () {\n\t\t\t\t\tif (!self.script.name) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar found = _.find(sharedData.all(\"angharadScripts\"), function (script) {\n\t\t\t\t\t\treturn script.name === self.script.name;\n\t\t\t\t\t});\n\t\t\t\t\tif (!!found && self.add) {\n\t\t\t\t\t\tself.error.message = $translate.instant(\"script_error_name_exist\");\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (self.script.actions.length === 0) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.isActionValid = function () {\n\t\t\t\t\tif (!self.newActionType) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (!self.newAction.element) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (self.newActionType.submodule === \"carleon\") {\n\t\t\t\t\t\tif (!self.tmpElement) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar ret = true;\n\t\t\t\t\t\t_.forEach(self.carleonConditionCommandsParameters[self.newActionType.name], function (parameter, parameterName) {\n\t\t\t\t\t\t\tif (parameter.required && !self.newAction.parameters[parameter.name]) {\n\t\t\t\t\t\t\t\tret = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!ret) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.carleonCommand = function(command, service) {\n\t\t\t\t\tvar curCommand = _.find(self.scriptActionElements, function (action) {\n\t\t\t\t\t\treturn action.name === service + \"$\" + command;\n\t\t\t\t\t});\n\t\t\t\t\treturn curCommand?$translate.instant(curCommand.label):\"not found\";\n\t\t\t\t};\n\t\t\n\t\t\t\tthis.carleonParameter = function(parameter, service, command) {\n\t\t\t\t\tif (!!self.carleonConditionCommandsParameters) {\n\t\t\t\t\t\tvar curParameter = _.find(self.carleonConditionCommandsParameters[service + \"$\" + command], function (param) {\n\t\t\t\t\t\t\treturn param.name === parameter;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn curParameter?curParameter.title:\"not found\";\n\t\t\t\t\t}\n\t\t\t\t};\n        \n        init();\n    });\n\nfunction sagSensorController (benoicFactory, sagremorParams, $translate) {\n    var ctrl = this;\n    \n    ctrl.adminMode = sagremorParams.adminMode;\n    ctrl.element.newDisplay = ctrl.element.display;\n    ctrl.messages = {};\n    \n    function init() {\n        ctrl.element.type = \"sensor\";\n    }\n    \n    ctrl.elementDisplayValue = function() {\n\t\tvar value = ctrl.element.value;\n\t\tif (!isNaN(parseFloat(value)) && isFinite(value)) {\n\t\t\tvalue = (Math.round(value * 100) / 100);\n\t\t}\n        if (!!ctrl.element && !!ctrl.element.options.unit) {\n\t\t\tvalue += \" \" + ctrl.element.options.unit\n\t\t}\n\t\treturn value;\n\t};\n    \n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"sagSensor\", {\n    templateUrl: \"components/sensor/sensor.template.html\",\n    controller: sagSensorController,\n    bindings: {\n        element: \"=\"\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"sensor\",\n        directive: \"sag-sensor\",\n        carleonService: false\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"SensorsModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, sagremorConstant, benoicFactory, sensor) {\n        var self = this;\n        \n        this.sensor = sensor;\n        this.sensor.newDisplay = this.sensor.display;\n        \n        this.monitorEveryEnum = sagremorConstant.monitoredEveryEnum;\n        \n        function init() {\n\t\t\tself.sensor.menu = false;\n            \n            _.forEach(self.monitorEveryEnum, function(monitorEvery) {\n                $translate(monitorEvery.label).then(function (trLabel) {\n                    monitorEvery.trLabel = trLabel;\n                });\n            });\n        }\n        \n        this.tr = function (id) {\n\t\t\treturn $translate.instant(id);\n\t\t};\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.saveSensor = function () {\n            self.sensor.display = self.sensor.newDisplay;\n            self.sensor.monitor = self.sensor.monitorChecked?1:0;\n            benoicFactory.updateElement(self.sensor.device, \"sensor\", self.sensor.name, self.sensor).then(function (response) {\n                $scope.$broadcast(\"benoicSensorsChanged\");\n                toaster.pop(\"success\", $translate.instant(\"sensor_save\"), $translate.instant(\"sensor_save_success\"));\n            }, function (error) {\n                toaster.pop(\"error\", $translate.instant(\"sensor_save\"), $translate.instant(\"sensor_save_error\"));\n            })[\"finally\"](function () {\n                $uibModalInstance.dismiss(\"close\");\n            });\n        };\n        \n        init();\n    }\n);\n\nfunction sagSwitchController (benoicFactory, sagremorParams, $translate) {\n    var ctrl = this;\n    \n    ctrl.element.valueChecked = (ctrl.element.value === 1);\n    ctrl.adminMode = sagremorParams.adminMode;\n    ctrl.element.newDisplay = ctrl.element.display;\n    ctrl.messages = {};\n    \n    function init() {\n        ctrl.element.type = \"switch\";\n    }\n    \n    ctrl.toggleSwitcher = function () {\n        ctrl.element.value = ctrl.element.valueChecked?1:0;\n        benoicFactory.setElement(ctrl.element.device, 'switch', ctrl.element.name, ctrl.element.value);\n    };\n    \n    init();\n}\n\nangular.module('sagremorApp').component('sagSwitch', {\n    templateUrl: 'components/switch/switch.template.html',\n    controller: sagSwitchController,\n    bindings: {\n        element: '='\n    }\n})\n.run(function(sagGenericInjectorManager) {\n    sagGenericInjectorManager.add({\n        type: \"switch\",\n        directive: \"sag-switch\",\n        carleonService: false\n    });\n});\n\nangular.module(\"sagremorApp\")\n    .controller(\"SwitchesModalCtrl\",\n    function($scope, $uibModalInstance, $translate, toaster, sagremorConstant, benoicFactory, switcher) {\n        var self = this;\n        \n        this.switcher = switcher;\n        this.switcher.newDisplay = this.switcher.display;\n        \n        this.monitorEveryEnum = sagremorConstant.monitoredEveryEnum;\n        \n        function init() {\n\t\t\tself.switcher.menu = false;\n            \n            _.forEach(self.monitorEveryEnum, function(monitorEvery) {\n                $translate(monitorEvery.label).then(function (trLabel) {\n                    monitorEvery.trLabel = trLabel;\n                });\n            });\n        }\n        \n        this.cancel = function () {\n            $uibModalInstance.dismiss(\"cancel\");\n        };\n        \n        this.tr = function (id) {\n\t\t\treturn $translate.instant(id);\n\t\t};\n        \n        this.saveSwitcher = function () {\n            self.switcher.display = self.switcher.newDisplay;\n            self.switcher.monitor = self.switcher.monitorChecked?1:0;\n            benoicFactory.updateElement(self.switcher.device, \"switch\", self.switcher.name, self.switcher).then(function (response) {\n                $scope.$broadcast(\"benoicSwitchesChanged\");\n                toaster.pop(\"success\", $translate.instant(\"switch_save\"), $translate.instant(\"switch_save_success\"));\n            }, function (error) {\n                toaster.pop(\"error\", $translate.instant(\"switch_save\"), $translate.instant(\"switch_save_error\"));\n            })[\"finally\"](function () {\n                $uibModalInstance.dismiss(\"close\");\n            });\n        };\n        \n        init();\n    }\n);\n\nfunction topLeftMenuCtrl ($scope, $translate, sagremorParams, sagGenericInjectorManager, sharedData) {\n    var self = this;\n    \n    this.serviceList = [];\n    this.sagremorParams = sagremorParams;\n    \n    function init() {\n\t\tself.loadMenu();\n\t}\n\t\n\tthis.loadMenu = function () {\n\t\tself.serviceList = [];\n\t\t_.forEach(sagGenericInjectorManager.components, function (inject) {\n\t\t\tvar service = sharedData.get(\"carleonServices\", inject.type);\n\t\t\tif (inject.carleonService && inject.leftMenu && !!service && service.enabled) {\n\t\t\t\tvar menu = inject.leftMenu;\n\t\t\t\tmenu.icon = inject.icon;\n\t\t\t\tif (!_.find(self.serviceList, {target: menu.target})) {\n\t\t\t\t\tself.serviceList.push(menu);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n    \n    /**\n     * Because I couldn't find how to do it with otherwise...\n     */\n    this.selectTab = function (tabName) {\n        $(\".sag-menu\").removeClass(\"active\");\n        $(tabName).addClass(\"active\");\n    };\n    \n\t$scope.$on(\"submodulesChanged\", function () {\n\t\tself.sagremorParams = sagremorParams;\n\t});\n\t\n\t$scope.$on(\"carleonServicesChanged\", function () {\n\t\tself.loadMenu();\n\t});\n\n    init();\n}\n\nangular.module(\"sagremorApp\").component(\"topLeftMenu\", {\n    templateUrl: \"components/topLeftMenu/topLeftMenu.template.html\",\n    controller: topLeftMenuCtrl,\n    controllerAs: \"topLeftMenuCtrl\"\n});\n\nfunction topRightMenuCtrl($scope, $rootScope, $location, $http, $translate, $cookies, angharadFactory, sagremorConstant, sagremorParams, angharadConfig) {\n\tvar self = this;\n\n\tself.sagremorParams = sagremorParams;\n\n\tself.selectedLang = $translate.use();\n\n\tself.langList = sagremorConstant.langList;\n\n\tself.profiles = sagremorParams.profiles;\n\tself.currentProfileName = !!sagremorParams.currentProfile ? sagremorParams.currentProfile.name : \"\";\n\n\tself.oauth2 = angharadConfig.oauth2;\n\n\tif ($location.search().type) {\n\t\tself.oauth2.responseType = $location.search().type;\n\t}\n\n\tself.changeLang = function() {\n\t\t$translate.use(self.selectedLang).then(function() {\n\t\t\t$rootScope.$broadcast(\"changeLang\");\n\t\t});\n\t};\n\n\tself.changeProfile = function() {\n\t\t_.forEach(sagremorParams.profiles, function(profile) {\n\t\t\tif (profile.name === self.currentProfileName) {\n\t\t\t\tsagremorParams.currentProfile = profile;\n\t\t\t\tvar now = new Date();\n\t\t\t\tvar exp = new Date(now.getFullYear() + 10, now.getMonth(), now.getDate());\n\t\t\t\t$cookies.put(\"ANGHARAD_PROFILE\", self.currentProfileName, {\n\t\t\t\t\texpires: exp\n\t\t\t\t});\n\t\t\t\t$rootScope.$broadcast(\"angharadProfileUpdated\");\n\t\t\t\t$rootScope.$broadcast(\"refreshDashboard\");\n\t\t\t}\n\t\t});\n\t};\n\n\tself.refresh = function() {\n\t\t$rootScope.$broadcast(\"refresh\");\n\t};\n\n\tself.reconnect = function() {\n\t\t$rootScope.$broadcast(\"reconnect\");\n\t};\n\n\t$scope.$on(\"angharadProfileChanged\", function() {\n\t\tself.profiles = sagremorParams.profiles;\n\t\tself.currentProfileName = !!sagremorParams.currentProfile ? sagremorParams.currentProfile.name : \"\";\n\t});\n\n\t$scope.$on(\"angharadProfileUpdated\", function() {\n\t\tself.profiles = sagremorParams.profiles;\n\t\tself.currentProfileName = !!sagremorParams.currentProfile ? sagremorParams.currentProfile.name : \"\";\n\t});\n}\n\nangular.module(\"sagremorApp\").component(\"topRightMenu\", {\n\ttemplateUrl: \"components/topRightMenu/topRightMenu.template.html\",\n\tcontroller: topRightMenuCtrl,\n\tcontrollerAs: \"topRightMenuCtrl\"\n});\n\nangular.module(\"sagremorApp\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"components/topLeftMenu/topLeftMenu.template.html\",\"<div data-ng-if=\\\"topLeftMenuCtrl.sagremorParams.loggedIn\\\"><ul class=\\\"nav nav-tabs nav-stacked nav-pills topnav\\\"><li id=\\\"tabDashboard\\\" class=\\\"sag-menu active text-center\\\"><a data-ui-sref=\\\"dashboard\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabDashboard\\')\\\" title=\\\"{{\\'menu_home\\'|translate}}\\\"><i class=\\\"fa fa-home fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabSwitches\\\" class=\\\"sag-menu text-center\\\" data-ng-if=\\\"topLeftMenuCtrl.sagremorParams.benoicEnabled\\\"><a data-ui-sref=\\\"switches\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabSwitches\\')\\\" title=\\\"{{\\'menu_lights\\'|translate}}\\\"><i class=\\\"fa fa-lightbulb-o fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabHeaters\\\" class=\\\"sag-menu text-center\\\" data-ng-if=\\\"topLeftMenuCtrl.sagremorParams.benoicEnabled\\\"><a data-ui-sref=\\\"heaters\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabHeaters\\')\\\" title=\\\"{{\\'menu_heaters\\'|translate}}\\\"><i class=\\\"fa fa-fire fa-3x\\\"></i></a></li><li id=\\\"tabSensors\\\" class=\\\"sag-menu text-center\\\" data-ng-if=\\\"topLeftMenuCtrl.sagremorParams.benoicEnabled\\\"><a data-ui-sref=\\\"sensors\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabSensors\\')\\\" title=\\\"{{\\'menu_sensors\\'|translate}}\\\"><i class=\\\"fa fa-line-chart fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabService{{service.target}}\\\" class=\\\"sag-menu text-center\\\" data-ng-repeat=\\\"service in topLeftMenuCtrl.serviceList\\\" data-ng-if=\\\"topLeftMenuCtrl.sagremorParams.carleonEnabled\\\"><a data-ui-sref=\\\"service({service: service.target})\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabService\\' + service.target)\\\" title=\\\"{{service.name|translate}}\\\"><i data-ng-class=\\\"{\\'fa fa-{{service.icon}} fa-fw fa-3x\\': true}\\\"></i></a></li><li id=\\\"tabScripts\\\" class=\\\"sag-menu text-center\\\"><a data-ui-sref=\\\"scripts\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabScripts\\')\\\" title=\\\"{{\\'menu_scripts\\'|translate}}\\\"><i class=\\\"fa fa-tasks fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabEvents\\\" class=\\\"sag-menu text-center\\\"><a data-ui-sref=\\\"events\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabEvents\\')\\\" title=\\\"{{\\'menu_events\\'|translate}}\\\"><i class=\\\"fa fa-calendar fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabMonitors\\\" class=\\\"sag-menu text-center\\\"><a data-ui-sref=\\\"monitors\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabMonitors\\')\\\" title=\\\"{{\\'menu_monitor\\'|translate}}\\\"><i class=\\\"fa fa-bar-chart fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabLogs\\\" class=\\\"sag-menu text-center\\\" data-ng-if=\\\"topLeftMenuCtrl.sagremorParams.garethEnabled\\\" title=\\\"{{\\'menu_logs\\'|translate}}\\\"><a data-ui-sref=\\\"logs\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabLogs\\')\\\"><i class=\\\"fa fa-history fa-fw fa-3x\\\"></i></a></li><li id=\\\"tabParameters\\\" class=\\\"sag-menu text-center\\\"><a data-ui-sref=\\\"parameters\\\" data-toggle=\\\"tab\\\" data-ng-click=\\\"topLeftMenuCtrl.selectTab(\\'#tabParameters\\')\\\" title=\\\"{{\\'menu_parameters\\'|translate}}\\\"><i class=\\\"fa fa-cogs fa-fw fa-3x\\\"></i></a></li></ul></div>\");\n$templateCache.put(\"components/topRightMenu/topRightMenu.template.html\",\"<div class=\\\"top-right-menu\\\" data-uib-dropdown=\\\"\\\"><button class=\\\"btn btn-primary text-left\\\" type=\\\"button\\\" data-uib-dropdown-toggle=\\\"\\\"><i class=\\\"fa fa-user fa-3x\\\" aria-hidden=\\\"true\\\"></i></button><ul class=\\\"container-fluid dropdown-menu dropdown-menu-right top-right-menu-list\\\" data-uib-dropdown-menu=\\\"\\\" data-uib-dropdown-menu-auto-close=\\\"outsideClick\\\" data-ng-click=\\\"$event.stopPropagation()\\\"><li class=\\\"row control-group\\\" data-ng-if=\\\"topRightMenuCtrl.sagremorParams.loggedIn\\\"><div class=\\\"col-xs-6 controls\\\"><label for=\\\"admin-mode\\\" data-translate=\\\"top_right_menu_admin_mode\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><input class=\\\"form-control\\\" id=\\\"admin-mode\\\" name=\\\"admin-mode\\\" data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"topRightMenuCtrl.sagremorParams.adminMode\\\"></div></li><li class=\\\"row control-group\\\"><div class=\\\"col-xs-6 controls\\\"><label for=\\\"sag-lang\\\" data-translate=\\\"top_right_menu_lang\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><select class=\\\"form-control\\\" id=\\\"sag-lang\\\" name=\\\"sag-lang\\\" data-ng-model=\\\"topRightMenuCtrl.selectedLang\\\" data-ng-options=\\\"lang.name as lang.display for lang in topRightMenuCtrl.langList\\\" data-ng-change=\\\"topRightMenuCtrl.changeLang()\\\"></select></div></li><li class=\\\"row control-group\\\" data-ng-if=\\\"topRightMenuCtrl.sagremorParams.loggedIn\\\"><div class=\\\"col-xs-6 controls\\\"><label for=\\\"sag-lang\\\" data-translate=\\\"top_right_menu_profile\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><select class=\\\"form-control\\\" id=\\\"sag-lang\\\" name=\\\"sag-lang\\\" data-ng-model=\\\"topRightMenuCtrl.currentProfileName\\\" data-ng-options=\\\"profile.name as profile.name for profile in topRightMenuCtrl.profiles\\\" data-ng-change=\\\"topRightMenuCtrl.changeProfile()\\\"></select></div></li><li class=\\\"row control-group\\\" data-ng-if=\\\"topRightMenuCtrl.sagremorParams.loggedIn\\\"><div class=\\\"col-xs-6 controls\\\"><label for=\\\"sag-refresh\\\" data-translate=\\\"top_right_menu_refresh\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><button id=\\\"sag-refresh\\\" name=\\\"sag-refresh\\\" type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\" data-ng-click=\\\"topRightMenuCtrl.refresh()\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i></button></div></li><li class=\\\"row control-group\\\" data-ng-if=\\\"!topRightMenuCtrl.sagremorParams.loggedIn\\\"><div class=\\\"col-xs-6 controls\\\"><label for=\\\"sag-refresh\\\" data-translate=\\\"top_right_menu_refresh\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><button id=\\\"sag-refresh\\\" name=\\\"sag-refresh\\\" type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\" data-ng-click=\\\"topRightMenuCtrl.reconnect()\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i></button></div></li><li class=\\\"row control-group\\\"><data-oauth data-site=\\\"{{topRightMenuCtrl.oauth2.site}}\\\" data-client-id=\\\"{{topRightMenuCtrl.oauth2.clientId}}\\\" data-response-type=\\\"{{topRightMenuCtrl.oauth2.responseType}}\\\" data-redirect-uri=\\\"{{topRightMenuCtrl.oauth2.redirectUri}}\\\" data-profile-uri=\\\"{{topRightMenuCtrl.oauth2.profileUri}}\\\" data-scope=\\\"{{topRightMenuCtrl.oauth2.scope}}\\\" data-authorize-path=\\\"{{topRightMenuCtrl.oauth2.authorizePath}}\\\" data-token-path=\\\"{{topRightMenuCtrl.oauth2.tokenPath}}\\\" data-template=\\\"/app/login/login.html\\\" data-storage=\\\"localStorage\\\" data-disable-check-session=\\\"true\\\"></data-oauth></li></ul></div>\");\n$templateCache.put(\"components/script/script.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"script_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !!ScriptModalCtrl.error.message}\\\"><label for=\\\"scriptName\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_name\\\"></label><div class=\\\"col-xs-8 controls\\\"><input type=\\\"text\\\" name=\\\"scriptName\\\" id=\\\"scriptName\\\" data-ng-model=\\\"ScriptModalCtrl.script.name\\\" class=\\\"modal-input-text form-control\\\" size=\\\"16\\\" maxlength=\\\"64\\\" data-ng-disabled=\\\"!ScriptModalCtrl.add\\\" placeholder=\\\"{{\\'script_name_placeholder\\' | translate}}\\\"></div></div><div class=\\\"row control-group\\\"><label for=\\\"scriptDecription\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_description\\\"></label><div class=\\\"col-xs-8 controls\\\"><input type=\\\"text\\\" name=\\\"scriptDecription\\\" id=\\\"scriptDecription\\\" data-ng-model=\\\"ScriptModalCtrl.script.description\\\" class=\\\"modal-input-text form-control\\\" size=\\\"16\\\" maxlength=\\\"128\\\" placeholder=\\\"{{\\'script_description_placeholder\\' | translate}}\\\"></div></div><hr><h4 data-translate=\\\"script_actions\\\"></h4><div data-ng-repeat=\\\"action in ScriptModalCtrl.script.actions\\\"><div class=\\\"row\\\" data-ng-if=\\\"action.submodule === \\'benoic\\'\\\"><div class=\\\"col-xs-4\\\"><strong data-ng-bind=\\\"ScriptModalCtrl.getBenoicElementDisplay(action)\\\"></strong></div><div class=\\\"col-xs-4\\\"><strong data-ng-bind=\\\"ScriptModalCtrl.getBenoicElementValue(action)\\\"></strong></div><div class=\\\"col-xs-2\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ScriptModalCtrl.removeAction($index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></div></div><div class=\\\"row\\\" data-ng-if=\\\"action.submodule === \\'carleon\\'\\\"><div class=\\\"col-xs-4\\\"><strong data-ng-bind=\\\"ScriptModalCtrl.carleonCommand(action.command, action.parameters.service)\\\"></strong></div><div class=\\\"col-xs-4\\\"><div class=\\\"row\\\" data-ng-repeat=\\\"(name, value) in action.parameters\\\" data-ng-if=\\\"name !== \\'service\\'\\\"><strong><span data-ng-bind=\\\"ScriptModalCtrl.carleonParameter(name, action.parameters.service, action.command)\\\"></span> <span>:</span> <span data-ng-bind=\\\"value\\\"></span></strong></div></div><div class=\\\"col-xs-2\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ScriptModalCtrl.removeAction($index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></div></div></div><hr><div class=\\\"row\\\"><div class=\\\"col-xs-12\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"ScriptModalCtrl.addAction()\\\" data-translate=\\\"script_add_action\\\"></button></div></div><div data-ng-if=\\\"ScriptModalCtrl.newAction\\\"><hr><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !ScriptModalCtrl.newActionType}\\\"><label for=\\\"newActionElement\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_action\\\"></label><div class=\\\"col-xs-8 controls\\\"><select id=\\\"newActionElement\\\" name=\\\"newActionElement\\\" class=\\\"form-control\\\" data-ng-model=\\\"ScriptModalCtrl.newActionType\\\" data-ng-options=\\\"element as ScriptModalCtrl.tr(element.label) for element in ScriptModalCtrl.scriptActionElements track by element.name\\\" data-ng-change=\\\"ScriptModalCtrl.changeActionType()\\\"></select></div></div><div data-ng-if=\\\"ScriptModalCtrl.newActionType.name === \\'switch\\'\\\"><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !ScriptModalCtrl.newAction.switcher.name}\\\"><label for=\\\"newActionSwitch\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_switch_select\\\"></label><div class=\\\"col-xs-8 controls\\\"><select id=\\\"newActionSwitch\\\" name=\\\"newActionSwitch\\\" class=\\\"form-control\\\" data-ng-model=\\\"ScriptModalCtrl.tmpElement\\\" data-ng-change=\\\"ScriptModalCtrl.setActionBenoicElement()\\\" data-ng-options=\\\"switch as switch.display for switch in ScriptModalCtrl.benoicElements.switches track by ScriptModalCtrl.trackBenoicElement(switch, \\'switch\\')\\\"></select></div></div><div class=\\\"row\\\"><label for=\\\"newActionSwitchValue\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_switch_value\\\"></label><div class=\\\"col-xs-8\\\"><input type=\\\"checkbox\\\" id=\\\"newActionSwitchValue\\\" name=\\\"newActionSwitchValue\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.command\\\" data-ng-checked=\\\"false\\\" data-ng-true-value=\\\"1\\\" data-ng-false-value=\\\"0\\\"></div></div></div><div data-ng-if=\\\"ScriptModalCtrl.newActionType.name === \\'dimmer\\'\\\"><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !ScriptModalCtrl.newAction.dimmer.name}\\\"><label for=\\\"newActionDimmer\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_dimmer_select\\\"></label><div class=\\\"col-xs-8 controls\\\"><select id=\\\"newActionDimmer\\\" name=\\\"newActionDimmer\\\" class=\\\"form-control\\\" data-ng-model=\\\"ScriptModalCtrl.tmpElement\\\" data-ng-change=\\\"ScriptModalCtrl.setActionBenoicElement()\\\" data-ng-options=\\\"dimmer as dimmer.display for dimmer in ScriptModalCtrl.benoicElements.dimmers track by ScriptModalCtrl.trackBenoicElement(dimmer, \\'dimmer\\')\\\"></select></div></div><div class=\\\"row\\\"><label for=\\\"newActionDimmerValue\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_dimmer_value\\\"></label><div class=\\\"col-xs-8\\\"><input id=\\\"newActionDimmerValue\\\" class=\\\"form-control\\\" name=\\\"newActionDimmerValue\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.command\\\"></div></div></div><div data-ng-if=\\\"ScriptModalCtrl.newActionType.name === \\'heater\\'\\\"><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !ScriptModalCtrl.newAction.heater.name}\\\"><label for=\\\"newActionHeater\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_heater_select\\\"></label><div class=\\\"col-xs-8 controls\\\"><select id=\\\"newActionHeater\\\" name=\\\"newActionHeater\\\" class=\\\"form-control\\\" data-ng-model=\\\"ScriptModalCtrl.tmpElement\\\" data-ng-change=\\\"ScriptModalCtrl.setActionBenoicElement()\\\" data-ng-options=\\\"heater as heater.display for heater in ScriptModalCtrl.benoicElements.heaters track by ScriptModalCtrl.trackBenoicElement(heater, \\'heater\\')\\\"></select></div></div><div class=\\\"row\\\"><label for=\\\"newActionHeaterValue\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_heater_command\\\"></label><div class=\\\"col-xs-8\\\"><input id=\\\"newActionHeaterValue\\\" class=\\\"form-control\\\" name=\\\"newActionHeaterValue\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.command\\\"> <span data-ng-bind=\\\"ScriptModalCtrl.tmpElement.options.unit\\\"></span></div></div><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !ScriptModalCtrl.newAction.heater.mode}\\\"><label for=\\\"newActionHeaterMode\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_heater_mode_title\\\"></label><div class=\\\"col-xs-8 controls\\\"><select class=\\\"form-control\\\" id=\\\"newActionHeaterMode\\\" name=\\\"newActionHeaterMode\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.parameters.mode\\\" data-ng-options=\\\"mode as ScriptModalCtrl.heaterModeDisplay(mode) for mode in ScriptModalCtrl.tmpElement.availableModes\\\"><option value=\\\"\\\" data-translate=\\\"heater_mode_keep\\\"></option></select></div></div></div><div data-ng-if=\\\"ScriptModalCtrl.newActionType.submodule === \\'carleon\\'\\\"><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': false}\\\"><label for=\\\"newActionCarleonElement\\\" class=\\\"col-xs-4\\\" data-translate=\\\"script_element_select\\\"></label><div class=\\\"col-xs-8 controls\\\"><select id=\\\"newActionCarleonElement\\\" name=\\\"newActionCarleonElement\\\" class=\\\"form-control\\\" data-ng-model=\\\"ScriptModalCtrl.tmpElement\\\" data-ng-change=\\\"ScriptModalCtrl.setActionCarleonElement()\\\" data-ng-options=\\\"element as element.name for element in ScriptModalCtrl.carleonConditionElementsList[ScriptModalCtrl.newActionType.name] track by ScriptModalCtrl.trackCarleonElement(element, ScriptModalCtrl.newActionType.name)\\\"></select></div></div><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': false}\\\" data-ng-repeat=\\\"parameter in ScriptModalCtrl.carleonConditionCommandsParameters[ScriptModalCtrl.newActionType.name]\\\"><label for=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" class=\\\"col-xs-4\\\" data-ng-bind=\\\"parameter.title\\\"></label><div class=\\\"col-xs-8 controls\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" id=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"parameter.type === \\'string\\'\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.parameters[parameter.name]\\\"> <input type=\\\"number\\\" class=\\\"form-control\\\" name=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" id=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"parameter.type === \\'integer\\'\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.parameters[parameter.name]\\\"> <input type=\\\"number\\\" class=\\\"form-control\\\" name=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" id=\\\"{{ScriptModalCtrl.newActionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"parameter.type === \\'real\\'\\\" step=\\\".01\\\" data-ng-model=\\\"ScriptModalCtrl.newAction.parameters[parameter.name]\\\"></div></div></div><hr><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"ScriptModalCtrl.saveNewAction()\\\" data-translate=\\\"btn_add\\\" data-ng-disabled=\\\"!ScriptModalCtrl.isActionValid()\\\" data-uib-tooltip=\\\"{{ScriptModalCtrl.error.messageAction}}\\\"></button></div><div class=\\\"col-xs-6\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"ScriptModalCtrl.cancelAddAction()\\\" data-translate=\\\"btn_cancel\\\"></button></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"ScriptModalCtrl.save()\\\" data-translate=\\\"btn_ok\\\" data-ng-disabled=\\\"!ScriptModalCtrl.isScriptValid()\\\" data-uib-tooltip=\\\"{{ScriptModalCtrl.error.message}}\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"ScriptModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/script/script.template.html\",\"<div class=\\\"text-center\\\"><button type=\\\"button\\\" data-ng-click=\\\"$ctrl.runScript()\\\" class=\\\"btn btn-primary script-button\\\" data-ng-bind=\\\"$ctrl.element.name\\\"></button></div>\");\n$templateCache.put(\"app/dashboard/dashboard.html\",\"<div><h1 data-translate=\\\"dashboard_title\\\"></h1><h2 data-ng-bind=\\\"DashboardCtrl.profileName\\\"></h2><div class=\\\"row\\\" data-ng-if=\\\"DashboardCtrl.sagremorParams.adminMode\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" name=\\\"addTitleLine\\\" id=\\\"addTitleLine\\\" data-ng-click=\\\"DashboardCtrl.addTitleLine()\\\" data-translate=\\\"dashboard_button_add_title_line\\\"></button><hr></div><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div data-gridstack=\\\"\\\" class=\\\"grid-stack grid1\\\" data-options=\\\"DashboardCtrl.options\\\" data-on-change=\\\"DashboardCtrl.onChange(event, items)\\\"><div data-gridstack-item=\\\"\\\" data-ng-repeat=\\\"w in DashboardCtrl.dashboardWidgetsDisplay\\\" class=\\\"grid-stack-item\\\" data-gs-no-resize=\\\"true\\\" data-gs-item-x=\\\"w.x\\\" data-gs-item-y=\\\"w.y\\\" data-gs-item-width=\\\"w.width\\\" data-gs-item-height=\\\"w.height\\\" data-gs-min-width=\\\"3\\\" data-gs-item-autopos=\\\"0\\\" data-sag-type=\\\"{{w.type}}\\\" data-sag-device=\\\"{{w.device}}\\\" data-sag-name=\\\"{{w.name}}\\\" data-sag-profile=\\\"{{w.profile}}\\\"><div class=\\\"grid-stack-item-content\\\" data-ng-if=\\\"w.type !== \\'separator\\'\\\"><data-sag-container data-menu=\\\"DashboardCtrl.menu\\\" data-size=\\\"1\\\" data-title=\\\"w.element.display || w.element.name\\\" data-element=\\\"w\\\" data-dashboard=\\\"true\\\" data-type=\\\"w.type\\\" data-sag-params=\\\"DashboardCtrl.sagremorParams\\\" data-icon=\\\"w.icon\\\"><div data-sag-generic-injector=\\\"\\\" data-type=\\\"w.type\\\" data-elt=\\\"w.element\\\"></div></data-sag-container></div><div data-ng-if=\\\"w.type === \\'separator\\'\\\"><div class=\\\"sag-container-header-menu\\\" data-uib-dropdown=\\\"\\\"><button class=\\\"btn btn-primary text-left\\\" data-ng-if=\\\"DashboardCtrl.sagremorParams.adminMode\\\" type=\\\"button\\\" data-uib-dropdown-toggle=\\\"\\\" data-ng-click=\\\"\\\">#</button><ul data-uib-dropdown-menu=\\\"\\\"><li><a href=\\\"\\\" data-ng-click=\\\"DashboardCtrl.removeFromDashboard(w)\\\" data-translate=\\\"remove_from_dashboard\\\"></a></li></ul><fieldset class=\\\"grid-stack-item-content\\\" dir=\\\"ltr\\\"><legend data-ng-bind=\\\"w.name\\\" class=\\\"sag-separator\\\"></legend></fieldset></div></div></div></div></div></div><div class=\\\"row\\\" data-ng-if=\\\"!DashboardCtrl.connected\\\"><div class=\\\"col-md-12\\\"><h3 data-translate=\\\"connect_message\\\"></h3></div></div></div>\");\n$templateCache.put(\"app/error/error.html\",\"<div><div class=\\\"container\\\"><h1 data-translate=\\\"{{ErrorCtrl.errorMessage}}\\\"></h1></div></div>\");\n$templateCache.put(\"app/events/events.html\",\"<div><h1 data-translate=\\\"events_title\\\"></h1><div class=\\\"row\\\" data-ng-if=\\\"eventsCtrl.sagremorParams.adminMode\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" name=\\\"addEvent\\\" id=\\\"addEvent\\\" data-ng-click=\\\"eventsCtrl.newEvent()\\\" data-translate=\\\"events_button_add\\\"></button></div><hr data-ng-if=\\\"eventsCtrl.schedulerList.length > 0\\\"><h2 data-translate=\\\"schedulers_title\\\" data-ng-if=\\\"eventsCtrl.schedulerList.length > 0\\\"></h2><div class=\\\"row\\\"><div data-ng-repeat=\\\"scheduler in eventsCtrl.schedulerList track by $index\\\" class=\\\"col-sm-3\\\"><data-sag-container data-menu=\\\"eventsCtrl.menuScheduler\\\" data-size=\\\"1\\\" data-title=\\\"scheduler.name\\\" data-type=\\\"\\'scheduler\\'\\\" data-element=\\\"scheduler\\\" data-icon=\\\"\\'calendar\\'\\\"><data-sag-scheduler data-element=\\\"scheduler\\\"></data-sag-scheduler></data-sag-container></div></div><hr data-ng-if=\\\"eventsCtrl.triggerList.length > 0\\\"><h2 data-translate=\\\"triggers_title\\\" data-ng-if=\\\"eventsCtrl.triggerList.length > 0\\\"></h2><div class=\\\"row\\\"><div data-ng-repeat=\\\"trigger in eventsCtrl.triggerList track by $index\\\" class=\\\"col-sm-3\\\"><data-sag-container data-menu=\\\"eventsCtrl.menuTrigger\\\" data-size=\\\"1\\\" data-title=\\\"trigger.name\\\" data-type=\\\"\\'trigger\\'\\\" data-element=\\\"trigger\\\" data-icon=\\\"\\'bell\\'\\\"><data-sag-trigger data-element=\\\"trigger\\\"></data-sag-trigger></data-sag-container></div></div></div>\");\n$templateCache.put(\"app/heaters/heaters.html\",\"<div><h1 data-translate=\\\"heaters_title\\\"></h1><div class=\\\"row\\\"><div data-ng-repeat=\\\"heater in heatersCtrl.heaterList\\\" class=\\\"col-sm-3\\\" data-ng-if=\\\"heater.enabled || heatersCtrl.sagremorParams.adminMode\\\"><data-sag-container data-menu=\\\"heatersCtrl.menuSensor\\\" data-size=\\\"1\\\" data-title=\\\"heater.display\\\" data-type=\\\"\\'heater\\'\\\" data-element=\\\"heater\\\" data-icon=\\\"\\'fire\\'\\\"><data-sag-heater data-element=\\\"heater\\\"></data-sag-heater></data-sag-container></div></div></div>\");\n$templateCache.put(\"app/login/login.html\",\"<div class=\\\"col-xs-6 controls\\\"><label data-translate=\\\"top_right_menu_login\\\" data-ng-if=\\\"responseType !== \\'password\\' && show==\\'logged-out\\'\\\"></label> <label data-translate=\\\"top_right_menu_logout\\\" data-ng-if=\\\"show==\\'logged-in\\'\\\"></label> <label data-translate=\\\"top_right_menu_access_denied\\\" data-ng-if=\\\"responseType !== \\'password\\' && show==\\'denied\\'\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\" data-ng-if=\\\"responseType !== \\'password\\' && show==\\'logged-out\\' || show==\\'denied\\'\\\" data-ng-click=\\\"login()\\\"><i class=\\\"fa fa-sign-in\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\" data-ng-if=\\\"show==\\'logged-in\\'\\\" data-ng-click=\\\"logout()\\\"><i class=\\\"fa fa-sign-out\\\" aria-hidden=\\\"true\\\"></i></button></div><div class=\\\"col-xs-12\\\"><div data-ng-show=\\\"responseType === \\'password\\' && show !== \\'logged-in\\'\\\"><form><div><label>Login</label> <input type=\\\"text\\\" data-ng-model=\\\"typedLogin\\\" placeholder=\\\"login\\\"></div><div><label>Password</label> <input type=\\\"password\\\" data-ng-model=\\\"typedPassword\\\" placeholder=\\\"password\\\"></div><div><label>Keep connection</label> <input type=\\\"checkbox\\\" data-ng-model=\\\"typedKeepConnection\\\"></div><input type=\\\"submit\\\" class=\\\"btn btn-primary btn-sm\\\" value=\\\"Submit\\\" data-ng-click=\\\"checkPassword()\\\"></form></div></div>\");\n$templateCache.put(\"app/logs/filters.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal_title\\\" data-translate=\\\"logs_filter_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-4 controls\\\" data-ng-if=\\\"!FiltersModalCtrl.displayAlert\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.newFilter()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_filter_new_button\\\"></span></button></div><div class=\\\"col-xs-4 controls\\\" data-ng-if=\\\"!FiltersModalCtrl.displayAlert\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.showAlerts()\\\"><i class=\\\"fa fa-bolt\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_alerts_delete_button\\\"></span></button></div><div class=\\\"col-xs-4 controls\\\" data-ng-if=\\\"FiltersModalCtrl.displayAlert\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.showFilters()\\\"><i class=\\\"fa fa-bolt\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_filters_show_button\\\"></span></button></div></div><div data-ng-if=\\\"FiltersModalCtrl.editFilter && !FiltersModalCtrl.displayAlert\\\"><hr><h3 data-translate=\\\"filter_table_edit\\\" data-ng-if=\\\"!FiltersModalCtrl.addFilter\\\"></h3><h3 data-translate=\\\"filter_table_new\\\" data-ng-if=\\\"FiltersModalCtrl.addFilter\\\"></h3><table class=\\\"table table-hover\\\"><thead><tr><th data-translate=\\\"filter_table_name\\\"></th><th data-translate=\\\"filter_table_description\\\"></th></tr></thead><tbody><tr><td><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"filterName\\\" id=\\\"filterName\\\" data-ng-model=\\\"FiltersModalCtrl.customFilter.name\\\" data-ng-disabled=\\\"!FiltersModalCtrl.addFilter\\\"></td><td><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"filterDescription\\\" id=\\\"filterDescription\\\" data-ng-model=\\\"FiltersModalCtrl.customFilter.description\\\"></td></tr></tbody></table><div class=\\\"row control-group\\\"><div class=\\\"col-xs-4 controls\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.addClause()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_clause_new_button\\\"></span></button></div><div class=\\\"col-xs-4 controls\\\"><div data-uib-dropdown=\\\"\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.addAlert()\\\" data-uib-dropdown-toggle=\\\"\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_alert_new_button\\\"></span></button><ul data-uib-dropdown-menu=\\\"\\\"><li data-ng-repeat=\\\"menuItem in FiltersModalCtrl.menu\\\"><a href=\\\"\\\" data-ng-click=\\\"FiltersModalCtrl.menuSelect(menuItem, $ctrl.element)\\\" data-ng-bind=\\\"menuItem.display\\\"></a></li></ul></div></div></div><h3 data-translate=\\\"filter_table_clauses\\\"></h3><table class=\\\"table table-hover\\\"><thead><tr><th data-translate=\\\"clause_table_element\\\"></th><th data-translate=\\\"clause_table_operator\\\"></th><th data-translate=\\\"clause_table_value\\\"></th><th></th><th></th></tr></thead><tbody><tr data-ng-if=\\\"FiltersModalCtrl.newClause\\\"><td><select class=\\\"form-control\\\" data-ng-model=\\\"FiltersModalCtrl.customClause.element\\\"><option value=\\\"priority\\\" data-translate=\\\"clause_option_priority\\\"></option><option value=\\\"source\\\" data-translate=\\\"clause_option_source\\\"></option><option value=\\\"message\\\" data-translate=\\\"clause_option_message\\\"></option><option value=\\\"tag\\\" data-translate=\\\"clause_option_tag\\\"></option></select></td><td><select class=\\\"form-control\\\" data-ng-model=\\\"FiltersModalCtrl.customClause.operator\\\"><option value=\\\"=\\\" data-translate=\\\"clause_operator_equal\\\"></option><option value=\\\"!=\\\" data-translate=\\\"clause_operator_different\\\"></option><option value=\\\"<\\\" data-translate=\\\"clause_operator_lower\\\"></option><option value=\\\"<=\\\" data-translate=\\\"clause_operator_lower_equal\\\"></option><option value=\\\">\\\" data-translate=\\\"clause_operator_higher\\\"></option><option value=\\\">=\\\" data-translate=\\\"clause_operator_higher_equal\\\"></option><option value=\\\"contains\\\" data-translate=\\\"clause_operator_contains\\\"></option><option value=\\\"notcontains\\\" data-translate=\\\"clause_operator_notcontains\\\"></option></select></td><td><select class=\\\"form-control\\\" data-ng-model=\\\"FiltersModalCtrl.customClause.value\\\" data-ng-if=\\\"FiltersModalCtrl.customClause.element === \\'priority\\'\\\"><option value=\\\"0\\\" data-translate=\\\"logs_priority_none\\\"></option><option value=\\\"1\\\" data-translate=\\\"logs_priority_low\\\"></option><option value=\\\"2\\\" data-translate=\\\"logs_priority_medium\\\"></option><option value=\\\"3\\\" data-translate=\\\"logs_priority_high\\\"></option><option value=\\\"4\\\" data-translate=\\\"logs_priority_critical\\\"></option></select><input type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customClause.value\\\" data-ng-if=\\\"FiltersModalCtrl.customClause.element !== \\'priority\\'\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.addNewClause()\\\" data-ng-disabled=\\\"!FiltersModalCtrl.isClauseValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.cancelAddClause()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-repeat=\\\"clause in FiltersModalCtrl.customFilter.filter_clauses track by $index\\\"><td data-ng-bind=\\\"FiltersModalCtrl.getClauseElement(clause.element)\\\"></td><td data-ng-bind=\\\"FiltersModalCtrl.getClauseOperator(clause.operator)\\\"></td><td data-ng-bind=\\\"FiltersModalCtrl.getClauseValue(clause)\\\"></td><td></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.removeClause($index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table><h3 data-translate=\\\"filter_table_alerts\\\"></h3><table class=\\\"table table-hover\\\"><thead><tr><th data-translate=\\\"alert_table_name\\\"></th><th data-translate=\\\"alert_table_type\\\"></th><th></th></tr></thead><tbody><tr data-ng-repeat=\\\"alert in FiltersModalCtrl.customFilter.filter_alerts.smtp track by $index\\\"><td data-ng-bind=\\\"alert\\\"></td><td>SMTP</td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.removeAlert(\\'smtp\\', $index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-repeat=\\\"alert in FiltersModalCtrl.customFilter.filter_alerts.http track by $index\\\"><td data-ng-bind=\\\"alert\\\"></td><td>HTTP</td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.removeAlert(\\'http\\', $index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table><div data-ng-if=\\\"FiltersModalCtrl.newAlertSmtp\\\"><div class=\\\"row control-group\\\"><h3 data-translate=\\\"alert_smtp_title\\\"></h3><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_select\\\"></label></div><div class=\\\"controls col-xs-6\\\"><select id=\\\"logsSearchFilter\\\" class=\\\"form-control\\\" data-ng-model=\\\"FiltersModalCtrl.existingSmtpAlert\\\" data-ng-options=\\\"alert.name for alert in FiltersModalCtrl.AlertSmtpList\\\" data-ng-disabled=\\\"!FiltersModalCtrl.AlertSmtpList || FiltersModalCtrl.AlertSmtpList.length === 0\\\"><option value=\\\"\\\"></option></select></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-12 text-center\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_or\\\"></label></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_name\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input required=\\\"\\\" type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.name\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_host\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" required=\\\"\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.host\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_port\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"number\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.port\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_tls\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.tls\\\" data-ng-checked=\\\"false\\\" data-switch-active=\\\"{{!FiltersModalCtrl.existingSmtpAlert}}\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_check_ca\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.check_ca\\\" data-ng-checked=\\\"false\\\" data-switch-active=\\\"{{!FiltersModalCtrl.existingSmtpAlert}}\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_user\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.user\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_password\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.password\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_from\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-uib-tooltip=\\\"{{\\'alert_smtp_emails_tooltip\\' | translate}}\\\" required=\\\"\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.from\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_to\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" required=\\\"\\\" data-uib-tooltip=\\\"{{\\'alert_smtp_emails_tooltip\\' | translate}}\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.to\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_cc\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-uib-tooltip=\\\"{{\\'alert_smtp_emails_tooltip\\' | translate}}\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.cc\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_bcc\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-uib-tooltip=\\\"{{\\'alert_smtp_emails_tooltip\\' | translate}}\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.bcc\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_subject\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-uib-tooltip=\\\"{{\\'alert_subject_body_tooltip\\' | translate}}\\\" required=\\\"\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.subject\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_smtp_body\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-uib-tooltip=\\\"{{\\'alert_subject_body_tooltip\\' | translate}}\\\" required=\\\"\\\" data-ng-model=\\\"FiltersModalCtrl.customSmtpAlert.body\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingSmtpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"></div><div class=\\\"controls col-xs-6\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.postNewSmtpAlert()\\\" data-ng-disabled=\\\"!FiltersModalCtrl.isSmtpAlertValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.cancelAddSmtpAlert()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></div></div><hr></div><div data-ng-if=\\\"FiltersModalCtrl.newAlertHttp\\\"><h3 data-translate=\\\"alert_http_title\\\"></h3><div class=\\\"row control-group required\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_select\\\"></label></div><div class=\\\"controls col-xs-6\\\"><select id=\\\"logsSearchFilter\\\" class=\\\"form-control\\\" data-ng-model=\\\"FiltersModalCtrl.existingHttpAlert\\\" data-ng-options=\\\"alert.name for alert in FiltersModalCtrl.AlertHttpList\\\" data-ng-disabled=\\\"!FiltersModalCtrl.AlertHttpList || FiltersModalCtrl.AlertHttpList.length === 0\\\"><option value=\\\"\\\"></option></select></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-12 text-center\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_or\\\"></label></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_name\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input required=\\\"\\\" type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlert.name\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingHttpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_method\\\"></label></div><div class=\\\"controls col-xs-6\\\"><select required=\\\"\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlertMethodSelect\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingHttpAlert\\\"><option value=\\\"GET\\\">GET</option><option value=\\\"POST\\\">POST</option><option value=\\\"PUT\\\">PUT</option><option value=\\\"DELETE\\\">DELETE</option><option value=\\\"custom\\\" data-translate=\\\"alert_http_method_other\\\"></option></select></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"FiltersModalCtrl.customHttpAlertMethodSelect === \\'custom\\'\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_method_custom\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlert.method\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingHttpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_url\\\"></label></div><div class=\\\"controls col-xs-6\\\"><input required=\\\"\\\" type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlert.url\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"FiltersModalCtrl.existingHttpAlert\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_body\\\"></label></div><div class=\\\"controls col-xs-6\\\"><textarea data-uib-tooltip=\\\"{{\\'alert_subject_body_tooltip\\' | translate}}\\\" required=\\\"\\\" class=\\\"form-control\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlert.body\\\">\\n\t\t\t\t\t\t</textarea></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_headers\\\"></label></div><div class=\\\"controls col-xs-6\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.addAlertHttpHeader()\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i></button></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-translate=\\\"alert_http_header_key\\\"></label></div><div class=\\\"controls col-xs-6\\\"><label data-translate=\\\"alert_http_header_value\\\"></label></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"FiltersModalCtrl.newAlertHttpHeader && !FiltersModalCtrl.existingHttpAlert\\\"><div class=\\\"controls col-xs-4\\\"><input type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlertHeader.key\\\" class=\\\"form-control\\\"></div><div class=\\\"controls col-xs-4\\\"><input type=\\\"text\\\" data-ng-model=\\\"FiltersModalCtrl.customHttpAlertHeader.value\\\" class=\\\"form-control\\\"></div><div class=\\\"controls col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.addNewAlertHttpHeader()\\\" data-ng-disabled=\\\"!FiltersModalCtrl.customHttpAlertHeader.key || !FiltersModalCtrl.customHttpAlertHeader.value\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.cancelAddAlertHttpHeader()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></div></div><div class=\\\"row control-group\\\" data-ng-repeat=\\\"header in FiltersModalCtrl.customHttpAlert.http_headers\\\"><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-ng-bind=\\\"header.key\\\"></label></div><div class=\\\"controls col-xs-6\\\"><label class=\\\"control-label\\\" data-ng-bind=\\\"header.value\\\"></label></div></div><div class=\\\"row control-group\\\"><div class=\\\"controls col-xs-6\\\"></div><div class=\\\"controls col-xs-6\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.postNewHttpAlert()\\\" data-ng-disabled=\\\"!FiltersModalCtrl.isHttpAlertValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.cancelAddHttpAlert()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></div></div><hr></div><div class=\\\"row control-group\\\"><div class=\\\"col-xs-6\\\"></div><div class=\\\"col-xs-3\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" data-ng-click=\\\"FiltersModalCtrl.postNewFilter()\\\" data-ng-disabled=\\\"!FiltersModalCtrl.isFilterValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"btn_ok\\\"></span></button></div><div class=\\\"col-xs-3\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" data-ng-click=\\\"FiltersModalCtrl.cancelNewFilter()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"btn_cancel\\\"></span></button></div></div></div><div data-ng-if=\\\"!FiltersModalCtrl.editFilter && !FiltersModalCtrl.displayAlert\\\"><table class=\\\"table table-hover\\\"><thead><tr><th data-translate=\\\"filter_table_name\\\"></th><th data-translate=\\\"filter_table_description\\\"></th><th data-translate=\\\"filter_table_clauses\\\"></th><th data-translate=\\\"filter_table_alerts\\\"></th><th></th></tr></thead><tr data-ng-repeat=\\\"filter in FiltersModalCtrl.filterList track by $index\\\"><td data-ng-bind=\\\"filter.name\\\"></td><td data-ng-bind=\\\"filter.description\\\"></td><td><div class=\\\"row-fluid\\\" data-ng-repeat=\\\"clause in filter.filter_clauses\\\"><span data-ng-bind=\\\"FiltersModalCtrl.getClauseElement(clause.element)\\\"></span> <span data-ng-bind=\\\"FiltersModalCtrl.getClauseOperator(clause.operator)\\\"></span> <span data-ng-bind=\\\"FiltersModalCtrl.getClauseValue(clause)\\\"></span></div></td><td><div class=\\\"row\\\" data-ng-if=\\\"filter.filter_alerts.smtp.length\\\"><div class=\\\"col-xs-3\\\"><strong><span data-translate=\\\"logs_alert_list_smtp\\\"></span></strong></div><div class=\\\"col-xs-9\\\"><span class=\\\"pull-right\\\" data-ng-bind=\\\"filter.filter_alerts.smtp.join(\\', \\')\\\"></span></div></div><div class=\\\"row\\\" data-ng-if=\\\"filter.filter_alerts.http.length\\\"><div class=\\\"col-xs-3\\\"><strong><span data-translate=\\\"logs_alert_list_http\\\"></span></strong></div><div class=\\\"col-xs-9\\\"><span class=\\\"pull-right\\\" data-ng-bind=\\\"filter.filter_alerts.http.join(\\', \\')\\\"></span></div></div></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.editCustomFilter(filter)\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.removeCustomFilter(filter)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></table></div><div data-ng-if=\\\"FiltersModalCtrl.displayAlert\\\"><h4 data-translate=\\\"logs_menu_smtp\\\"></h4><div class=\\\"row\\\" data-ng-repeat=\\\"alertSmtp in FiltersModalCtrl.AlertSmtpList\\\"><div class=\\\"col-xs-2\\\"></div><div class=\\\"col-xs-4\\\" data-ng-bind=\\\"alertSmtp.name\\\"></div><div class=\\\"col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.removeSmtpAlert(alertSmtp)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></div></div><h4 data-translate=\\\"logs_menu_http\\\"></h4><div class=\\\"row\\\" data-ng-repeat=\\\"alertHttp in FiltersModalCtrl.AlertHttpList\\\"><div class=\\\"col-xs-2\\\"></div><div class=\\\"col-xs-4\\\" data-ng-bind=\\\"alertHttp.name\\\"></div><div class=\\\"col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"FiltersModalCtrl.removeHttpAlert(alertHttp)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></div></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"FiltersModalCtrl.close()\\\" data-translate=\\\"btn_close\\\"></button></div></div>\");\n$templateCache.put(\"app/logs/logs.html\",\"<div><h1 data-translate=\\\"logs_title\\\"></h1><div class=\\\"row control-group\\\"><div class=\\\"col-xs-1 controls\\\"><label for=\\\"logsSearchLimit\\\" data-translate=\\\"logs_search_limit\\\"></label></div><div class=\\\"col-xs-2 controls\\\"><input type=\\\"number\\\" min=\\\"1\\\" class=\\\"form-control\\\" name=\\\"logsSearchLimit\\\" id=\\\"logsSearchLimit\\\" data-ng-model=\\\"logsCtrl.searchOptions.limit\\\"></div><div class=\\\"col-xs-1 controls\\\"><label for=\\\"logsSearchOffset\\\" data-translate=\\\"logs_search_offset\\\"></label></div><div class=\\\"col-xs-2 controls\\\"><input type=\\\"number\\\" min=\\\"0\\\" class=\\\"form-control\\\" name=\\\"logsSearchOffset\\\" id=\\\"logsSearchOffset\\\" data-ng-model=\\\"logsCtrl.searchOptions.offset\\\"></div><div class=\\\"col-xs-1 controls\\\"><label for=\\\"logsSearchFilter\\\" data-translate=\\\"logs_search_filter\\\"></label></div><div class=\\\"col-xs-2 controls\\\"><select id=\\\"logsSearchFilter\\\" class=\\\"form-control\\\" data-ng-model=\\\"logsCtrl.searchOptions.filter\\\" data-ng-options=\\\"filter.name for filter in logsCtrl.filterList\\\" data-ng-disabled=\\\"logsCtrl.filterList.length === 0\\\"><option value=\\\"\\\"></option></select></div><div class=\\\"col-xs-3\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" data-ng-click=\\\"logsCtrl.search()\\\" style=\\\"margin-left: 5px; margin-bottom: 5px;\\\"><i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_search_button\\\"></span></button> <button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" data-ng-click=\\\"logsCtrl.filterManagement()\\\" style=\\\"margin-left: 5px; margin-bottom: 5px;\\\"><i class=\\\"fa fa-filter\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"logs_filter_button\\\"></span></button></div></div><hr><table data-datatable=\\\"ng\\\" data-dt-options=\\\"logsCtrl.options\\\" class=\\\"table table-hover table-striped table-bordered dataTable\\\"><thead><tr><th data-translate=\\\"logs_table_date\\\"></th><th data-translate=\\\"logs_table_priority\\\"></th><th data-translate=\\\"logs_table_source\\\"></th><th data-translate=\\\"logs_table_text\\\"></th><th data-translate=\\\"logs_table_tags\\\"></th></tr></thead><tbody><tr data-ng-repeat=\\\"message in logsCtrl.messageList\\\"><td>{{message.date | date : \\'medium\\'}}</td><td>{{logsCtrl.getPriority(message)}}</td><td>{{message.source}}</td><td>{{message.text}}</td><td><span data-ng-repeat=\\\"tag in message.tags\\\">{{tag}}</span></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/parameters/parameters.html\",\"<div><h1 data-translate=\\\"parameters_title\\\"></h1><h3 data-translate=\\\"param_submodule_title\\\"></h3><div class=\\\"row\\\"><div class=\\\"col-xs-2\\\"><label for=\\\"submodule-benoic\\\" data-translate=\\\"param_submodule_benoic\\\"></label></div></div><h4 data-translate=\\\"param_benoic_device_type_list\\\"></h4><div class=\\\"row\\\" data-ng-repeat=\\\"type in ParametersCtrl.deviceTypes track by $index\\\"><div class=\\\"col-xs-2\\\" data-ng-bind=\\\"type.name\\\"></div><div class=\\\"col-xs-2\\\"><input data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"type.enabled\\\" data-switch-active=\\\"false\\\"></div></div><hr><div class=\\\"row\\\"><div class=\\\"col-xs-2\\\"><label for=\\\"submodule-carleon\\\" data-translate=\\\"param_submodule_carleon\\\"></label></div></div><h4 data-translate=\\\"param_carleon_service_list\\\"></h4><div class=\\\"row\\\" data-ng-repeat=\\\"service in ParametersCtrl.serviceList track by $index\\\"><div class=\\\"col-xs-2\\\" data-ng-bind=\\\"service.name\\\"></div><div class=\\\"col-xs-2\\\"><input data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"service.enabled\\\" data-switch-active=\\\"false\\\"></div></div><hr><div class=\\\"row\\\"><div class=\\\"col-xs-2\\\"><label for=\\\"submodule-gareth\\\" data-translate=\\\"param_submodule_gareth\\\"></label></div></div><div data-ng-if=\\\"ParametersCtrl.sagremorParams.benoicEnabled\\\"><h3 data-translate=\\\"param_device_list\\\"></h3><form name=\\\"deviceList\\\" class=\\\"css-form\\\"><button type=\\\"button\\\" data-ng-click=\\\"ParametersCtrl.addDevice()\\\" class=\\\"btn\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i></button><table class=\\\"table table-hover\\\"><thead><tr><th data-translate=\\\"device_name\\\"></th><th data-translate=\\\"device_description\\\"></th><th data-translate=\\\"device_type\\\"></th><th data-translate=\\\"device_connected\\\"></th><th data-translate=\\\"device_action\\\"></th></tr></thead><tbody><tr data-ng-repeat=\\\"(name, device) in ParametersCtrl.deviceList track by name\\\" data-ng-class=\\\"{\\'device-disabled\\': !device.enabled}\\\"><td>{{device.name}}</td><td data-ng-if=\\\"!device.update\\\">{{device.description}}</td><td data-ng-if=\\\"device.update\\\"><input type=\\\"text\\\" name=\\\"deviceDesc\\\" id=\\\"deviceDesc\\\" data-ng-model=\\\"device.newDescription\\\" value=\\\"{{device.newDescription}}\\\"></td><td>{{device.type_uid + \\'_device_type\\' | translate}}</td><td><input data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"device.connected\\\" data-ng-change=\\\"ParametersCtrl.connectDevice(device)\\\"></td><td data-ng-if=\\\"!device.update\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.editDevice(device)\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.removeDevice(device)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td><td data-ng-if=\\\"device.update\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.saveDevice(device)\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.cancelEditDevice(device)\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-if=\\\"ParametersCtrl.deviceAdded\\\"><td><input type=\\\"text\\\" data-ng-model=\\\"ParametersCtrl.newDeviceName\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"64\\\" maxlength=\\\"64\\\" placeholder=\\\"{{\\'device_name_placeholder\\' | translate}}\\\"></td><td><input type=\\\"text\\\" data-ng-model=\\\"ParametersCtrl.newDeviceDescription\\\" data-ng-maxlength=\\\"128\\\" maxlength=\\\"128\\\" placeholder=\\\"{{\\'device_description_placeholder\\' | translate}}\\\"></td><td><select data-ng-required=\\\"\\\" data-ng-model=\\\"ParametersCtrl.newDeviceType\\\" data-ng-options=\\\"device.uid as device.translate for device in ParametersCtrl.deviceTypesEnabled\\\" data-ng-change=\\\"ParametersCtrl.setDeviceOptions()\\\"></select></td><td><input data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"ParametersCtrl.newDeviceConnect\\\"></td><td></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.postNewDevice()\\\" data-ng-disabled=\\\"!ParametersCtrl.isDeviceValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.cancelNewDevice()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table><h3 data-ng-if=\\\"(ParametersCtrl.deviceAdded || ParametersCtrl.deviceUpdated) && ParametersCtrl.deviceOptionListDisplay\\\" data-translate=\\\"device_options_title\\\"></h3><div data-ng-if=\\\"(ParametersCtrl.deviceAdded || ParametersCtrl.deviceUpdated) && ParametersCtrl.deviceOptionListDisplay\\\" data-ng-repeat=\\\"(optionName, option) in ParametersCtrl.deviceOptionList track by optionName\\\" class=\\\"container\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-3\\\" data-ng-class=\\\"{\\'device-option-required\\': !option.optional}\\\">{{ParametersCtrl.newDeviceType + \\\"_\\\" + option.name | translate}}</div><div class=\\\"col-xs-3\\\" data-ng-if=\\\"option.type === \\'string\\'\\\"><input type=\\\"text\\\" data-ng-model=\\\"option.value\\\" data-ng-required=\\\"!option.optional\\\" placeholder=\\\"{{ParametersCtrl.newDeviceType + \\'_\\' + option.name + \\'_placeholder\\' | translate}}\\\"></div><div class=\\\"col-xs-3\\\" data-ng-if=\\\"option.type === \\'numeric\\'\\\"><input type=\\\"number\\\" data-ng-model=\\\"option.value\\\" data-ng-required=\\\"!option.optional\\\" placeholder=\\\"{{ParametersCtrl.newDeviceType + \\'_\\' + option.name + \\'_placeholder\\' | translate}}\\\"></div><div class=\\\"col-xs-3\\\" data-ng-if=\\\"option.type === \\'boolean\\'\\\"><input data-toggle=\\\"toggle\\\" type=\\\"checkbox\\\" data-ng-model=\\\"option.value\\\" data-ng-required=\\\"!option.optional\\\"></div></div></div></form></div><div data-ng-if=\\\"ParametersCtrl.sagremorParams.carleonEnabled\\\"><h3 data-translate=\\\"param_profiles_list\\\"></h3><button type=\\\"button\\\" data-ng-click=\\\"ParametersCtrl.addProfile()\\\" class=\\\"btn\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i></button><table class=\\\"table table-hover\\\"><thead><tr><th data-translate=\\\"profile_name\\\"></th><th data-translate=\\\"profile_description\\\"></th><th data-translate=\\\"profile_default\\\"></th><th data-translate=\\\"profile_use\\\"></th><th data-translate=\\\"profile_action\\\"></th></tr></thead><tbody><tr data-ng-repeat=\\\"profile in ParametersCtrl.profileList track by profile.name\\\"><td data-ng-if=\\\"!profile.update\\\">{{profile.name}}</td><td data-ng-if=\\\"!profile.update\\\">{{profile.description}}</td><td data-ng-if=\\\"profile.update\\\"><input type=\\\"text\\\" name=\\\"profileName\\\" id=\\\"profileName\\\" data-ng-model=\\\"profile.newName\\\" placeholder=\\\"{{\\'profile_name_placeholder\\' | translate}}\\\"></td><td data-ng-if=\\\"profile.update\\\"><input type=\\\"text\\\" name=\\\"profileDescription\\\" id=\\\"profileDescription\\\" data-ng-model=\\\"profile.newDescription\\\" placeholder=\\\"{{\\'profile_description_placeholder\\' | translate}}\\\"></td><td><input data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"profile.default\\\" data-ng-change=\\\"ParametersCtrl.setDefaultProfile(profile)\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" name=\\\"useProfile\\\" id=\\\"useProfile\\\" data-ng-click=\\\"ParametersCtrl.useProfile(profile)\\\" data-ng-if=\\\"profile.name !== ParametersCtrl.currentProfile.name\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <span data-ng-if=\\\"profile.name === ParametersCtrl.currentProfile.name\\\" data-translate=\\\"profile_used\\\"></span></td><td data-ng-if=\\\"!profile.update\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.editProfile(profile)\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.cleanProfile(profile)\\\"><i class=\\\"fa fa-eraser\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.removeProfile(profile)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td><td data-ng-if=\\\"profile.update\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.saveProfile(profile)\\\" data-ng-disabled=\\\"!ParametersCtrl.isUpdateProfileValid(profile)\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.cancelEditProfile(profile)\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-if=\\\"ParametersCtrl.profileAdded\\\"><td><input type=\\\"text\\\" data-ng-model=\\\"ParametersCtrl.newProfileName\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"64\\\" maxlength=\\\"64\\\" placeholder=\\\"{{\\'profile_name_placeholder\\' | translate}}\\\"></td><td><input type=\\\"text\\\" data-ng-model=\\\"ParametersCtrl.newProfileDescription\\\" data-ng-maxlength=\\\"128\\\" maxlength=\\\"128\\\" placeholder=\\\"{{\\'profile_description_placeholder\\' | translate}}\\\"></td><td><input data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"ParametersCtrl.newProfileDefault\\\"></td><td></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.saveNewProfile()\\\" data-ng-disabled=\\\"!ParametersCtrl.isProfileValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"ParametersCtrl.cancelNewProfile()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table></div></div>\");\n$templateCache.put(\"app/monitors/monitors.html\",\"<div><h1 data-translate=\\\"monitors_title\\\"></h1><div class=\\\"row\\\" data-ng-if=\\\"monitorsCtrl.sagremorParams.adminMode\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" name=\\\"addMonitor\\\" id=\\\"addMonitor\\\" data-ng-click=\\\"monitorsCtrl.newMonitor()\\\" data-translate=\\\"monitors_button_add\\\"></button></div><hr><div class=\\\"row\\\"><div data-ng-repeat=\\\"monitor in monitorsCtrl.monitorList track by monitor.name\\\" class=\\\"col-sm-6\\\"><data-sag-container data-menu=\\\"monitorsCtrl.menu\\\" data-title=\\\"monitor.name\\\" data-type=\\\"\\'monitor\\'\\\" data-element=\\\"monitor\\\" data-icon=\\\"\\'bar-chart\\'\\\"><data-sag-monitor data-element=\\\"monitor\\\"></data-sag-monitor></data-sag-container></div></div></div>\");\n$templateCache.put(\"app/scripts/scripts.html\",\"<div><h1 data-translate=\\\"scripts_title\\\"></h1><div class=\\\"row\\\" data-ng-if=\\\"scriptsCtrl.sagremorParams.adminMode\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" name=\\\"addScript\\\" id=\\\"addScript\\\" data-ng-click=\\\"scriptsCtrl.newScript()\\\" data-translate=\\\"scripts_button_add\\\"></button></div><hr><div class=\\\"row\\\"><div data-ng-repeat=\\\"script in scriptsCtrl.scriptList track by script.name\\\" class=\\\"col-sm-3\\\"><data-sag-container data-menu=\\\"scriptsCtrl.menuScript\\\" data-size=\\\"1\\\" data-title=\\\"script.name\\\" data-type=\\\"\\'script\\'\\\" data-element=\\\"script\\\" data-icon=\\\"\\'tasks\\'\\\"><data-sag-script data-element=\\\"script\\\"></data-sag-script></data-sag-container></div></div></div>\");\n$templateCache.put(\"app/sensors/sensors.html\",\"<div><h1 data-translate=\\\"sensors_title\\\"></h1><div class=\\\"row\\\"><div data-ng-repeat=\\\"sensor in sensorsCtrl.sensorList\\\" class=\\\"col-sm-3\\\" data-ng-if=\\\"sensor.enabled || sensorsCtrl.sagremorParams.adminMode\\\"><data-sag-container data-menu=\\\"sensorsCtrl.menuSensor\\\" data-size=\\\"1\\\" data-title=\\\"sensor.display\\\" data-type=\\\"\\'sensor\\'\\\" data-element=\\\"sensor\\\" data-icon=\\\"\\'line-chart\\'\\\"><data-sag-sensor data-element=\\\"sensor\\\"></data-sag-sensor></data-sag-container></div></div></div>\");\n$templateCache.put(\"app/switches/switches.html\",\"<div><h1 data-translate=\\\"switches_title\\\"></h1><h2 data-translate=\\\"switch_title\\\"></h2><div class=\\\"row\\\"><div data-ng-repeat=\\\"switcher in switchesCtrl.switchList\\\" class=\\\"col-sm-3\\\" data-ng-if=\\\"switcher.enabled || switchesCtrl.sagremorParams.adminMode\\\"><data-sag-container data-menu=\\\"switchesCtrl.menuSwitcher\\\" data-size=\\\"1\\\" data-title=\\\"switcher.display\\\" data-type=\\\"\\'switch\\'\\\" data-element=\\\"switcher\\\" data-icon=\\\"\\'toggle-on\\'\\\"><data-sag-switch data-element=\\\"switcher\\\"></data-sag-switch></data-sag-container></div></div><h2 data-translate=\\\"dimmer_title\\\"></h2><div class=\\\"row\\\"><div data-ng-repeat=\\\"dimmer in switchesCtrl.dimmerList\\\" class=\\\"col-sm-3\\\" data-ng-if=\\\"dimmer.enabled || switchesCtrl.sagremorParams.adminMode\\\"><data-sag-container data-menu=\\\"switchesCtrl.menuDimmer\\\" data-size=\\\"1\\\" data-title=\\\"dimmer.display\\\" data-type=\\\"\\'dimmer\\'\\\" data-element=\\\"dimmer\\\" data-icon=\\\"\\'lightbulb-o\\'\\\"><data-sag-dimmer data-element=\\\"dimmer\\\"></data-sag-dimmer></data-sag-container></div></div></div>\");\n$templateCache.put(\"app/users/users.html\",\"<div class=\\\"container\\\"><h1 data-translate=\\\"users_title\\\"></h1><h2 data-translate=\\\"users_user_list\\\"></h2><h4 data-ng-if=\\\"!usersCtrl.usersEnabled\\\" data-translate=\\\"users_user_disabled\\\"></h4><button type=\\\"button\\\" data-ng-click=\\\"usersCtrl.addUser()\\\" class=\\\"btn btn-primary\\\" data-translate=\\\"users_add_user\\\" data-ng-if=\\\"usersCtrl.usersEnabled\\\"></button><table class=\\\"table table-hover\\\" data-ng-if=\\\"usersCtrl.usersEnabled\\\"><thead><tr><th data-translate=\\\"users_table_login\\\"></th><th data-translate=\\\"users_table_password\\\"></th><th data-translate=\\\"users_table_enabled\\\"></th><th></th></tr></thead><tbody><tr data-ng-repeat=\\\"user in usersCtrl.userList\\\"><td data-ng-bind=\\\"user.login\\\"></td><td data-ng-if=\\\"!user.changePassword\\\">***</td><td data-ng-if=\\\"!!user.changePassword\\\"><input type=\\\"password\\\" data-ng-model=\\\"user.password\\\" maxlength=\\\"128\\\"></td><td><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" class=\\\"form-control\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-change=\\\"usersCtrl.enableUser(user)\\\" data-ng-model=\\\"user.enabled\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.displayChangePassword(user)\\\" data-ng-if=\\\"!user.changePassword\\\" title=\\\"{{ \\'users_user_change_password\\' | translate }}\\\"><i class=\\\"fa fa-key\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.removeUser(user)\\\" data-ng-if=\\\"!user.changePassword\\\" title=\\\"{{ \\'users_user_delete\\' | translate }}\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.changePassword(user)\\\" data-ng-disabled=\\\"user.password.length === 0\\\" data-ng-if=\\\"!!user.changePassword\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.cancelChangePassword(user)\\\" data-ng-if=\\\"!!user.changePassword\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-if=\\\"usersCtrl.newUser\\\"><td><input type=\\\"text\\\" data-ng-model=\\\"usersCtrl.user.login\\\" maxlength=\\\"128\\\"></td><td><input type=\\\"password\\\" data-ng-model=\\\"usersCtrl.user.password\\\" maxlength=\\\"128\\\"></td><td><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" class=\\\"form-control\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"usersCtrl.user.enabled\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.createNewUser()\\\" data-ng-disabled=\\\"!usersCtrl.isNewUserValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.cancelNewUser()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table><hr><h2 data-translate=\\\"users_token_list\\\"></h2><div class=\\\"row control-group\\\"><div class=\\\"col-xs-1 controls\\\"><label for=\\\"tokenSearchLogin\\\" data-translate=\\\"users_token_search_login\\\"></label></div><div class=\\\"col-xs-2 controls\\\"><input type=\\\"text\\\" min=\\\"1\\\" class=\\\"form-control\\\" name=\\\"tokenSearchLogin\\\" id=\\\"tokenSearchLogin\\\" data-ng-model=\\\"usersCtrl.searchOptions.login\\\" maxlength=\\\"128\\\"></div><div class=\\\"col-xs-1 controls\\\"><label for=\\\"tokenSearchEnabled\\\" data-translate=\\\"users_token_search_enabled\\\"></label></div><div class=\\\"col-xs-2 controls\\\"><select id=\\\"tokenSearchEnabled\\\" class=\\\"form-control\\\" data-ng-model=\\\"usersCtrl.searchOptions.enabled\\\"><option value=\\\"\\\" data-translate=\\\"users_token_search_enabled_all\\\"></option><option value=\\\"true\\\" data-translate=\\\"users_token_search_enabled_true\\\"></option><option value=\\\"false\\\" data-translate=\\\"users_token_search_enabled_false\\\"></option></select></div><div class=\\\"col-xs-3\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right\\\" data-ng-click=\\\"usersCtrl.getTokenList()\\\" style=\\\"margin-left: 5px; margin-bottom: 5px;\\\"><i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i> <span data-translate=\\\"users_search_button\\\"></span></button></div></div><table class=\\\"table table-hover dataTable table-striped\\\" data-dt-options=\\\"usersCtrl.options\\\" data-datatable=\\\"ng\\\"><thead><tr><th data-translate=\\\"users_table_token_login\\\"></th><th data-translate=\\\"users_table_token_value\\\"></th><th data-translate=\\\"users_table_token_validity\\\"></th><th data-translate=\\\"users_table_token_lastseen\\\"></th><th data-translate=\\\"users_table_token_revoke\\\"></th></tr></thead><tbody><tr data-ng-repeat=\\\"token in usersCtrl.tokenList\\\" data-ng-class=\\\"{ \\'text-muted\\' : !token.enabled}\\\"><td data-ng-bind=\\\"token.login\\\"></td><td data-ng-bind=\\\"usersCtrl.displayToken(token.token)\\\"></td><td data-ng-bind=\\\"token.validity | date : \\'medium\\'\\\" data-ng-if=\\\"token.enabled\\\"></td><td data-translate=\\\"users_token_revoked\\\" data-ng-if=\\\"!token.enabled\\\"></td><td data-ng-bind=\\\"token.last_seen | date : \\'medium\\'\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"usersCtrl.revokeToken(token)\\\" title=\\\"{{ \\'users_token_revoke\\' | translate }}\\\" data-ng-disabled=\\\"!token.enabled\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table></div>\");\n$templateCache.put(\"app/service/service.html\",\"<div><h1 data-translate=\\\"{{serviceCtrl.title}}\\\"></h1><div data-ng-repeat=\\\"service in serviceCtrl.serviceList\\\"><h3 data-translate=\\\"{{service.serviceGroup.title}}\\\"></h3><div class=\\\"row\\\" data-ng-if=\\\"serviceCtrl.sagremorParams.adminMode\\\"><div class=\\\"span6\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"serviceCtrl.addService(service.serviceGroup.service)\\\" data-translate=\\\"service_add\\\"></button></div></div><div class=\\\"row\\\"><data-sag-container data-ng-repeat=\\\"element in service.list\\\" data-menu=\\\"service.menu\\\" data-title=\\\"element.display || element.name\\\" data-type=\\\"element.type\\\" data-element=\\\"element\\\" data-icon=\\\"service.currentInjector.icon\\\" data-ng-class=\\\"{\\'col-md-2\\': !service.size || service.size === 1, \\'col-md-4\\': service.size === 2, \\'col-md-6\\': service.size === 3}\\\"><div data-sag-generic-injector=\\\"\\\" data-type=\\\"element.type\\\" data-elt=\\\"element\\\"></div></data-sag-container></div></div></div>\");\n$templateCache.put(\"components/carleonLiquidsoap/carleonLiquidsoap.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-carleon-liquidsoap\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"carleon_liquidsoap_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_modal_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonLiquidsoapName\\\" id=\\\"carleonLiquidsoapName\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.name\\\" data-ng-disabled=\\\"!carleonLiquidsoapModalCtrl.add\\\" size=\\\"10\\\" maxlength=\\\"64\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_modal_description\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonLiquidsoapDescription\\\" id=\\\"carleonLiquidsoapDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.description\\\" size=\\\"10\\\" maxlength=\\\"128\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_radio_url\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonLiquidsoapRadioUrl\\\" id=\\\"carleonLiquidsoapRadioUrl\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.radio_url\\\" size=\\\"10\\\" maxlength=\\\"512\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_radio_type\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonLiquidsoapRadioType\\\" id=\\\"carleonLiquidsoapRadioType\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.radio_type\\\" size=\\\"10\\\" maxlength=\\\"64\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_control_enabled\\\"></span><div class=\\\"col-xs-6 controls\\\"><input class=\\\"form-control\\\" id=\\\"carleonLiquidsoapControlEnabled\\\" name=\\\"carleonLiquidsoapControlEnabled\\\" data-toggle=\\\"toggle\\\" data-bs-switch=\\\"\\\" data-switch-size=\\\"mini\\\" type=\\\"checkbox\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.control_enabled\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_control_host\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonLiquidsoapControlHost\\\" id=\\\"carleonLiquidsoapControlHost\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.control_host\\\" size=\\\"10\\\" maxlength=\\\"128\\\" data-ng-disabled=\\\"!carleonLiquidsoapModalCtrl.element.control_enabled\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_control_port\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"number\\\" name=\\\"carleonLiquidsoapControlPort\\\" id=\\\"carleonLiquidsoapControlPort\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.control_port\\\" size=\\\"10\\\" step=\\\"1\\\" data-ng-disabled=\\\"!carleonLiquidsoapModalCtrl.element.control_enabled\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_liquidsoap_control_request_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonLiquidsoapControlRequestName\\\" id=\\\"carleonLiquidsoapControlRequestName\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonLiquidsoapModalCtrl.element.control_request_name\\\" size=\\\"10\\\" maxlength=\\\"128\\\" data-ng-disabled=\\\"!carleonLiquidsoapModalCtrl.element.control_enabled\\\"></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"carleonLiquidsoapModalCtrl.save()\\\" data-translate=\\\"btn_ok\\\" data-ng-disabled=\\\"!carleonLiquidsoapModalCtrl.isLiquidsoapValid()\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"carleonLiquidsoapModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/carleonLiquidsoap/carleonLiquidsoap.template.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row control-group\\\"><div data-radio=\\\"\\\" data-src=\\\"$ctrl.radio.radio_url\\\"></div></div><div class=\\\"row control-group\\\"><data-uib-accordion><div data-uib-accordion-group=\\\"\\\" data-heading=\\\"{{\\'carleon_liquidsoap_control_header\\' | translate}}\\\" data-is-open=\\\"$ctrl.controlAccordionOpen\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-6\\\"><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"$ctrl.commandRadio(\\'stop\\')\\\" data-ng-if=\\\"$ctrl.status === \\'on\\'\\\"><i class=\\\"fa fa-stop\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"$ctrl.commandRadio(\\'start\\')\\\" data-ng-if=\\\"$ctrl.status === \\'off\\'\\\"><i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"$ctrl.commandRadio(\\'skip\\')\\\" data-ng-if=\\\"$ctrl.status === \\'on\\'\\\"><i class=\\\"fa fa-step-forward\\\" aria-hidden=\\\"true\\\"></i></button></div></div></div><div data-uib-accordion-group=\\\"\\\" data-heading=\\\"{{\\'carleon_liquidsoap_on_air_header\\' | translate}}\\\" data-is-open=\\\"$ctrl.onAirAccordionOpen\\\"><div class=\\\"row control-group\\\"><dl><dt data-translate=\\\"carleon_liquidsoap_song_title\\\"></dt><dd data-ng-bind=\\\"$ctrl.onAir.title\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_artist\\\"></dt><dd data-ng-bind=\\\"$ctrl.onAir.artist\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_album\\\"></dt><dd data-ng-bind=\\\"$ctrl.onAir.album\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_album_artist\\\"></dt><dd data-ng-bind=\\\"$ctrl.onAir.albumartist\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_year\\\"></dt><dd data-ng-bind=\\\"$ctrl.onAir.year\\\"></dd></dl></div></div><div data-uib-accordion-group=\\\"\\\" data-heading=\\\"{{\\'carleon_liquidsoap_list_header\\' | translate}}\\\" data-is-open=\\\"$ctrl.listAccordionOpen\\\"><div class=\\\"row control-group\\\"><select class=\\\"form-control\\\" data-ng-model=\\\"$ctrl.listSelected\\\" data-ng-options=\\\"song as song.artist + \\' - \\' + song.title for song in $ctrl.list track by song.artist + \\' - \\' + song.title\\\"></select></div><div class=\\\"row control-group\\\"><dl><dt data-translate=\\\"carleon_liquidsoap_song_title\\\"></dt><dd data-ng-bind=\\\"$ctrl.listSelected.title\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_artist\\\"></dt><dd data-ng-bind=\\\"$ctrl.listSelected.artist\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_album\\\"></dt><dd data-ng-bind=\\\"$ctrl.listSelected.album\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_album_artist\\\"></dt><dd data-ng-bind=\\\"$ctrl.listSelected.albumartist\\\"></dd><dt data-translate=\\\"carleon_liquidsoap_song_year\\\"></dt><dd data-ng-bind=\\\"$ctrl.listSelected.year\\\"></dd></dl></div></div></data-uib-accordion></div></div>\");\n$templateCache.put(\"components/carleonMock/carleonMock.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-carleon-mock\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"carleon_mock_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row-fluid\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mock_modal_name\\\"></span><div class=\\\"col-xs-6\\\"><input type=\\\"text\\\" name=\\\"carleonMockName\\\" id=\\\"carleonMockName\\\" data-ng-model=\\\"CarleonMockModalCtrl.mock.name\\\" data-ng-disabled=\\\"!CarleonMockModalCtrl.add\\\" class=\\\"modal-input-text\\\" size=\\\"10\\\"></div></div><div class=\\\"row\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mock_modal_description\\\"></span><div class=\\\"col-xs-6\\\"><input type=\\\"text\\\" name=\\\"carleonMockDescription\\\" id=\\\"carleonMockDescription\\\" data-ng-model=\\\"CarleonMockModalCtrl.mock.description\\\" class=\\\"modal-input-text\\\" size=\\\"10\\\"></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"CarleonMockModalCtrl.save()\\\" data-translate=\\\"btn_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"CarleonMockModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"btn_cancel\\\"></button></div></div></div>\");\n$templateCache.put(\"components/carleonMock/carleonMock.template.html\",\"<div class=\\\"text-center\\\"><div class=\\\"row\\\"><div class=\\\"span6\\\">command</div><div class=\\\"span6\\\"><select id=\\\"mockCommand\\\" data-ng-model=\\\"$ctrl.param.command\\\" data-ng-options=\\\"command for command in $ctrl.commandList\\\"></select></div></div><div class=\\\"row\\\" data-ng-if=\\\"$ctrl.param.command === \\'exec1\\' || $ctrl.param.command === \\'exec2\\'\\\"><div class=\\\"span6\\\">param1</div><div class=\\\"span6\\\"><input type=\\\"text\\\" data-ng-model=\\\"$ctrl.param.param1\\\" size=\\\"4\\\"></div></div><div class=\\\"row\\\" data-ng-if=\\\"$ctrl.param.command === \\'exec1\\'\\\"><div class=\\\"span6\\\">param2</div><div class=\\\"span6\\\"><input type=\\\"number\\\" data-ng-model=\\\"$ctrl.param.param2\\\" style=\\\"width: 7em\\\"></div></div><div class=\\\"row\\\" data-ng-if=\\\"$ctrl.param.command === \\'exec1\\'\\\"><div class=\\\"span6\\\">param3</div><div class=\\\"span6\\\"><input type=\\\"number\\\" step=\\\"0.01\\\" data-ng-model=\\\"$ctrl.param.param3\\\" style=\\\"width: 7em\\\"></div></div><button type=\\\"button\\\" data-ng-click=\\\"$ctrl.command()\\\">Execute</button></div>\");\n$templateCache.put(\"components/carleonMpd/carleonMpd.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-carleon-mpd\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"carleon_mpd_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mpd_modal_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMpdName\\\" id=\\\"carleonMpdName\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMpdModalCtrl.mpd.name\\\" data-ng-disabled=\\\"!carleonMpdModalCtrl.add\\\" size=\\\"10\\\" maxlength=\\\"64\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mpd_modal_description\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMpdDescription\\\" id=\\\"carleonMpdDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMpdModalCtrl.mpd.description\\\" size=\\\"10\\\" maxlength=\\\"128\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mpd_modal_host\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMpdDescription\\\" id=\\\"carleonMpdDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMpdModalCtrl.mpd.host\\\" size=\\\"10\\\" maxlength=\\\"128\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mpd_modal_port\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"number\\\" name=\\\"carleonMpdDescription\\\" id=\\\"carleonMpdDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMpdModalCtrl.mpd.port\\\" size=\\\"10\\\" step=\\\"1\\\" maxlength=\\\"5\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mpd_modal_password\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMpdDescription\\\" id=\\\"carleonMpdDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMpdModalCtrl.mpd.password\\\" size=\\\"10\\\" maxlength=\\\"128\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_mpd_modal_switch\\\"></span><div class=\\\"col-xs-6 controls\\\"><select id=\\\"newActionSwitch\\\" name=\\\"newActionSwitch\\\" class=\\\"form-control\\\" data-ng-model=\\\"carleonMpdModalCtrl.switchAttached\\\" data-ng-options=\\\"switch as switch.display for switch in carleonMpdModalCtrl.switches\\\" data-ng-change=\\\"carleonMpdModalCtrl.changeSwitch()\\\"></select></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"carleonMpdModalCtrl.save()\\\" data-translate=\\\"btn_ok\\\" data-ng-disabled=\\\"!carleonMpdModalCtrl.isMpdValid()\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"carleonMpdModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/carleonMpd/carleonMpd.template.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row control-group\\\"><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.mpd.name && ($ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'play\\')\\\"><div class=\\\"col-xs-12 controls text-center\\\"><strong><span data-ng-bind=\\\"$ctrl.mpd.name\\\"></span></strong></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.mpd.title && ($ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'play\\')\\\"><div class=\\\"col-xs-2 controls\\\"><strong><span data-translate=\\\"carleon_mpd_playing_title\\\"></span></strong></div><div class=\\\"col-xs-10 controls\\\"><span data-ng-bind=\\\"$ctrl.mpd.title\\\"></span></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.mpd.artist && ($ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'play\\')\\\"><div class=\\\"col-xs-2 controls\\\"><strong><span data-translate=\\\"carleon_mpd_playing_artist\\\"></span></strong></div><div class=\\\"col-xs-10 controls\\\"><span data-ng-bind=\\\"$ctrl.mpd.artist\\\"></span></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.mpd.album && ($ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'play\\')\\\"><div class=\\\"col-xs-2 controls\\\"><strong><span data-translate=\\\"carleon_mpd_playing_album\\\"></span></strong></div><div class=\\\"col-xs-10 controls\\\"><span data-ng-bind=\\\"$ctrl.mpd.album\\\"></span></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.mpd.date && ($ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'play\\')\\\"><div class=\\\"col-xs-2 controls\\\"><strong><span data-translate=\\\"carleon_mpd_playing_date\\\"></span></strong></div><div class=\\\"col-xs-10 controls\\\"><span data-ng-bind=\\\"$ctrl.mpd.date\\\"></span></div></div><hr class=\\\"heater-hr\\\"><div class=\\\"clearfix control-group\\\"><div class=\\\"col-xs-4 controls\\\"><label for=\\\"mpdPlaylists\\\" data-translate=\\\"carleon_mpd_playlists_title\\\"></label></div><div class=\\\"col-xs-4 controls\\\"><select class=\\\"form-control\\\" name=\\\"mpdPlaylists\\\" value=\\\"mpdPlaylists\\\" data-ng-model=\\\"$ctrl.selectedPlaylist\\\" data-ng-options=\\\"playlist as playlist for playlist in $ctrl.playlists\\\"></select></div><div class=\\\"col-xs-4 controls\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"$ctrl.loadPlaylist()\\\" data-translate=\\\"carleon_mpd_playlist_load\\\"></button></div></div><hr class=\\\"heater-hr\\\"><div class=\\\"row control-group\\\"><div class=\\\"clearfix input-group\\\"><span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.setAction(\\'previous\\')\\\"><i class=\\\"fa fa-backward\\\" aria-hidden=\\\"true\\\"></i></button></span> <span class=\\\"input-group-btn\\\" data-ng-if=\\\"$ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'play\\'\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.setAction(\\'stop\\')\\\"><i class=\\\"fa fa-stop\\\" aria-hidden=\\\"true\\\"></i></button></span> <span class=\\\"input-group-btn\\\" data-ng-if=\\\"$ctrl.mpd.state == \\'pause\\' || $ctrl.mpd.state == \\'stop\\'\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.setAction(\\'play\\')\\\"><i class=\\\"fa fa-play\\\" aria-hidden=\\\"true\\\"></i></button></span> <span class=\\\"input-group-btn\\\" data-ng-if=\\\"$ctrl.mpd.state == \\'play\\'\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.setAction(\\'pause\\')\\\"><i class=\\\"fa fa-pause\\\" aria-hidden=\\\"true\\\"></i></button></span> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.setAction(\\'next\\')\\\"><i class=\\\"fa fa-forward\\\" aria-hidden=\\\"true\\\"></i></button></span> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" data-ng-class=\\\"{\\'btn btn-primary\\': $ctrl.mpd.repeat, \\'btn btn-default\\': !$ctrl.mpd.repeat}\\\" data-ng-click=\\\"$ctrl.setAction(\\'repeat\\')\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" data-ng-class=\\\"{\\'btn btn-primary\\': $ctrl.mpd.random, \\'btn btn-default\\': !$ctrl.mpd.random}\\\" data-ng-click=\\\"$ctrl.setAction(\\'random\\')\\\"><i class=\\\"fa fa-random\\\" aria-hidden=\\\"true\\\"></i></button></span></div></div><hr class=\\\"heater-hr\\\"><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.mpd.name\\\"><div class=\\\"col-xs-12 controls text-center\\\"><strong><span data-translate=\\\"carleon_mpd_control_volume\\\"></span></strong></div></div><div class=\\\"row control-group\\\"><div class=\\\"ring control-group\\\"><div class=\\\"quarter quarter-plus-1\\\" data-ng-click=\\\"$ctrl.setVolume(1)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayVolumeCommand(1)\\\"></span></div><div class=\\\"quarter quarter-plus-5\\\" data-ng-click=\\\"$ctrl.setVolume(5)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayVolumeCommand(5)\\\"></span></div><div class=\\\"quarter quarter-minus-1\\\" data-ng-click=\\\"$ctrl.setVolume(-1)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayVolumeCommand(-1)\\\"></span></div><div class=\\\"quarter quarter-minus-5\\\" data-ng-click=\\\"$ctrl.setVolume(-5)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayVolumeCommand(-5)\\\"></span></div><div class=\\\"cutout-heater\\\"><div class=\\\"ring-value\\\" data-ng-bind=\\\"$ctrl.displayVolume()\\\"></div></div></div></div></div></div>\");\n$templateCache.put(\"components/carleonMotion/carleonMotion.image.modal.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal_title\\\" data-ng-bind=\\\"carleonMotionImageModalCtrl.displayTitle()\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-12\\\" data-ng-if=\\\"!!carleonMotionImageModalCtrl.currentImage.stream\\\"><img data-ng-src=\\\"{{carleonMotionImageModalCtrl.currentImage.stream}}\\\" alt=\\\"{{carleonMotionImageModalCtrl.currentImage.title}}\\\" class=\\\"img-responsive img-thumbnail\\\"></div><div class=\\\"col-xs-12\\\" data-ng-if=\\\"!!carleonMotionImageModalCtrl.currentImage.img\\\"><img data-http-src=\\\"{{carleonMotionImageModalCtrl.currentImage.img}}\\\" alt=\\\"{{carleonMotionImageModalCtrl.currentImage.title}}\\\" class=\\\"img-responsive img-thumbnail\\\"></div></div><div class=\\\"row control-group\\\"><div class=\\\"col-xs-5\\\"><button type=\\\"button\\\" class=\\\"btn pull-right\\\" data-ng-click=\\\"carleonMotionImageModalCtrl.changeImage(-1)\\\" data-ng-if=\\\"carleonMotionImageModalCtrl.canPrevious()\\\"><i class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i></button></div><div class=\\\"col-xs-2 text-center\\\"><span data-ng-bind=\\\"carleonMotionImageModalCtrl.showIndex()\\\"></span></div><div class=\\\"col-xs-5\\\"><button type=\\\"button\\\" class=\\\"btn pull-left\\\" data-ng-click=\\\"carleonMotionImageModalCtrl.changeImage(1)\\\" data-ng-if=\\\"carleonMotionImageModalCtrl.canNext()\\\"><i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i></button></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"carleonMotionImageModalCtrl.snapshot()\\\" data-ng-if=\\\"!!carleonMotionImageModalCtrl.currentImage.snapshotUri\\\"><span data-translate=\\\"carleon_motion_snapshot\\\"></span> <i class=\\\"fa fa-camera\\\" aria-hidden=\\\"true\\\"></i></button> <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"carleonMotionImageModalCtrl.close()\\\" data-translate=\\\"monitor_close\\\"></button></div></div></div>\");\n$templateCache.put(\"components/carleonMotion/carleonMotion.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-carleon-motion\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"carleon_motion_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_motion_modal_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMotionName\\\" id=\\\"carleonMotionName\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.motion.name\\\" data-ng-disabled=\\\"!carleonMotionModalCtrl.add\\\" size=\\\"10\\\" maxlength=\\\"64\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_motion_modal_description\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMotionDescription\\\" id=\\\"carleonMotionDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.motion.description\\\" size=\\\"10\\\" maxlength=\\\"128\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"carleon_motion_modal_config_uri\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"carleonMotionDescription\\\" id=\\\"carleonMotionDescription\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.motion.config_uri\\\" size=\\\"10\\\" maxlength=\\\"128\\\"></div></div><hr><div class=\\\"row\\\"><h3 data-translate=\\\"carleon_motion_modal_file_list\\\"></h3><button type=\\\"button\\\" data-ng-click=\\\"carleonMotionModalCtrl.addNewFileList()\\\" class=\\\"btn\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i></button></div><div class=\\\"row control-group\\\"><table class=\\\"table table-hover controls\\\"><thead><tr><th data-translate=\\\"carleon_motion_file_list_name\\\"></th><th data-translate=\\\"carleon_motion_file_list_path\\\"></th><th data-translate=\\\"carleon_motion_file_list_thumbnail_path\\\"></th><th></th></tr></thead><tbody><tr data-ng-repeat=\\\"fileList in carleonMotionModalCtrl.motion.file_list track by $index\\\"><td data-ng-bind=\\\"fileList.name\\\"></td><td data-ng-bind=\\\"fileList.path\\\"></td><td data-ng-bind=\\\"fileList.thumbnail_path\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"carleonMotionModalCtrl.removeFileList($index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-if=\\\"carleonMotionModalCtrl.addFileList\\\"><td><input type=\\\"text\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.newFileList.name\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"64\\\" maxlength=\\\"64\\\"></td><td><input type=\\\"text\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.newFileList.path\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"512\\\" maxlength=\\\"512\\\"></td><td><input type=\\\"text\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.newFileList.thumbnail_path\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"512\\\" maxlength=\\\"512\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"carleonMotionModalCtrl.saveNewFileList()\\\" data-ng-disabled=\\\"!carleonMotionModalCtrl.isFileListValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"carleonMotionModalCtrl.cancelNewFileList()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table></div><hr><div class=\\\"row\\\"><h3 data-translate=\\\"carleon_motion_modal_stream_list\\\"></h3><button type=\\\"button\\\" data-ng-click=\\\"carleonMotionModalCtrl.addNewStream()\\\" class=\\\"btn\\\"><i class=\\\"fa fa-plus\\\" aria-hidden=\\\"true\\\"></i></button></div><div class=\\\"row control-group\\\"><table class=\\\"table table-hover controls\\\"><thead><tr><th data-translate=\\\"carleon_motion_stream_list_name\\\"></th><th data-translate=\\\"carleon_motion_stream_list_uri\\\"></th><th data-translate=\\\"carleon_motion_stream_list_snapshot_uri\\\"></th><th></th></tr></thead><tbody><tr data-ng-repeat=\\\"streamList in carleonMotionModalCtrl.motion.stream_list track by $index\\\"><td data-ng-bind=\\\"streamList.name\\\"></td><td data-ng-bind=\\\"streamList.uri\\\"></td><td data-ng-bind=\\\"streamList.snapshot_uri\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"carleonMotionModalCtrl.removeStream($index)\\\"><i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i></button></td></tr><tr data-ng-if=\\\"carleonMotionModalCtrl.addStream\\\"><td><input type=\\\"text\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.newStream.name\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"64\\\" maxlength=\\\"64\\\"></td><td><input type=\\\"text\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.newStream.uri\\\" data-ng-required=\\\"\\\" data-ng-maxlength=\\\"512\\\" maxlength=\\\"512\\\"></td><td><input type=\\\"text\\\" class=\\\"modal-input-text form-control\\\" data-ng-model=\\\"carleonMotionModalCtrl.newStream.snapshot_uri\\\" data-ng-maxlength=\\\"512\\\" maxlength=\\\"512\\\"></td><td><button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"carleonMotionModalCtrl.saveNewStream()\\\" data-ng-disabled=\\\"!carleonMotionModalCtrl.isStreamValid()\\\"><i class=\\\"fa fa-check\\\" aria-hidden=\\\"true\\\"></i></button> <button type=\\\"button\\\" class=\\\"btn\\\" data-ng-click=\\\"carleonMotionModalCtrl.cancelNewStream()\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i></button></td></tr></tbody></table></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"carleonMotionModalCtrl.save()\\\" data-translate=\\\"btn_ok\\\" data-ng-disabled=\\\"!carleonMotionModalCtrl.isCameraValid()\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"carleonMotionModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/carleonMotion/carleonMotion.template.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-4 controls\\\" data-ng-class=\\\"{\\'text-success\\': $ctrl.online, \\'text-danger\\': !$ctrl.online}\\\"><label data-translate=\\\"carleon_motion_online\\\" data-ng-if=\\\"$ctrl.online\\\"></label> <label data-translate=\\\"carleon_motion_offline\\\" data-ng-if=\\\"!$ctrl.online\\\"></label> <i class=\\\"fa fa-power-off\\\" aria-hidden=\\\"true\\\"></i></div><div class=\\\"col-xs-4 controls\\\" data-ng-if=\\\"$ctrl.fileListName.length > 1\\\"><div><label for=\\\"motionImagesList\\\" data-translate=\\\"carleon_motion_file_list\\\"></label></div></div><div class=\\\"col-xs-4 controls\\\" data-ng-if=\\\"$ctrl.fileListName.length > 1\\\"><select id=\\\"motionImagesList\\\" class=\\\"form-control\\\" data-ng-change=\\\"$ctrl.changeSelectedFileList()\\\" data-ng-model=\\\"$ctrl.selectedFileList\\\" data-ng-options=\\\"fileListName as fileListName for fileListName in $ctrl.fileListName track by fileListName\\\"></select></div><div class=\\\"col-xs-8 controls\\\" data-ng-if=\\\"$ctrl.fileListName.length <= 1\\\"><span data-ng-bind=\\\"$ctrl.selectedFileList\\\"></span></div></div><div class=\\\"row control-group\\\"><div class=\\\"col-xs-4\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"$ctrl.refresh()\\\"><span data-translate=\\\"carleon_motion_refresh\\\"></span> <i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i></button></div><div class=\\\"col-xs-4 controls\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"$ctrl.openStream()\\\"><span data-translate=\\\"carleon_motion_stream_open\\\"></span> <i class=\\\"fa fa-video-camera\\\" aria-hidden=\\\"true\\\"></i></button></div></div><hr><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.selectedFileList\\\"><div class=\\\"col-xs-3\\\" data-ng-repeat=\\\"image in $ctrl.images track by $index\\\"><a href=\\\"\\\" data-ng-click=\\\"$ctrl.openPopupImage($ctrl.images, $index)\\\" alt=\\\"{{image.title}}\\\"><img data-http-src=\\\"{{image.thumb}}\\\" title=\\\"{{image.title}}\\\" class=\\\"img-responsive\\\"></a> <span class=\\\"small text-center\\\" data-ng-bind=\\\"image.title\\\"></span></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"!!$ctrl.selectedFileList\\\"><div class=\\\"col-xs-5\\\"><button type=\\\"button\\\" class=\\\"btn pull-right\\\" data-ng-click=\\\"$ctrl.previousList()\\\" data-ng-if=\\\"$ctrl.canPrevious()\\\"><i class=\\\"fa fa-arrow-left\\\" aria-hidden=\\\"true\\\"></i></button></div><div class=\\\"col-xs-2 text-center\\\"><span data-ng-bind=\\\"$ctrl.offset\\\"></span></div><div class=\\\"col-xs-5\\\"><button type=\\\"button\\\" class=\\\"btn pull-left\\\" data-ng-click=\\\"$ctrl.nextList()\\\" data-ng-if=\\\"$ctrl.canNext()\\\"><i class=\\\"fa fa-arrow-right\\\" aria-hidden=\\\"true\\\"></i></button></div></div></div>\");\n$templateCache.put(\"components/container/container.template.html\",\"<div data-ng-class=\\\"{\\'sag-container\\': !$ctrl.dashboard, \\'sag-container-dashboard\\': ($ctrl.dashboard && $ctrl.element.type !== \\'script\\')}\\\"><div class=\\\"row\\\"><div class=\\\"sag-container-header-menu col-xs-2\\\" data-ng-if=\\\"(!!$ctrl.menu && !$ctrl.dashboard) || $ctrl.dashboard && $ctrl.sagParams.adminMode\\\" data-uib-dropdown=\\\"\\\"><button class=\\\"btn btn-primary text-left\\\" type=\\\"button\\\" data-uib-dropdown-toggle=\\\"\\\" data-ng-click=\\\"\\\"><i data-ng-class=\\\"{\\'fa fa-{{$ctrl.icon}} fa-fw\\': !!$ctrl.icon, \\'fa fa-bars\\': !$ctrl.icon}\\\" aria-hidden=\\\"true\\\"></i></button><ul data-uib-dropdown-menu=\\\"\\\"><li data-ng-repeat=\\\"menuItem in $ctrl.menu\\\" data-ng-if=\\\"menuItem.name !== \\'monitor\\' || $ctrl.element.monitored\\\"><a href=\\\"\\\" data-ng-click=\\\"$ctrl.menuSelect(menuItem, $ctrl.element)\\\" data-ng-bind=\\\"menuItem.display\\\"></a></li></ul></div><div data-ng-if=\\\"$ctrl.element.type !== \\'script\\'\\\" class=\\\"sag-container-header-title col-xs-10\\\" data-ng-class=\\\"{\\'sag-container-header-title-dashboard\\': $ctrl.dashboard}\\\"><i data-ng-class=\\\"{\\'fa fa-{{$ctrl.icon}}\\': !!$ctrl.icon}\\\" aria-hidden=\\\"true\\\" data-ng-if=\\\"$ctrl.dashboard\\\"></i> <span data-toggle=\\\"tooltip\\\" data-ng-attr-title=\\\"{{$ctrl.title + \\'\\\\n\\' + $ctrl.element.description}}\\\"><span data-ng-bind=\\\"$ctrl.title\\\" class=\\\"text-center\\\"></span></span></div></div><div data-ng-transclude=\\\"\\\" class=\\\"sag-container-element\\\"></div><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><span data-ng-repeat=\\\"script in $ctrl.scripts\\\" class=\\\"script-small\\\"><button type=\\\"button\\\" class=\\\"btn btn-xs btn-primary\\\" data-ng-bind=\\\"script.name\\\" data-ng-click=\\\"$ctrl.runScript(script)\\\"></button></span></div></div></div>\");\n$templateCache.put(\"components/dimmer/dimmer.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"dimmer_update_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"dimmer_update_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"dimmerDisplay\\\" id=\\\"dimmerDisplay\\\" data-ng-model=\\\"DimmersModalCtrl.dimmer.newDisplay\\\" class=\\\"modal-input-text form-control\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"dimmer_update_enabled\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"DimmersModalCtrl.dimmer.enabled\\\"></div></div><div class=\\\"row\\\"><hr></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"dimmer_update_monitor\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"DimmersModalCtrl.dimmer.monitored\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"DimmersModalCtrl.dimmer.monitored\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"dimmer_update_monitor_every\\\"></span><div class=\\\"col-xs-6 controls\\\"><select id=\\\"bddAddUserGrant\\\" class=\\\"form-control\\\" data-ng-model=\\\"DimmersModalCtrl.dimmer.monitored_every\\\" data-ng-options=\\\"monitorEvery.value as DimmersModalCtrl.tr(monitorEvery.label) for monitorEvery in DimmersModalCtrl.monitorEveryEnum\\\"></select></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"DimmersModalCtrl.saveDimmer()\\\" data-translate=\\\"dimmer_btn_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"DimmersModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"dimmer_btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/dimmer/dimmer.template.html\",\"<div data-ng-if=\\\"$ctrl.element.enabled || $ctrl.adminMode\\\"><div class=\\\"text-center\\\" data-ng-class=\\\"{\\'text-italic\\': $ctrl.adminMode}\\\"><div class=\\\"ring\\\"><div class=\\\"quarter quarter1\\\" data-ng-click=\\\"$ctrl.setDimmer(100)\\\" data-ng-class=\\\"{\\'quarter-off\\': $ctrl.element.value <= 75, \\'quarter-almost-on\\': $ctrl.element.value < 100 && $ctrl.element.value > 75, \\'quarter-on\\': $ctrl.element.value === 100}\\\"><span class=\\\"quarter-value\\\">100%</span></div><div class=\\\"quarter quarter2\\\" data-ng-click=\\\"$ctrl.setDimmer(25)\\\" data-ng-class=\\\"{\\'quarter-off\\': $ctrl.element.value === 0, \\'quarter-almost-on\\': $ctrl.element.value < 25 && $ctrl.element.value > 0, \\'quarter-on\\': $ctrl.element.value >= 25}\\\"><span class=\\\"quarter-value\\\">25%</span></div><div class=\\\"quarter quarter3\\\" data-ng-click=\\\"$ctrl.setDimmer(75)\\\" data-ng-class=\\\"{\\'quarter-off\\': $ctrl.element.value <= 50, \\'quarter-almost-on\\': $ctrl.element.value < 75 && $ctrl.element.value > 50, \\'quarter-on\\': $ctrl.element.value >= 75}\\\"><span class=\\\"quarter-value\\\"><br>75%</span></div><div class=\\\"quarter quarter4\\\" data-ng-click=\\\"$ctrl.setDimmer(50)\\\" data-ng-class=\\\"{\\'quarter-off\\': $ctrl.element.value <= 25, \\'quarter-almost-on\\': $ctrl.element.value < 50 && $ctrl.element.value > 25, \\'quarter-on\\': $ctrl.element.value >= 50}\\\"><span class=\\\"quarter-value\\\"><br>50%</span></div><div class=\\\"cutout\\\"><div class=\\\"ring-value\\\" data-ng-bind=\\\"$ctrl.Dimmervalue()\\\"></div></div></div><hr class=\\\"dimmer-hr\\\"><div class=\\\"clearfix input-group\\\"><span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.addDimmer(-1)\\\"><i class=\\\"fa fa-minus\\\"></i></button></span> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" data-ng-click=\\\"$ctrl.setDimmer(0)\\\" class=\\\"btn btn-default\\\"><i class=\\\"fa fa-power-off\\\" aria-hidden=\\\"true\\\"></i></button></span> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"$ctrl.addDimmer(1)\\\"><i class=\\\"fa fa-plus\\\"></i></button></span></div></div></div>\");\n$templateCache.put(\"components/event/event.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"event_modal_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\" data-ng-class=\\\"{\\'has-error\\': !!EventModalCtrl.error.nameInvalid}\\\"><label for=\\\"eventName\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_name\\\"></label><div class=\\\"col-xs-7 controls\\\"><input type=\\\"text\\\" name=\\\"eventName\\\" id=\\\"eventName\\\" data-ng-model=\\\"EventModalCtrl.event.name\\\" class=\\\"modal-input-text form-control\\\" size=\\\"16\\\" maxlength=\\\"64\\\" data-ng-disabled=\\\"!EventModalCtrl.add\\\" placeholder=\\\"{{\\'event_name_placeholder\\' | translate}}\\\"></div></div><div class=\\\"row control-group\\\"><label for=\\\"eventDecription\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_description\\\"></label><div class=\\\"col-xs-7 controls\\\"><input type=\\\"text\\\" name=\\\"eventDecription\\\" id=\\\"eventDecription\\\" data-ng-model=\\\"EventModalCtrl.event.description\\\" class=\\\"modal-input-text form-control\\\" size=\\\"16\\\" maxlength=\\\"128\\\" placeholder=\\\"{{\\'event_description_placeholder\\' | translate}}\\\"></div></div><div class=\\\"row control-group\\\"><label for=\\\"eventEnabled\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_enabled\\\"></label><div class=\\\"col-xs-7 controls\\\"><input type=\\\"checkbox\\\" id=\\\"eventEnabled\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.event.enabled\\\"></div></div><hr><div class=\\\"row control-group\\\"><label for=\\\"eventType\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_type_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"eventType\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.eventType\\\"><option value=\\\"scheduler\\\" data-translate=\\\"event_type_scheduler\\\"></option><option value=\\\"trigger\\\" data-translate=\\\"event_type_trigger\\\"></option></select></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'scheduler\\'\\\"><label for=\\\"schedulerDate\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_scheduler_date_select\\\"></label><div class=\\\"col-xs-7\\\"><div class=\\\"input-group\\\"><input type=\\\"text\\\" id=\\\"schedulerDate\\\" class=\\\"form-control\\\" data-datetime-picker=\\\"yyyy/MM/dd HH:mm\\\" data-ng-model=\\\"EventModalCtrl.myDate\\\" data-is-open=\\\"EventModalCtrl.isOpen\\\" data-button-bar=\\\"EventModalCtrl.datePickerOptions.buttonBar\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"EventModalCtrl.openCalendar($event, prop)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></div></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'scheduler\\'\\\"><label for=\\\"schedulerRepeat\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_scheduler_repeat\\\"></label><div class=\\\"col-xs-7 controls\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeat\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatSwitch\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'scheduler\\' && EventModalCtrl.scheduler.repeatSwitch\\\"><label for=\\\"schedulerRepeatEvery\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_scheduler_repeat_every\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"schedulerRepeatEvery\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeat\\\" data-ng-options=\\\"repeatEvery.value*1 as EventModalCtrl.tr(repeatEvery.label) for repeatEvery in EventModalCtrl.schedulerRepeatEveryEnum\\\"></select></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'scheduler\\' && EventModalCtrl.scheduler.repeatSwitch && EventModalCtrl.scheduler.repeat !== 3\\\"><label for=\\\"schedulerRepeatEveryValue\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_scheduler_repeat_every_value\\\"></label><div class=\\\"col-xs-7 controls\\\"><input type=\\\"number\\\" id=\\\"schedulerRepeatEveryValue\\\" min=\\\"0\\\" step=\\\"1\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeat_value\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'scheduler\\' && EventModalCtrl.scheduler.repeatSwitch && EventModalCtrl.scheduler.repeat === 3\\\"><label for=\\\"schedulerRepeatEveryDayOfWeek\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_scheduler_repeat_every_value\\\"></label><div class=\\\"col-xs-7 controls\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatMonday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_monday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatMonday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.monday\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatTuesday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_tuesday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatTuesday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.tuesday\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatWednesday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_wednesday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatWednesday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.wednesday\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatThursday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_thursday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatThursday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.thursday\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatFriday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_friday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatFriday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.friday\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatSaturday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_saturday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatSaturday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.saturday\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"schedulerRepeatSunday\\\" data-translate=\\\"event_scheduler_repeat_every_day_of_week_sunday\\\"></label></div><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRepeatSunday\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.repeatEveryDayOfWeek.sunday\\\"></div></div></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'scheduler\\' && !EventModalCtrl.scheduler.repeatSwitch\\\"><label for=\\\"schedulerRemoveAfter\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_scheduler_remove_after\\\"></label><div class=\\\"col-xs-7 controls\\\"><input type=\\\"checkbox\\\" id=\\\"schedulerRemoveAfter\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.scheduler.remove_after\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"EventModalCtrl.eventType === \\'trigger\\'\\\"><label for=\\\"triggerSource\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_trigger_source\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"triggerSource\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.trigger\\\" data-ng-options=\\\"element as element.display for element in EventModalCtrl.globalTriggerElementList track by EventModalCtrl.trackTriggerElement(element)\\\"></select></div><div class=\\\"control-group\\\"><label for=\\\"newTriggerMessage\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_trigger_message\\\"></label><div class=\\\"col-xs-5 controls\\\"></div><div class=\\\"col-xs-3\\\"><select id=\\\"newTriggerMessageOperator\\\" name=\\\"newTriggerMessageOperator\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.event.message_match\\\"><option value=\\\"0\\\"></option><option value=\\\"1\\\" data-translate=\\\"message_match_equal\\\"></option><option value=\\\"2\\\" data-translate=\\\"message_match_different\\\"></option><option value=\\\"3\\\" data-translate=\\\"message_match_contains\\\"></option><option value=\\\"4\\\" data-translate=\\\"message_match_not_contains\\\"></option><option value=\\\"5\\\" data-translate=\\\"message_match_empty\\\"></option><option value=\\\"6\\\" data-translate=\\\"message_match_not_empty\\\"></option></select></div><div class=\\\"col-xs-4\\\" data-ng-if=\\\"EventModalCtrl.event.message_match <= 4\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"newTriggerMessageValue\\\" id=\\\"newTriggerMessageValue\\\" data-ng-model=\\\"EventModalCtrl.event.message\\\" placeholder=\\\"{{\\'event_message_match_placeholder\\' | translate}}\\\"></div></div></div><hr><div class=\\\"row control-group\\\"><label class=\\\"col-xs-5\\\" data-translate=\\\"event_script_list\\\"></label><div class=\\\"col-xs-7\\\"><div class=\\\"row\\\" data-ng-repeat=\\\"script in EventModalCtrl.scriptList track by $index\\\"><strong data-ng-bind=\\\"script.name\\\"></strong> <input type=\\\"checkbox\\\" id=\\\"scriptEnabled\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"script.enabled\\\"> <button type=\\\"button\\\" class=\\\"btn btn-default pull-right\\\" data-ng-click=\\\"EventModalCtrl.removeScript($index)\\\"><i class=\\\"fa fa-trash\\\"></i></button></div></div></div><div class=\\\"row control-group\\\"><label for=\\\"eventScriptSelect\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_script_select\\\"></label><div class=\\\"col-xs-7\\\"><select id=\\\"eventScriptSelect\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.newScript\\\" data-ng-options=\\\"script.name for script in EventModalCtrl.globalScriptList\\\"></select></div></div><div class=\\\"row control-group\\\"><label for=\\\"eventScriptAdd\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_add\\\"></label><div class=\\\"col-xs-7\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"EventModalCtrl.addScript(EventModalCtrl.newScript)\\\"><i class=\\\"fa fa-plus\\\"></i></button></div></div><hr><div class=\\\"row control-group\\\"><label class=\\\"col-xs-5\\\" data-translate=\\\"event_condition_list\\\"></label><div class=\\\"col-xs-7\\\"><div class=\\\"row\\\" data-ng-repeat=\\\"condition in EventModalCtrl.conditionList track by $index\\\"><strong data-ng-bind=\\\"EventModalCtrl.displayCondition(condition)\\\"></strong> <button type=\\\"button\\\" class=\\\"btn btn-default pull-right\\\" data-ng-click=\\\"EventModalCtrl.removeCondition($index)\\\"><i class=\\\"fa fa-trash\\\"></i></button></div></div></div><div class=\\\"row control-group\\\"><label for=\\\"eventScriptAdd\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_condition_select\\\"></label><div class=\\\"col-xs-7\\\"><select id=\\\"eventconditionAdd\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.newConditionType\\\" data-ng-options=\\\"condition as EventModalCtrl.tr(condition.label) for condition in EventModalCtrl.globalElementList\\\"></select></div></div><div class=\\\"row control-group\\\"><div data-ng-if=\\\"EventModalCtrl.newConditionType.name === \\'switch\\'\\\"><div data-ng-class=\\\"{\\'has-error\\': !EventModalCtrl.tmpElement}\\\"><label for=\\\"newConditionSwitch\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_switch_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"newConditionSwitch\\\" name=\\\"newConditionSwitch\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.tmpElement\\\" data-ng-change=\\\"EventModalCtrl.setConditionBenoicElement()\\\" data-ng-options=\\\"switch as switch.display for switch in EventModalCtrl.benoicElements.switches track by EventModalCtrl.trackBenoicElement(switch, \\'switch\\')\\\"></select></div></div><div><label for=\\\"newConditionSwitchValue\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_switch_value\\\"></label><div class=\\\"col-xs-7\\\"><input type=\\\"checkbox\\\" id=\\\"newConditionSwitchValue\\\" name=\\\"newConditionSwitchValue\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\" data-ng-checked=\\\"false\\\" data-ng-true-value=\\\"1\\\" data-ng-false-value=\\\"0\\\"></div></div></div><div data-ng-if=\\\"EventModalCtrl.newConditionType.name === \\'dimmer\\'\\\"><div class=\\\"control-group\\\" data-ng-class=\\\"{\\'has-error\\': !EventModalCtrl.tmpElement}\\\"><label for=\\\"newConditionDimmer\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_dimmer_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"newConditionDimmer\\\" name=\\\"newConditionDimmer\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.tmpElement\\\" data-ng-change=\\\"EventModalCtrl.setConditionBenoicElement()\\\" data-ng-options=\\\"dimmer as dimmer.display for dimmer in EventModalCtrl.benoicElements.dimmers track by EventModalCtrl.trackBenoicElement(dimmer, \\'dimmer\\')\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"newConditionDimmerValue\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_dimmer_value\\\"></label><div class=\\\"col-xs-3\\\"><select id=\\\"newConditionOperator\\\" name=\\\"newConditionOperator\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.newCondition.condition\\\"><option value=\\\"==\\\">==</option><option value=\\\"<\\\">&lt;</option><option value=\\\"<=\\\">&lt;=</option><option value=\\\">\\\">&gt;</option><option value=\\\">=\\\">&gt;=</option></select></div><div class=\\\"col-xs-4\\\"><input id=\\\"newConditionDimmerValue\\\" class=\\\"form-control\\\" name=\\\"newConditionDimmerValue\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" size=\\\"3\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\"></div></div></div><div data-ng-if=\\\"EventModalCtrl.newConditionType.name === \\'heater\\'\\\"><div class=\\\"control-group\\\"><label for=\\\"newConditionHeater\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_heater_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"newConditionHeater\\\" name=\\\"newConditionHeater\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.tmpElement\\\" data-ng-change=\\\"EventModalCtrl.setConditionBenoicElement()\\\" data-ng-options=\\\"heater as heater.display for heater in EventModalCtrl.benoicElements.heaters track by EventModalCtrl.trackBenoicElement(heater, \\'heater\\')\\\"></select></div></div><div><label for=\\\"newConditionHeaterValue\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_heater_command\\\"></label><div class=\\\"col-xs-3\\\"><select id=\\\"newConditionOperator\\\" name=\\\"newConditionOperator\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"!!EventModalCtrl.newCondition.commandMode\\\" data-ng-model=\\\"EventModalCtrl.newCondition.condition\\\"><option value=\\\"==\\\">==</option><option value=\\\"<\\\"><</option><option value=\\\"<=\\\"><=< option=\\\"\\\"><option value=\\\">\\\">&gt;</option><option value=\\\">=\\\">&gt;=</option></=<></option></select></div><div class=\\\"col-xs-4\\\"><input id=\\\"newConditionHeaterValue\\\" class=\\\"form-control\\\" name=\\\"newConditionHeaterValue\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" data-ng-disabled=\\\"!!EventModalCtrl.newCondition.commandMode\\\" data-ng-model=\\\"EventModalCtrl.newCondition.commandHeat\\\"></div></div><div class=\\\"control-group\\\"><div class=\\\"col-xs-12 text-center\\\"><label data-translate=\\\"condition_or\\\"></label></div></div><div class=\\\"control-group\\\"><label for=\\\"newConditionHeaterMode\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_heater_mode_title\\\"></label><div class=\\\"col-xs-3\\\"><select id=\\\"newConditionOperator\\\" name=\\\"newConditionOperator\\\" class=\\\"form-control\\\" data-ng-disabled=\\\"!!EventModalCtrl.newCondition.commandHeat\\\" data-ng-model=\\\"EventModalCtrl.newCondition.condition\\\"><option value=\\\"==\\\">=</option><option value=\\\"!=\\\">!=</option></select></div><div class=\\\"col-xs-4 controls\\\"><select class=\\\"form-control\\\" id=\\\"newConditionHeaterMode\\\" name=\\\"newConditionHeaterMode\\\" data-ng-disabled=\\\"!!EventModalCtrl.newCondition.commandHeat\\\" data-ng-model=\\\"EventModalCtrl.newCondition.commandMode\\\" data-ng-options=\\\"mode as EventModalCtrl.heaterModeDisplay(mode) for mode in EventModalCtrl.tmpElement.availableModes\\\"><option value=\\\"\\\"></option></select></div></div></div><div data-ng-if=\\\"EventModalCtrl.newConditionType.name === \\'sensor\\'\\\"><div class=\\\"control-group\\\" data-ng-class=\\\"{\\'has-error\\': !EventModalCtrl.tmpElement}\\\"><label for=\\\"newConditionSensor\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_sensor_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"newConditionSensor\\\" name=\\\"newConditionSensor\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.tmpElement\\\" data-ng-change=\\\"EventModalCtrl.setConditionBenoicElement()\\\" data-ng-options=\\\"sensor as sensor.display for sensor in EventModalCtrl.benoicElements.sensors track by EventModalCtrl.trackBenoicElement(sensor, \\'sensor\\')\\\"></select></div></div><div class=\\\"form-group\\\"><label for=\\\"newConditionSensorValue\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_sensor_value\\\"></label><div class=\\\"col-xs-3\\\"><select id=\\\"newConditionOperator\\\" name=\\\"newConditionOperator\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.newCondition.condition\\\"><option value=\\\"==\\\">==</option><option value=\\\"<\\\">&lt;</option><option value=\\\"<=\\\">&lt;=</option><option value=\\\">\\\">&gt;</option><option value=\\\">=\\\">&gt;=</option></select></div><div class=\\\"col-xs-4\\\"><input id=\\\"newConditionSensorValue\\\" class=\\\"form-control\\\" name=\\\"newConditionSensorValue\\\" type=\\\"number\\\" min=\\\"0\\\" max=\\\"100\\\" size=\\\"3\\\" step=\\\".1\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\"></div></div></div><div data-ng-if=\\\"EventModalCtrl.newConditionType.submodule === \\'carleon\\'\\\"><div class=\\\"control-group\\\" data-ng-class=\\\"{\\'has-error\\': !EventModalCtrl.tmpElement}\\\"><label for=\\\"newConditionCarleonElement\\\" class=\\\"col-xs-5\\\" data-translate=\\\"script_element_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"newConditionCarleonElement\\\" name=\\\"newConditionCarleonElement\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.tmpElement\\\" data-ng-change=\\\"EventModalCtrl.setActionCarleonElement()\\\" data-ng-options=\\\"element as element.name for element in EventModalCtrl.carleonConditionElementsList[EventModalCtrl.newConditionType.name] track by EventModalCtrl.trackCarleonElement(element, EventModalCtrl.newConditionType.name)\\\"></select></div></div><div class=\\\"control-group\\\" data-ng-repeat=\\\"parameter in EventModalCtrl.carleonConditionCommandsParameters[EventModalCtrl.newConditionType.name]\\\"><label for=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" class=\\\"col-xs-5\\\" data-ng-bind=\\\"parameter.title\\\"></label><div class=\\\"col-xs-7 controls\\\" data-ng-class=\\\"{\\'has-error\\': (parameter.required && !EventModalCtrl.newCondition.parameters[parameter.name] && EventModalCtrl.newCondition.parameters[parameter.name] !== 0)}\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" id=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"parameter.type === \\'string\\'\\\" data-ng-model=\\\"EventModalCtrl.newCondition.parameters[parameter.name]\\\"> <input type=\\\"number\\\" class=\\\"form-control\\\" name=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" id=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"parameter.type === \\'integer\\'\\\" data-ng-model=\\\"EventModalCtrl.newCondition.parameters[parameter.name]\\\"> <input type=\\\"number\\\" class=\\\"form-control\\\" name=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" id=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"parameter.type === \\'real\\'\\\" step=\\\".01\\\" data-ng-model=\\\"EventModalCtrl.newCondition.parameters[parameter.name]\\\"> <input type=\\\"checkbox\\\" id=\\\"newConditionSwitchValue\\\" name=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.newCondition.parameters[parameter.name]\\\" data-ng-checked=\\\"false\\\" data-ng-if=\\\"parameter.type === \\'boolean\\'\\\"></div></div><div class=\\\"control-group\\\"><label for=\\\"newConditionCarleonParameter\\\" class=\\\"col-xs-5\\\" data-translate=\\\"condition_result_select\\\"></label><div class=\\\"col-xs-7 controls\\\"><select id=\\\"newConditionCarleonParameter\\\" name=\\\"newConditionCarleonParameter\\\" class=\\\"form-control\\\" data-ng-init=\\\"EventModalCtrl.tmpResult = EventModalCtrl.carleonConditionResultParameters[EventModalCtrl.newConditionType.name][0]\\\" data-ng-model=\\\"EventModalCtrl.tmpResult\\\" data-ng-options=\\\"parameter as EventModalCtrl.tr(parameter.title) for parameter in EventModalCtrl.carleonConditionResultParameters[EventModalCtrl.newConditionType.name]\\\"></select></div></div><div class=\\\"control-group\\\" data-ng-if=\\\"EventModalCtrl.tmpResult\\\"><label for=\\\"{{EventModalCtrl.tmpResult.title}}\\\" class=\\\"col-xs-5\\\" data-translate=\\\"scheduler_condition_value\\\"></label><div class=\\\"col-xs-5 controls\\\"></div><div class=\\\"col-xs-3\\\"><select id=\\\"{{EventModalCtrl.tmpResult.title}}\\\" name=\\\"{{EventModalCtrl.tmpResult.title}}\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.newCondition.condition\\\" data-ng-if=\\\"EventModalCtrl.tmpResult.type === \\'real\\' || EventModalCtrl.tmpResult.type === \\'integer\\'\\\"><option value=\\\"==\\\">==</option><option value=\\\"<\\\">&lt;</option><option value=\\\"<=\\\">&lt;=</option><option value=\\\">\\\">&gt;</option><option value=\\\">=\\\">&gt;=</option></select><select id=\\\"newConditionOperator\\\" name=\\\"newConditionOperator\\\" class=\\\"form-control\\\" data-ng-model=\\\"EventModalCtrl.newCondition.condition\\\" data-ng-if=\\\"EventModalCtrl.tmpResult.type === \\'string\\'\\\"><option value=\\\"==\\\">==</option><option value=\\\"!=\\\">!=</option><option value=\\\"contains\\\" data-translate=\\\"condition_contains\\\"></option><option value=\\\"not contains\\\" data-translate=\\\"condition_not_contains\\\"></option></select><input type=\\\"checkbox\\\" id=\\\"{{EventModalCtrl.newConditionType.name}}\\\" name=\\\"{{EventModalCtrl.newConditionType.name}\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\" data-ng-checked=\\\"false\\\" data-ng-if=\\\"EventModalCtrl.tmpResult.type === \\'boolean\\'\\\"></div><div class=\\\"col-xs-4\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"{{EventModalCtrl.newConditionType.name}}\\\" id=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"EventModalCtrl.tmpResult.type === \\'string\\'\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\"> <input type=\\\"number\\\" class=\\\"form-control\\\" name=\\\"{{EventModalCtrl.newConditionType.name}}\\\" id=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"EventModalCtrl.tmpResult.type === \\'integer\\'\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\"> <input type=\\\"number\\\" class=\\\"form-control\\\" name=\\\"{{EventModalCtrl.newConditionType.name}}\\\" id=\\\"{{EventModalCtrl.newConditionType.name + \\'$\\' + parameter.name}}\\\" data-ng-if=\\\"EventModalCtrl.tmpResult.type === \\'real\\'\\\" step=\\\".01\\\" data-ng-model=\\\"EventModalCtrl.newCondition.value\\\"></div></div></div></div><div class=\\\"row control-group\\\"><label for=\\\"eventScriptAdd\\\" class=\\\"col-xs-5\\\" data-translate=\\\"event_add\\\"></label><div class=\\\"col-xs-7\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-ng-click=\\\"EventModalCtrl.addCondition()\\\" data-ng-disabled=\\\"!EventModalCtrl.isConditionValid()\\\"><i class=\\\"fa fa-plus\\\"></i></button></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"EventModalCtrl.save()\\\" data-translate=\\\"btn_ok\\\" data-ng-disabled=\\\"!EventModalCtrl.isEventValid()\\\" data-uib-tooltip=\\\"{{EventModalCtrl.error.message}}\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"EventModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/event/scheduler.template.html\",\"<div class=\\\"text-center\\\"><div class=\\\"row\\\"><div class=\\\"span6\\\"><label for=\\\"schedulerEnabled\\\" data-translate=\\\"scheduler_enable_button\\\"></label> <input type=\\\"checkbox\\\" id=\\\"schedulerEnabled\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-change=\\\"$ctrl.enableScheduler()\\\" data-ng-model=\\\"$ctrl.element.enabled\\\"></div></div><div class=\\\"row\\\"><div class=\\\"span6\\\"><label data-translate=\\\"scheduler_next_time\\\"></label></div><div class=\\\"span6\\\"><span data-ng-bind=\\\"$ctrl.element.next_time * 1000 | date:\\'yyyy/MM/dd HH:mm\\'\\\" data-ng-if=\\\"$ctrl.element.enabled\\\"></span> <span data-translate=\\\"scheduler_disabled\\\" data-ng-if=\\\"!$ctrl.element.enabled\\\"></span></div></div></div>\");\n$templateCache.put(\"components/event/trigger.template.html\",\"<div class=\\\"text-center\\\"><div class=\\\"row\\\"><div class=\\\"span6\\\"><label for=\\\"schedulerEnabled\\\" data-translate=\\\"scheduler_enable_button\\\"></label> <input type=\\\"checkbox\\\" id=\\\"schedulerEnabled\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-change=\\\"$ctrl.enableTrigger()\\\" data-ng-model=\\\"$ctrl.element.enabled\\\"></div></div></div>\");\n$templateCache.put(\"components/heater/heater.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"heater_update_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"heater_update_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"heaterDisplay\\\" id=\\\"heaterDisplay\\\" data-ng-model=\\\"HeatersModalCtrl.heater.newDisplay\\\" class=\\\"modal-input-text form-control\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"heater_update_unit\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"heaterUnit\\\" id=\\\"heaterUnit\\\" data-ng-model=\\\"HeatersModalCtrl.heater.options.unit\\\" class=\\\"modal-input-text form-control\\\" placeholder=\\\"{{\\'heater_unit_placeholder\\' | translate}}\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"heater_update_enabled\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" class=\\\"form-control\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"HeatersModalCtrl.heater.enabled\\\"></div></div><div class=\\\"row\\\"><hr></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"heater_update_monitor\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" class=\\\"form-control\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"HeatersModalCtrl.heater.monitored\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"HeatersModalCtrl.heater.monitored\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"heater_update_monitor_every\\\"></span><div class=\\\"col-xs-6 controls\\\"><select id=\\\"bddAddUserGrant\\\" class=\\\"form-control\\\" data-ng-model=\\\"HeatersModalCtrl.heater.monitored_every\\\" data-ng-options=\\\"monitorEvery.value as HeatersModalCtrl.tr(monitorEvery.label) for monitorEvery in HeatersModalCtrl.monitorEveryEnum\\\"></select></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"HeatersModalCtrl.saveHeater()\\\" data-translate=\\\"heater_btn_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"HeatersModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"heater_btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/heater/heater.template.html\",\"<div class=\\\"container-fluid\\\" data-ng-class=\\\"{\\'text-italic\\': $ctrl.adminMode}\\\" data-ng-if=\\\"$ctrl.element.enabled || $ctrl.adminMode\\\"><div class=\\\"text-center row control-group\\\"><span class=\\\"heater-on\\\"><i class=\\\"fa fa-fire\\\" aria-hidden=\\\"true\\\" data-ng-if=\\\"$ctrl.element.value.on\\\"></i></span></div><div class=\\\"row control-group\\\"><div class=\\\"ring control-group\\\"><div class=\\\"quarter quarter-plus-1\\\" data-ng-click=\\\"$ctrl.setHeater(1)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayCommand(1)\\\"></span></div><div class=\\\"quarter quarter-plus-5\\\" data-ng-click=\\\"$ctrl.setHeater(5)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayCommand(5)\\\"></span></div><div class=\\\"quarter quarter-minus-1\\\" data-ng-click=\\\"$ctrl.setHeater(-1)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayCommand(-1)\\\"></span></div><div class=\\\"quarter quarter-minus-5\\\" data-ng-click=\\\"$ctrl.setHeater(-5)\\\"><span class=\\\"quarter-value\\\" data-ng-bind=\\\"$ctrl.displayCommand(-5)\\\"></span></div><div class=\\\"cutout-heater\\\"><div class=\\\"ring-value\\\" data-ng-bind=\\\"$ctrl.displayCommandValue()\\\"></div></div></div></div><hr class=\\\"heater-hr\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-4 controls\\\"><label for=\\\"heaterMode\\\" data-translate=\\\"heater_mode_title\\\"></label></div><div class=\\\"col-xs-8 controls\\\"><select class=\\\"form-control\\\" name=\\\"heaterMode\\\" value=\\\"heaterMode\\\" data-ng-model=\\\"$ctrl.element.value.mode\\\" data-ng-change=\\\"$ctrl.setHeater(null)\\\" data-ng-options=\\\"mode as $ctrl.modeDisplay(mode) for mode in $ctrl.availableModes\\\"></select></div></div></div>\");\n$templateCache.put(\"components/modals/confirm.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">{{ConfirmModalCtrl.title}}</h3></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\" style=\\\"margin: 5px;\\\"><span>{{ConfirmModalCtrl.message}}</span></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"ConfirmModalCtrl.ok()\\\">OK</button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"ConfirmModalCtrl.cancel()\\\">Cancel</button></div></div></div>\");\n$templateCache.put(\"components/modals/edit.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-ng-bind=\\\"EditModalCtrl.title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\" style=\\\"margin: 5px;\\\"><span data-ng-bind=\\\"EditModalCtrl.message\\\"></span></div><div class=\\\"row control-group\\\" style=\\\"margin: 5px;\\\"><div class=\\\"controls\\\"><input type=\\\"text\\\" name=\\\"editInput\\\" id=\\\"editInput\\\" class=\\\"form-control\\\" data-ng-model=\\\"EditModalCtrl.value\\\" placeholder=\\\"{{EditModalCtrl.placeholder}}\\\"></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"EditModalCtrl.ok()\\\" data-translate=\\\"modal_button_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"EditModalCtrl.cancel()\\\" data-translate=\\\"modal_button_cancel\\\"></button></div></div></div>\");\n$templateCache.put(\"components/modals/image.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal_title\\\" data-ng-bind=\\\"ImageModalCtrl.displayTitle()\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-1\\\"></div><div class=\\\"col-xs-10\\\"><img data-ng-src=\\\"{{ImageModalCtrl.src}}\\\" alt=\\\"{{ImageModalCtrl.title}}\\\" class=\\\"img-responsive img-thumbnail\\\"></div><div class=\\\"col-xs-1\\\"></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"ImageModalCtrl.close()\\\" data-translate=\\\"monitor_close\\\"></button></div></div>\");\n$templateCache.put(\"components/modals/monitor.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal_title\\\" data-ng-bind=\\\"MonitorModalCtrl.displayTitle()\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-6\\\"><label for=\\\"monitorSelectDuration\\\" data-translate=\\\"monitor_select_duration\\\"></label></div><div class=\\\"col-xs-6 controls\\\"><select id=\\\"monitorSelectDuration\\\" class=\\\"form-control\\\" data-ng-model=\\\"MonitorModalCtrl.duration\\\" data-ng-change=\\\"MonitorModalCtrl.getMonitor()\\\" data-ng-options=\\\"duration as MonitorModalCtrl.tr(duration.label) for duration in MonitorModalCtrl.durationList track by duration.value\\\"></select></div></div><div class=\\\"row\\\"><data-nvd3 data-options=\\\"MonitorModalCtrl.options\\\" data=\\\"MonitorModalCtrl.data\\\"></data-nvd3></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"MonitorModalCtrl.close()\\\" data-translate=\\\"monitor_close\\\"></button></div></div>\");\n$templateCache.put(\"components/modals/scriptBindElement.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"script_bind_element_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><span data-translat=\\\"script_bind_element_list\\\"></span></div><div class=\\\"row\\\" style=\\\"padding: 5px;\\\"><table data-datatable=\\\"ng\\\" data-dt-options=\\\"ScriptBindElementModalCtrl.options\\\" class=\\\"table table-hover table-striped table-bordered dataTable\\\"><thead><tr><th data-translate=\\\"script_bind_table_select\\\"></th><th data-translate=\\\"script_bind_table_type\\\"></th><th data-translate=\\\"script_bind_table_display\\\"></th></tr></thead><tbody><tr data-ng-repeat=\\\"element in ScriptBindElementModalCtrl.elementList track by $index\\\" data-ng-click=\\\"ScriptBindElementModalCtrl.selectRow($index)\\\" data-ng-class=\\\"{\\'selected\\': element.selected}\\\"><td><input class=\\\"text-center\\\" id=\\\"elementSelect\\\" type=\\\"checkbox\\\" data-ng-model=\\\"ScriptBindElementModalCtrl.tmpCheck[$index]\\\"></td><td data-ng-bind=\\\"element.typeTitle\\\"></td><td data-ng-bind=\\\"element.display\\\"></td></tr></tbody></table></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"ScriptBindElementModalCtrl.ok()\\\" data-translate=\\\"modal_button_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"ScriptBindElementModalCtrl.cancel()\\\" data-translate=\\\"modal_button_cancel\\\"></button></div></div></div>\");\n$templateCache.put(\"components/monitor/monitor.template.html\",\"<div class=\\\"container-fluid\\\"><div class=\\\"row control-group\\\"><div class=\\\"col-xs-5\\\"><label for=\\\"monitorSelectDuration\\\" data-translate=\\\"monitor_select_duration\\\"></label></div><div class=\\\"col-xs-5 controls\\\"><select id=\\\"monitorSelectDuration\\\" class=\\\"form-control\\\" data-ng-model=\\\"$ctrl.duration\\\" data-ng-change=\\\"$ctrl.displayMonitor()\\\" data-ng-options=\\\"duration as $ctrl.tr(duration.label) for duration in $ctrl.durationList track by duration.value\\\"></select></div></div><div class=\\\"row control-group\\\"><div class=\\\"col-xs-1\\\"></div><div class=\\\"col-xs-2\\\"><label for=\\\"monitorNewElement\\\" data-translate=\\\"monitor_new_element\\\"></label></div><div class=\\\"col-xs-3 controls\\\"><select id=\\\"monitorNewElement\\\" class=\\\"form-control\\\" data-ng-model=\\\"$ctrl.newElement\\\" data-ng-options=\\\"element.display for element in $ctrl.elementListDisplayed\\\"></select></div><div class=\\\"col-xs-3 controls\\\"><button type=\\\"button\\\" data-ng-click=\\\"$ctrl.addElement()\\\" class=\\\"btn btn-primary\\\" data-ng-disabled=\\\"!$ctrl.newElementValid()\\\" data-translate=\\\"monitor_new_element_button\\\"></button></div></div><div class=\\\"row text-center\\\"><div class=\\\"col-xs-12\\\"><data-nvd3 data-options=\\\"$ctrl.options\\\" data=\\\"$ctrl.data\\\"></data-nvd3></div></div><div class=\\\"row text-center\\\"><span data-ng-repeat=\\\"serie in $ctrl.element.elements\\\" style=\\\"margin: 5px; color: white;\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" data-ng-click=\\\"$ctrl.removeSerie(serie)\\\" data-ng-disabled=\\\"$ctrl.element.elements.length <= 1\\\"><i class=\\\"fa fa-trash-o\\\" aria-hidden=\\\"true\\\"></i> <span data-ng-bind=\\\"serie.display\\\"></span></button></span></div></div>\");\n$templateCache.put(\"components/sensor/sensor.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"sensor_update_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"sensor_update_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"sensorDisplay\\\" id=\\\"sensorDisplay\\\" data-ng-model=\\\"SensorsModalCtrl.sensor.newDisplay\\\" class=\\\"modal-input-text form-control\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"sensor_update_unit\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"sensorUnit\\\" id=\\\"sensorUnit\\\" data-ng-model=\\\"SensorsModalCtrl.sensor.options.unit\\\" class=\\\"modal-input-text form-control\\\" placeholder=\\\"{{\\'sensor_unit_placeholder\\' | translate}}\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"sensor_update_enabled\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" class=\\\"form-control\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"SensorsModalCtrl.sensor.enabled\\\"></div></div><div class=\\\"row\\\"><hr></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"sensor_update_monitor\\\"></span><div class=\\\"col-xs-6\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" class=\\\"form-control\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"SensorsModalCtrl.sensor.monitored\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"SensorsModalCtrl.sensor.monitored\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"sensor_update_monitor_every\\\"></span><div class=\\\"col-xs-6\\\"><select id=\\\"bddAddUserGrant\\\" class=\\\"form-control\\\" data-ng-model=\\\"SensorsModalCtrl.sensor.monitored_every\\\" data-ng-options=\\\"monitorEvery.value as SensorsModalCtrl.tr(monitorEvery.label) for monitorEvery in SensorsModalCtrl.monitorEveryEnum\\\"></select></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"SensorsModalCtrl.saveSensor()\\\" data-translate=\\\"sensor_btn_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"SensorsModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"sensor_btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/sensor/sensor.template.html\",\"<div data-ng-if=\\\"$ctrl.element.enabled || $ctrl.adminMode\\\"><div class=\\\"text-center\\\" data-ng-class=\\\"{\\'text-italic\\': $ctrl.adminMode}\\\"><div data-ng-bind=\\\"$ctrl.elementDisplayValue()\\\"></div></div></div>\");\n$templateCache.put(\"components/switch/switch.modal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\" data-translate=\\\"switch_update_title\\\"></h3></div><div class=\\\"modal-body\\\"><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"switch_update_name\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"text\\\" name=\\\"switcherDisplay\\\" id=\\\"switcherDisplay\\\" data-ng-model=\\\"SwitchesModalCtrl.switcher.newDisplay\\\" class=\\\"modal-input-text form-control\\\"></div></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"switch_update_enabled\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"SwitchesModalCtrl.switcher.enabled\\\"></div></div><div class=\\\"row\\\"><hr></div><div class=\\\"row control-group\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"switch_update_monitor\\\"></span><div class=\\\"col-xs-6 controls\\\"><input type=\\\"checkbox\\\" class=\\\"form-control\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"SwitchesModalCtrl.switcher.monitored\\\"></div></div><div class=\\\"row control-group\\\" data-ng-if=\\\"SwitchesModalCtrl.switcher.monitored\\\"><span class=\\\"col-xs-6\\\" data-translate=\\\"switch_update_monitor_every\\\"></span><div class=\\\"col-xs-6 controls\\\"><select id=\\\"bddAddUserGrant\\\" class=\\\"form-control\\\" data-ng-model=\\\"SwitchesModalCtrl.switcher.monitored_every\\\" data-ng-options=\\\"monitorEvery.value as SwitchesModalCtrl.tr(monitorEvery.label) for monitorEvery in SwitchesModalCtrl.monitorEveryEnum\\\"></select></div></div></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" data-ng-click=\\\"SwitchesModalCtrl.saveSwitcher()\\\" data-translate=\\\"switch_btn_ok\\\"></button> <button class=\\\"btn btn-warning\\\" type=\\\"button\\\" data-ng-click=\\\"SwitchesModalCtrl.cancel()\\\" data-dismiss=\\\"modal\\\" data-translate=\\\"switch_btn_cancel\\\"></button></div></div>\");\n$templateCache.put(\"components/switch/switch.template.html\",\"<div data-ng-if=\\\"$ctrl.element.enabled || $ctrl.adminMode\\\"><div class=\\\"text-center\\\" data-ng-class=\\\"{\\'text-italic\\': $ctrl.adminMode}\\\"><input type=\\\"checkbox\\\" data-bs-switch=\\\"\\\" data-toggle=\\\"toggle\\\" data-switch-size=\\\"mini\\\" data-ng-model=\\\"$ctrl.element.valueChecked\\\" data-ng-change=\\\"$ctrl.toggleSwitcher()\\\"></div></div>\");}]);"],"sourceRoot":"/source/"}